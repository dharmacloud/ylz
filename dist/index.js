var app=function(){"use strict";function n(){}const t=n=>n;function e(n,t){for(const e in t)n[e]=t[e];return n}function s(n){return n()}function i(){return Object.create(null)}function l(n){n.forEach(s)}function r(n){return"function"==typeof n}function o(n,t){return n!=n?t==t:n!==t||n&&"object"==typeof n||"function"==typeof n}let c;function a(n,t){return n===t||(c||(c=document.createElement("a")),c.href=t,n===c.href)}function d(t,...e){if(null==t){for(const n of e)n(void 0);return n}const s=t.subscribe(...e);return s.unsubscribe?()=>s.unsubscribe():s}function u(n){let t;return d(n,(n=>t=n))(),t}function f(n,t,e){n.$$.on_destroy.push(d(t,e))}function h(n,t,e,s){if(n){const i=p(n,t,e,s);return n[0](i)}}function p(n,t,s,i){return n[1]&&i?e(s.ctx.slice(),n[1](i(t))):s.ctx}function g(n,t,e,s){if(n[2]&&s){const i=n[2](s(e));if(void 0===t.dirty)return i;if("object"==typeof i){const n=[],e=Math.max(t.dirty.length,i.length);for(let s=0;s<e;s+=1)n[s]=t.dirty[s]|i[s];return n}return t.dirty|i}return t.dirty}function m(n,t,e,s,i,l){if(i){const r=p(t,e,s,l);n.p(r,i)}}function v(n){if(n.ctx.length>32){const t=[],e=n.ctx.length/32;for(let n=0;n<e;n++)t[n]=-1;return t}return-1}const $="undefined"!=typeof window;let k=$?()=>window.performance.now():()=>Date.now(),b=$?n=>requestAnimationFrame(n):n;const w=new Set;function y(n){w.forEach((t=>{t.c(n)||(w.delete(t),t.f())})),0!==w.size&&b(y)}function x(n){let t;return 0===w.size&&b(y),{promise:new Promise((e=>{w.add(t={c:n,f:e})})),abort(){w.delete(t)}}}function A(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function q(n,t){n.appendChild(t)}function C(n){if(!n)return document;const t=n.getRootNode?n.getRootNode():n.ownerDocument;return t&&t.host?t:n.ownerDocument}function O(n){const t=N("style");return t.textContent="/* empty */",function(n,t){q(n.head||n,t),t.sheet}(C(n),t),t.sheet}function _(n,t,e){n.insertBefore(t,e||null)}function I(n){n.parentNode&&n.parentNode.removeChild(n)}function P(n,t){for(let e=0;e<n.length;e+=1)n[e]&&n[e].d(t)}function N(n){return document.createElement(n)}function T(n){return document.createTextNode(n)}function S(){return T(" ")}function E(){return T("")}function z(n,t,e,s){return n.addEventListener(t,e,s),()=>n.removeEventListener(t,e,s)}function L(n,t,e){null==e?n.removeAttribute(t):n.getAttribute(t)!==e&&n.setAttribute(t,e)}function M(n){let t;return{p(...e){t=e,t.forEach((t=>n.push(t)))},r(){t.forEach((t=>n.splice(n.indexOf(t),1)))}}}function j(n,t){t=""+t,n.data!==t&&(n.data=t)}function F(n,t){n.value=null==t?"":t}function B(n,t,e,s){null==e?n.style.removeProperty(t):n.style.setProperty(t,e,s?"important":"")}let R;function H(){if(void 0===R){R=!1;try{"undefined"!=typeof window&&window.parent&&window.parent.document}catch(n){R=!0}}return R}function U(n,t,e){n.classList.toggle(t,!!e)}function W(n,t,{bubbles:e=!1,cancelable:s=!1}={}){return new CustomEvent(n,{detail:t,bubbles:e,cancelable:s})}class D{c(n){this.h(n)}m(n,t,e=null){this.e||(this.is_svg?this.e=function(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}(t.nodeName):this.e=N(11===t.nodeType?"TEMPLATE":t.nodeName),this.t="TEMPLATE"!==t.tagName?t:t.content,this.c(n)),this.i(e)}h(n){this.e.innerHTML=n,this.n=Array.from("TEMPLATE"===this.e.nodeName?this.e.content.childNodes:this.e.childNodes)}i(n){for(let t=0;t<this.n.length;t+=1)_(this.t,this.n[t],n)}p(n){this.d(),this.h(n),this.i(this.a)}d(){this.n.forEach(I)}constructor(n=!1){A(this,"is_svg",!1),A(this,"e",void 0),A(this,"n",void 0),A(this,"t",void 0),A(this,"a",void 0),this.is_svg=n,this.e=this.n=null}}const K=new Map;let J,Y=0;function Q(n,t,e,s,i,l,r,o=0){const c=16.666/s;let a="{\n";for(let n=0;n<=1;n+=c){const s=t+(e-t)*l(n);a+=100*n+`%{${r(s,1-s)}}\n`}const d=a+`100% {${r(e,1-e)}}\n}`,u=`__svelte_${function(n){let t=5381,e=n.length;for(;e--;)t=(t<<5)-t^n.charCodeAt(e);return t>>>0}(d)}_${o}`,f=C(n),{stylesheet:h,rules:p}=K.get(f)||function(n,t){const e={stylesheet:O(t),rules:{}};return K.set(n,e),e}(f,n);p[u]||(p[u]=!0,h.insertRule(`@keyframes ${u} ${d}`,h.cssRules.length));const g=n.style.animation||"";return n.style.animation=`${g?`${g}, `:""}${u} ${s}ms linear ${i}ms 1 both`,Y+=1,u}function V(n,t){const e=(n.style.animation||"").split(", "),s=e.filter(t?n=>n.indexOf(t)<0:n=>-1===n.indexOf("__svelte")),i=e.length-s.length;i&&(n.style.animation=s.join(", "),Y-=i,Y||b((()=>{Y||(K.forEach((n=>{const{ownerNode:t}=n.stylesheet;t&&I(t)})),K.clear())})))}function X(n){J=n}function G(){if(!J)throw new Error("Function called outside component initialization");return J}function Z(n){G().$$.on_mount.push(n)}function nn(n){G().$$.on_destroy.push(n)}function tn(){const n=G();return(t,e,{cancelable:s=!1}={})=>{const i=n.$$.callbacks[t];if(i){const l=W(t,e,{cancelable:s});return i.slice().forEach((t=>{t.call(n,l)})),!l.defaultPrevented}return!0}}const en=[],sn=[];let ln=[];const rn=[],on=Promise.resolve();let cn=!1;function an(n){ln.push(n)}function dn(n){rn.push(n)}const un=new Set;let fn,hn=0;function pn(){if(0!==hn)return;const n=J;do{try{for(;hn<en.length;){const n=en[hn];hn++,X(n),gn(n.$$)}}catch(n){throw en.length=0,hn=0,n}for(X(null),en.length=0,hn=0;sn.length;)sn.pop()();for(let n=0;n<ln.length;n+=1){const t=ln[n];un.has(t)||(un.add(t),t())}ln.length=0}while(en.length);for(;rn.length;)rn.pop()();cn=!1,un.clear(),X(n)}function gn(n){if(null!==n.fragment){n.update(),l(n.before_update);const t=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,t),n.after_update.forEach(an)}}function mn(){return fn||(fn=Promise.resolve(),fn.then((()=>{fn=null}))),fn}function vn(n,t,e){n.dispatchEvent(W(`${t?"intro":"outro"}${e}`))}const $n=new Set;let kn;function bn(){kn={r:0,c:[],p:kn}}function wn(){kn.r||l(kn.c),kn=kn.p}function yn(n,t){n&&n.i&&($n.delete(n),n.i(t))}function xn(n,t,e,s){if(n&&n.o){if($n.has(n))return;$n.add(n),kn.c.push((()=>{$n.delete(n),s&&(e&&n.d(1),s())})),n.o(t)}else s&&s()}const An={duration:0};function qn(n){return void 0!==(null==n?void 0:n.length)?n:Array.from(n)}function Cn(n,t){const e={},s={},i={$$scope:1};let l=n.length;for(;l--;){const r=n[l],o=t[l];if(o){for(const n in r)n in o||(s[n]=1);for(const n in o)i[n]||(e[n]=o[n],i[n]=1);n[l]=o}else for(const n in r)i[n]=1}for(const n in s)n in e||(e[n]=void 0);return e}function On(n){return"object"==typeof n&&null!==n?n:{}}function _n(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function In(n,t,e){const s=n.$$.props[t];void 0!==s&&(n.$$.bound[s]=e,e(n.$$.ctx[s]))}function Pn(n){n&&n.c()}function Nn(n,t,e){const{fragment:i,after_update:o}=n.$$;i&&i.m(t,e),an((()=>{const t=n.$$.on_mount.map(s).filter(r);n.$$.on_destroy?n.$$.on_destroy.push(...t):l(t),n.$$.on_mount=[]})),o.forEach(an)}function Tn(n,t){const e=n.$$;null!==e.fragment&&(!function(n){const t=[],e=[];ln.forEach((s=>-1===n.indexOf(s)?t.push(s):e.push(s))),e.forEach((n=>n())),ln=t}(e.after_update),l(e.on_destroy),e.fragment&&e.fragment.d(t),e.on_destroy=e.fragment=null,e.ctx=[])}function Sn(n,t){-1===n.$$.dirty[0]&&(en.push(n),cn||(cn=!0,on.then(pn)),n.$$.dirty.fill(0)),n.$$.dirty[t/31|0]|=1<<t%31}function En(t,e,s,r,o,c,a=null,d=[-1]){const u=J;X(t);const f=t.$$={fragment:null,ctx:[],props:c,update:n,not_equal:o,bound:i(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:i(),dirty:d,skip_bound:!1,root:e.target||u.$$.root};a&&a(f.root);let h=!1;if(f.ctx=s?s(t,e.props||{},((n,e,...s)=>{const i=s.length?s[0]:e;return f.ctx&&o(f.ctx[n],f.ctx[n]=i)&&(!f.skip_bound&&f.bound[n]&&f.bound[n](i),h&&Sn(t,n)),e})):[],f.update(),h=!0,l(f.before_update),f.fragment=!!r&&r(f.ctx),e.target){if(e.hydrate){const n=function(n){return Array.from(n.childNodes)}(e.target);f.fragment&&f.fragment.l(n),n.forEach(I)}else f.fragment&&f.fragment.c();e.intro&&yn(t.$$.fragment),Nn(t,e.target,e.anchor),pn()}X(u)}class zn{$destroy(){Tn(this,1),this.$destroy=n}$on(t,e){if(!r(e))return n;const s=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return s.push(e),()=>{const n=s.indexOf(e);-1!==n&&s.splice(n,1)}}$set(n){var t;this.$$set&&(t=n,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(n),this.$$.skip_bound=!1)}constructor(){_n(this,"$$",void 0),_n(this,"$$set",void 0)}}"undefined"!=typeof window&&(window.__svelte||(window.__svelte={v:new Set})).v.add("4");const Ln=/\^([#@\/\.\:a-z_\-\d~]*)([<\{\[](?:\\.|.)*?[>\}\]])?/g,Mn=/\u001a(\d+)/g,jn=/([a-z_\:]+)(.*)/,Fn=/^([a-z\d]+[_a-z\d\-~\.]*)/,Bn=/"((?:\\.|.)*?)"/g,Rn=/^(>\d+)?(<\d+)?(:[\-\d]+)?$/,Hn=/^([a-z\.\d\-_]+\:)(>\d+)?(<\d+)?(:[\-\d]+)?$/,Un=/^([a-z\.\d\-_]+\:)?([^<>\d:]+[^:<>]*)(>\d+)?(<\d+)?(:[\-\d]+)?$/,Wn={BMP:[19968,40869],SurrogageLeft:[55296,56319],SurrogageRight:[56320,57343],ExtA:[13312,19967],ExtB:[131072,173823],ExtC:[173824,177983],ExtD:[177984,178207],ExtE:[178208,183983],ExtF:[183984,191456],ExtG:[196608,201551],ExtH:[201552,205743],ExtZ:[655360,870399]},Dn=n=>{let t=0;if("string"==typeof n){const e=parseInt(n,16);t=isNaN(e)?n.codePointAt(0)||0:e}for(let n in Wn){const[e,s]=Wn[n];if(t>=e&&t<=s)return n}},Kn=n=>{if(!n)return!1;const t=n.charCodeAt(0);return t>=12289&&t<=12319||t>65280||t>=65040&&t<=65131},Jn=n=>{if(!n)return"";const t="<{[(｛「『〔（︹︵︷【︻《〈︽︿﹁﹃﹙﹝﹛‘“〝‵".indexOf(n.slice(0,1));return~t?">}])｝」』〕）︺︶︸】︼》〉︾﹀﹂﹄﹚﹞﹜’”〞′"[t]:""},Yn=n=>{const t=Jn(n);return t&&n.slice(n.length-1)==t?n.slice(1,n.length-1):n},Qn={"「":"﹁","」":"﹂","『":"﹃","』":"﹄"},Vn=(n,t,e)=>{if(!n||!e||e<0)return"";let s=t;for(;e>0&&s<n.length;)n.codePointAt(s)>65535&&s++,e--,s++;return n.slice(t,s)},Xn=n=>(n=>{if(!n)return[];let t=0;const e=[];for(;t<n.length;){const s=n.codePointAt(t)||0;e.push(s),t++,s>65535&&t++}return e})(n).map((n=>String.fromCodePoint(n))),Gn=/(^[\u2e80-\u2fd5\u3400-\u9fff\ud400-\udfff\ue000\uffff]+)/,Zn=/([\dA-Za-z\u1000-\u1049\u0900-\u0963\u96f\u00c0-\u02af\u1e00-\u1faf][\dA-Za-z\u1000-\u1049\u0900-\u0963\u96f\u00c0-\u02af\u1e00-\u1faf\d]* ?)/g;var nt=function(n){return n[n.UNSEARCHABLE=1]="UNSEARCHABLE",n[n.OFFTAG=3]="OFFTAG",n[n.SEARCHABLE=16]="SEARCHABLE",n[n.ROMANIZE=32]="ROMANIZE",n[n.MYANMAR=33]="MYANMAR",n[n.CJK=48]="CJK",n[n.CJK_BMP=49]="CJK_BMP",n[n.CJK_SURROGATE=50]="CJK_SURROGATE",n}({});function tt(n,t,e,s,i=0){return{text:n,choff:t,tkoff:e,type:s}}const et=n=>{const t=[];let e=0,s=0;if("string"!=typeof n)return[];for(;e<n.length;){let i=n.codePointAt(e)||0;if(i>65535){const n=String.fromCodePoint(i);t.push(tt(n,e,s,50)),s++,e+=2;continue}if(i>=8192&&i<=65535){const l=i>=2e80&&i<=12287||i>=12353&&i<=40959||i>=54272&&i<57343||i>=57344&&i<64223?49:1;t.push(tt(n[e],e,s,l)),1!==l&&s++,e++;continue}let l="",r=0,o=e;for(;o<n.length&&i<8192;)l+=n[o],i=n.codePointAt(++o)||0;l.replace(Zn,((n,i,o)=>{for(o>r&&t.push(tt(l.substring(r,o),r+e,s,1));" "==l[o];)o++;return t.push(tt(i,e+o,s,32)),s++,r=o+n.length,""})),r<l.length&&t.push(tt(l.substring(r),r+e,s,1)),e=o}return t},st={"[":"]","{":"}"},it=n=>{if("{"!==n.charAt(0))return["",0];let t=n[0],e=st[t],s=-1,i=0;return((n,t)=>{let e;for(let s=0;s<n.length&&(e=t(n[s],s,n),!e);s++);})(n=n.substring(0),((n,l)=>{if(n===t?i++:n===e&&i--,!i)return s=l,!0})),-1===s?["",0]:[n.substring(0,s+1),s+1]};function lt(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}const rt=(n,t)=>{let e=Array();const s=(n,t=!1)=>n.replace(Mn,((n,s)=>(t?'"':"")+e[parseInt(s)]+(t?'"':"")));const i=(n?n.slice(1,n.length-1).replace(Bn,((n,t)=>(e.push(t),""+(e.length-1)))):"").split(/( +)/),l={};for(t&&Object.assign(l,(n=>{const t={},e=n.split(/([@#~])/);for(;e.length;){let n=e.shift();if("~"===n)t.to=e.shift();else if("@"===n)t.ln=e.shift();else if("#"===n){n=e.shift()||"";const s=n.match(Fn);s&&(t.id=s[1])}else t.id=n}return t})(t));i.length;){const n=i.shift()||"";let t=-1,e="";"~"==n[0]||"#"==n[0]||"@"==n[0]?(e=n[0],"#"==e&&(e="id"),"@"==e&&(e="ln"),"~"==e&&(e="to"),t="="==n[1]?1:0):(t=n.indexOf("="),t>0&&(e=n.slice(0,t))),t>-1?(l[e]=s(n.slice(t+1)),i.length&&!i[0].trim()&&i.shift()):n&&(l[n]=!0)}return l},ot=(n,t)=>{let e={};if("^"==n[0]&&(n=n.slice(1)),t)if("<"!==t[0]&&"{"!==t[0])t="";else{const e=n.indexOf("<");(n.indexOf("{")>0||e>0)&&(t=n.slice(e),n=n.slice(0,e))}const s=n.match(jn);if(s){let[n,i,l]=s;if(t&&"{"==t.charAt(0)){const n=(n=>{try{return JSON.parse(n)}catch(t){return n=n.replace(/([a-zA-Z0-9_$]+\s*):/g,'"$1":').replace(/'([^']+?)'([\s,\]\}])/g,'"$1"$2'),JSON.parse(n)}})(t);e=rt("",l);for(let t in n)e[t]=n[t]}else(l||t)&&(e=rt(t,l));return[i,e]}return console.log("\ninvalid tag, raw",n,"attr",t),[n,{}]},ct=(n,t=0)=>{if(!n||-1==n.indexOf("^"))return[n||"",[]];let e=Array(),s=0,i=0,l=n.replace(Ln,((l,r,o,c)=>{if(!r){if(o&&o.startsWith("[")){const n={name:"",offset:c,aoffset:c+1,attrs:{},line:t,choff:s,width:0,start:c+2,end:c+o.length,active:!1};e.push(n);return Yn(o)}return""}let[a,d]=ot(r,o),u=0,f=c+l.length,h=f,p=d["~"];if(p)if(isNaN(parseInt(p))){u=0;let t=0;const e=p.match(/\+(\d+)$/);e&&(p=p.slice(0,p.length-e.length),t=parseInt(e[1]));let s=n.indexOf(p,f);for(;~s&&t;)s=n.indexOf(p,s+1),t--;~s&&(h=s+p.length,delete d["~"])}else u=parseInt(p);else{const t=Jn(n.charAt(f));if(t){const e=n.indexOf(t,f+1);~e&&(h=e+t.length)}}const g=c+r.length+1;s+=c-i;let m={name:a,offset:c,aoffset:g,attrs:d,line:t,choff:s,width:u,start:f,end:h,active:!1};return e.push(m),s-=l.length,i=c,""}));return((n,t,e)=>{for(let n=0;n<e.length;n++){const t=e[n];let s=n;if(t.end>t.start&&!t.width){for(;s<e.length&&t.end>e[s].start;)s++;(s<e.length&&e[s].start>t.end||s==e.length)&&s--;const n=s<e.length?e[s]:t;t.width=t.end-n.start,t.width+=n.choff-t.choff}}for(let n=0;n<e.length;n++){const s=e[n];if(s.width&&s.end==s.start){s.width=Vn(t,s.choff,s.width).length;let i=n+1;for(;i<e.length&&s.choff+s.width>e[i].choff;)i++;(i<e.length&&e[i].choff>s.choff+s.width||i==e.length)&&i--;const l=i<e.length?e[i]:s;l===s?s.end+=s.width:s.end=l.start+(s.choff+s.width-l.choff)}}})(0,l,e),e.length&&e[e.length-1].choff>=l.length&&(l+=" "),[l,e]},at=(n,t,e)=>{for(let s in e.attrs)if(e.attrs[s]!=t.attrs[s]){let i="string"!=typeof e.attrs[s]?JSON.stringify(e.attrs[s]):e.attrs[s];i.indexOf(" ")>0&&(i='"'+i+'"');const l=new RegExp("\\b"+s+' *= *"?'+t.attrs[s]+'"?');n=n.replace(l,s+"="+i)}return n};class dt{getTag(n){return this.tags[n]}tagText(n,t=!1){return"number"==typeof n&&(n=this.tags[n]),n?t?this.raw.slice(n.start,n.end):this.plain.slice(n.choff,n.choff+n.width):""}tagRawText(n){return this.tagText(n,!0)}constructor(n,t=0){lt(this,"raw",void 0),lt(this,"plain",void 0),lt(this,"tags",void 0),this.raw=n;let[e,s]=ct(n,t);this.plain=e,this.tags=s}}const ut=n=>{let t=0;const e=n.match(/\.(\d+)/);e&&(t=parseInt(e[1]),n=n.replace(e[0],""));let[s,i]=n.split("@");return[s,i,t]},ft=n=>{n.startsWith("^")&&(n=n.slice(1));let t="",e=n;n.indexOf("[")||(t=(n=>{let t="",e=0,s=n.charAt(0);if("{"==s){const[t,e]=it(n);return n.slice(0,e)}for(;t.length<128&&s&&e<n.length;){const i=n.charCodeAt(e)||0;if(!(i>45&&i<=59||i>=97&&i<=122||64==i||35==i||95==i||126==i))break;t+=s,e++,s=n.charAt(e)}return t})(n),e=Yn(n.slice(t.length)));const s=e.indexOf("|");let i=e;return s>0&&(i=e.slice(0,s),e=e.slice(s+1)),[t,e,i]},ht=(n,t)=>{let e,s=0,i=n.length-1;for(;s<i;){if(e=s+i>>1,n[e]===t){for(;e>-1&&n[e-1]===t;)e--;return e}n[e]<t?s=e+1:i=e}return s},pt=(n,t)=>{let e,s=0,i=n.length-1;for(;s<i;){if(e=s+i>>1,n[e]===t){for(;e>-1&&n[e-1]===t;)e--;return e}n[e]<t?s=e+1:i=e}return s},gt=(n,t)=>{let e=0,s=parseInt(n(-1))-1;for(;e<s;){let i=e+s>>1;if(n(i)===t){for(;i>-1&&n(i-1)===t;)i--;return i}n(i)<t?e=i+1:s=i}return e},mt=(n,t)=>n>t?1:n<t?-1:0,vt=(n,t)=>n[0]>t[0]?1:n[0]<t[0]?-1:0,$t=(n,t=!1)=>{if(!n||!n.length)return[];t||n.sort("string"==typeof n[0]?mt:(n,t)=>n-t);let e,s=[];for(let t=0;t<n.length;t++)n[t]!==e&&s.push(n[t]),e=n[t];return s},kt=(n,t)=>{const e=[];for(let s in n)t?"function"==typeof t?e.push(t(s,n[s])):e.push([s,n[s]]):e.push(s+"\t"+n[s]);return t&&"function"!=typeof t&&e.sort(((n,t)=>t[1]-n[1])),e},bt=(n,t)=>{const e=[];for(let s=0;s<n.length;s++)~n[s].indexOf(t)&&e.push(s);return e},wt=14,yt=113,xt=5017,At=209321,qt=8866703,Ct=334961425,Ot=(n,t=!1)=>{let e=[];if(!n)return[];let s,i=0,l=0,r=0;for(;i<n.length;){if(s=n.charCodeAt(i)-wt,s<45);else if(s<89){const t=n.charCodeAt(++i)-wt;s-=45,s=s*yt+t+45}else if(s<105){const t=n.charCodeAt(++i)-wt,e=n.charCodeAt(++i)-wt;s-=89,s=s*yt*yt+t*yt+e+xt}else if(s<112){const t=n.charCodeAt(++i)-wt,e=n.charCodeAt(++i)-wt,l=n.charCodeAt(++i)-wt;s-=105,s=s*yt*yt*yt+t*yt*yt+e*yt+l+At}else{if(!(s<127))throw new Error("exit max integer 0x7f,"+s);{const t=n.charCodeAt(++i)-wt,e=n.charCodeAt(++i)-wt,l=n.charCodeAt(++i)-wt,r=n.charCodeAt(++i)-wt;s-=112,s=s*yt*yt*yt*yt+t*yt*yt*yt+e*yt*yt+l*yt+r+At}}e[l]=s+(t?r:0)-1,r=e[l],l++,i++}return e},_t=n=>Ot(n,!0),It=n=>n?Pt(n,!0):[],Pt=(n,t=!1)=>{if(!n)return[];const e=n.split("");return 1==e.length?[Ot(e[0])]:e.map((n=>Ot(n,t)))},Nt=(n,t=!1)=>{const e=[];for(let s=0;s<n.length;s++)e.push(Tt(n[s],t));return e.join("")},Tt=(n,t=!1)=>{if(0==n.length)return"";const e=5*n.length;let s=new Uint8Array(e),i=n[0]+1,l=n[0],r=0;for(let e=1;e<=n.length;e++){if(i<45)s[r++]=i+wt;else if(i<xt){let n,t;i-=45,n=i%yt,t=Math.floor(i/yt),s[r++]=t+45+wt,s[r++]=n+wt}else if(i<At){let n,t,e;i-=xt,n=i%yt,i=Math.floor(i/yt),t=i%yt,e=Math.floor(i/yt),s[r++]=e+89+wt,s[r++]=t+wt,s[r++]=n+wt}else if(i<qt){let n,t,e,l;i-=At,n=i%yt,i=Math.floor(i/yt),t=i%yt,i=Math.floor(i/yt),e=i%yt,l=Math.floor(i/yt),s[r++]=l+105+wt,s[r++]=e+wt,s[r++]=t+wt,s[r++]=n+wt}else{if(!(i<Ct))throw new Error("exist max int boundary "+Ct+" i"+e+",val:"+n[e]+" int"+i);{let n,t,e,l,o;i-=qt,n=i%yt,i=Math.floor(i/yt),t=i%yt,i=Math.floor(i/yt),e=i%yt,i=Math.floor(i/yt),l=i%yt,o=Math.floor(i/yt),s[r++]=o+112+wt,s[r++]=l+wt,s[r++]=e+wt,s[r++]=t+wt,s[r++]=n+wt}}if(i=(t?n[e]-l:n[e])+1,i<0&&t)throw console.log("arr length",n.length,"now",n[e],"prev",l),new Error("negative delta");l=n[e]||0}return(new TextDecoder).decode(s.subarray(0,r))},St=n=>Nt(n,!0);function Et(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}const zt="";class Lt{buildcharpos(){let n=-1;for(;0<this.buf.length;){const t=this.buf.indexOf(this.sep,n);if(-1==t){this.charpos.push(this.buf.length);break}this.charpos.push(t+1),n=t+1}}len(){return this.charpos.length}reset(){this.now=0}first(){return this.reset(),this.next()}next(){if(-1==this.now)return;const n=this.buf.indexOf(this.sep,this.now);if(-1==n){if(this.now>=0){const n=this.buf.slice(this.now);return this.now=-1,n}return void(this.now=-1)}const t=this.buf.slice(this.now,n);return this.now=n+1,t}get(n){if(-1==n)return this.charpos.length.toString();if(this.sequencial||n<0)return"";const t=0==n?0:this.charpos[n-1],e=this.charpos[n]-(n==this.charpos.length-1?0:1);return this.buf.slice(t,e)}at(n){return ht(this.charpos,n)}find(n){const t=this.get.bind(this);this.delimiter&&(n+=this.delimiter);const e=gt(t,n);return t(e).endsWith(n)?e:-1}indexOf(n){let t;for(t=this.buf.indexOf(n);t>-1;){if(0==t&&this.buf.charAt(n.length)==this.sep)return 0;if(this.buf.length==n.length+t&&this.buf.charAt(t-1)==this.sep)return this.len()-1;if(this.buf.charAt(t-1)==this.sep&&this.buf.charAt(t+n.length)==this.sep)return ht(this.charpos,t)+1;t=this.buf.indexOf(n,t+n.length)}return-1}enumMiddle(n,t=999){if(this.middleCache.hasOwnProperty(n))return this.middleCache[n];let e=this.buf.indexOf(n);const s=Array();for(;e>-1;){const i=this.at(e),l=i?this.charpos[i-1]:0,r=this.charpos[i]-1-n.length;if(e>l&&e<r&&(s.push(i),s.length>t))break;e=this.buf.indexOf(n,this.charpos[i]+this.sep.length)}return this.middleCache[n]=s,s}enumStart(n,t=999){const e=this.get.bind(this);let s=gt(e,n);if(-1==s)return[];const i=Array(),l=this.len();for(;s<l;){if(!this.get(s).startsWith(n))break;if(i.push(s),i.length>t)break;s++}return i}enumEnd(n,t=999){if(this.endCache.hasOwnProperty(n))return console.log("cache"),this.endCache[n];n[n.length-1]!==this.sep&&(n+=this.sep);let e=this.buf.indexOf(n);const s=Array();for(;e>-1&&this.buf.charAt(e-1)!==this.sep;){const i=this.at(e);if(s.push(i),s.length>t)break;e=this.buf.indexOf(n,e+this.sep.length)}return this.endCache[n]=s,s}enumAny(n,t=999){if(this.middleCache.hasOwnProperty(n))return this.middleCache[n];let e=this.buf.indexOf(n);const s=Array();for(;e>-1;){const i=this.at(e),l=i?this.charpos[i-1]:0,r=this.charpos[i]-1-n.length;if(e>=l&&e<=r&&(s.push(i),s.length>t))break;e=this.buf.indexOf(n,this.charpos[i]+this.sep.length)}return this.middleCache[n]=s,s}enumMode(n,t=0,e){return 3==t?this.enumAny(n,e):0==t?this.enumStart(n,e):1==t?this.enumMiddle(n,e):2==t?this.enumEnd(n,e):[]}matchLongest(n){const t=this.get.bind(this),e=gt(t,n)-1,s=[];let i=e-1;n.startsWith(this.get(e))&&s.push([this.get(e),e]);let l=e+1;for(;i>0;){const t=this.get(i);if(n.startsWith(t))s.push([t,i]);else if(n.codePointAt(0)<256||n[0]!==t[0])break;i--}for(;l<this.len();){const t=this.get(l);if(n.startsWith(t))s.push([t,l]);else if(n.codePointAt(0)<256||n[0]!==t[0])break;l++}return s.sort(((n,t)=>t[0].length-n[0].length)),s}getValue(n){const t=this.find(n);return~t?this.get(t).slice(n.length+this.delimiter.length):""}constructor(n,t={}){Et(this,"buf",""),Et(this,"sep",""),Et(this,"charpos",[]),Et(this,"middleCache",{}),Et(this,"endCache",{}),Et(this,"now",void 0),Et(this,"sequencial",void 0),Et(this,"delimiter",void 0),Et(this,"findMatches",(n=>{let t=0;const e=[];for(;t<n.length;){const s=n.slice(t),i=this.matchLongest(s);i.length?(t+=i.length,e.push([t,i[0][0],i[0][1]])):t++}return e})),this.sequencial=t.sequencial,this.delimiter=t.delimiter||"",this.buf=n,this.sep=t.sep||"\n",this.now=0,this.sequencial||this.buildcharpos()}}function Mt(n,t){let e;return function(...s){clearTimeout(e),e=setTimeout(n.bind(this,...s),t)}}const jt=n=>{const t=n.indexOf("{"),e=n.indexOf("},`")+1;let s=n.substring(e+2,n.length-1);return"`"==s[s.length-1]&&(s=s.slice(0,s.length-1)),s.indexOf("\\\\")>-1&&(s=s.replace(/\\\\/g,"\\")),s.indexOf("\\`")>-1&&(s=s.replace(/\\`/g,"`")),s.indexOf("$\\{")>-1&&(s=s.replace(/\$\\\{/g,"${")),[JSON.parse(n.substring(t,e)),s]},Ft={"Ⅰ":10,"ⅰ":10,"⒜":26,"Ⓐ":26,"ⓐ":26,"⓫":10,"㉑":15,"㍘":25,"㍙":24,"㈠":10,"㊀":10,"㋀":12,"㏠":31,"①":50,"⑴":20,"⒈":20,"⓵":10,"❶":10,"➀":10,"➊":10,"₁":9},Bt=(n,t="①",e=1)=>{let s=Ft[t];if("number"!=typeof n&&(n=parseInt(n)||0),s){if(n-e>=s)return n.toString();if("①"==t&&(n>35?(t="㊱",n-=35):n>20&&(t="㉑",n-=20),0==n))return"⓪";let i=t.charCodeAt(0)+n-e;return String.fromCharCode(i)}return n.toString()},Rt=n=>{window.location.hash="#"+n},Ht=()=>{let n=window.location.hash;"#"==n[0]&&(n=n.slice(1));let t=decodeURI(n);return~t.indexOf("%")&&(t=decodeURIComponent(t)),~t.indexOf("bk")||~t.indexOf("ak")||(t=""),t},Ut="㑔㑯\n㑇㑳\n㐹㑶\n刾㓨\n㘎㘚\n㚯㜄\n㛣㜏\n㟆㠏\n㤘㥮\n㨫㩜\n㧐㩳\n擜㩵\n㻪㻽\n䀥䁻\n鿎䃮\n䌶䊷\n䌺䋙\n䌻䋚\n䌿䋹\n䌾䋻\n䎬䎱\n䙌䙡\n䜧䜀\n䞍䝼\n䦂䥇\n鿏䥑\n䥾䥱\n䦶䦛\n䦷䦟\n䯅䯀\n鲃䰾\n䲣䱷\n䲝䱽\n鳚䲁\n鳤䲘\n鹮䴉\n丢丟\n并<併並\n干<幹>乾\n乱亂\n亚亞\n伫佇\n来來\n仑侖\n侣侶\n俣俁\n系<繫係\n伣俔\n侠俠\n伡俥\n伥倀\n俩倆\n俫倈\n仓倉\n个個\n们們\n伦倫\n㑈倲\n伟偉\n㐽偑\n侧側\n侦偵\n伪僞偽\n㐷傌\n杰<傑\n伧傖\n伞傘\n备備\n佣<傭\n偬傯\n传傳\n伛傴\n债債\n伤傷\n倾傾\n偻僂\n仅僅\n佥僉\n侨僑\n仆<僕\n侥僥\n偾僨\n价<價\n仪儀\n㑺儁\n侬儂\n亿億\n侩儈\n俭儉\n傧儐\n俦儔\n侪儕\n尽盡儘\n偿償\n优<優\n储儲\n俪儷\n㑩儸\n傩儺\n傥儻\n俨儼\n兑兌\n儿<兒\n兖兗\n内內\n两兩\n册冊\n幂冪\n净凈\n冻凍\n凛凜\n凯凱\n别別\n删刪\n刭剄\n则則\n克<剋\n刹剎\n刬剗\n刚剛\n剥剝\n剐剮\n剀剴\n创創\n划<劃\n剧劇\n刘劉\n刽劊\n刿劌\n剑劍\n㓥劏\n剂劑\n㔉劚\n劲勁\n动動\n务務\n勋勛\n胜<勝\n劳勞\n势勢\n勚勩\n劢勱\n励勵\n劝勸\n匀勻\n匦匭\n汇彙匯\n匮匱\n区區\n协協\n却卻\n厍厙\n厌厭\n厉厲\n厣厴\n参參\n叁叄\n丛叢\n咤>吒\n吴吳\n呐吶\n吕呂\n呙咼\n员員\n呗唄\n吣唚\n问問\n哑啞\n启啟\n唡啢\n㖞喎\n唤喚\n丧喪\n乔喬\n单單\n哟喲\n呛嗆\n啬嗇\n唝嗊\n吗嗎\n呜嗚\n唢嗩\n哔嗶\n叹嘆\n喽嘍\n啯嘓\n呕嘔\n啧嘖\n尝嘗\n唛嘜\n哗嘩\n唠嘮\n啸嘯\n叽嘰\n哓嘵\n呒嘸\n啴嘽\n嘘噓\n㖊噚\n咝噝\n哒噠\n哝噥\n哕噦\n嗳噯\n哙噲\n喷噴\n吨<噸\n当當噹\n咛嚀\n吓嚇\n哜嚌\n噜嚕\n啮嚙\n呖嚦\n咙嚨\n亸嚲\n喾嚳\n严嚴\n嘤嚶\n啭囀\n嗫囁\n嚣囂\n冁囅\n呓囈\n啰囉\n嘱囑\n囱囪\n囵圇\n国國\n围圍\n园園\n圆圓\n图圖\n团團\n埯垵\n垭埡\n采<採埰\n执執\n坚堅\n垩堊\n垴堖\n埚堝\n尧堯\n报報\n场場\n块塊\n茔塋\n垲塏\n埘塒\n涂<塗\n坞塢\n埙塤\n尘塵\n堑塹\n垫墊\n坠墜\n堕墮\n坟墳\n垯墶\n垦墾\n坛罈壇\n垱壋\n压壓\n垒壘\n圹壙\n垆壚\n坏<壞\n垄壟\n垅壠\n坜壢\n坝壩\n塆壪\n壮壯\n壶壺\n壸壼\n寿壽\n够夠\n梦夢\n夹夾\n奂奐\n奥奧\n奁奩\n夺奪\n奨奬\n奋奮\n姹奼\n妆妝\n姗姍\n奸<姦\n娱娛\n娄婁\n妇婦\n娅婭\n娲媧\n妫媯\n㛀媰\n媪媼\n妈媽\n妪嫗\n妩嫵\n娴嫻\n婳嫿\n媭嬃\n娆嬈\n婵嬋\n娇嬌\n嫱嬙\n嫒嬡\n嬷嬤\n嫔嬪\n婴嬰\n婶嬸\n㛤孋\n娈孌\n孙孫\n学學\n孪孿\n宫宮\n寝寢\n实實\n宁<寧\n审審\n写寫\n宽寬\n㝦寯\n宠寵\n宝寶\n将將\n专專\n寻尋\n对對\n导導\n尴尷\n届屆\n尸<屍\n屃屓\n屉屜\n屡屢\n层層\n屦屨\n属屬\n冈岡\n岘峴\n岛島\n峡峽\n崃崍\n岗崗\n峥崢\n岽崬\n岚嵐\n㟥嵾\n嵝嶁\n崭嶄\n岖嶇\n嵚嶔\n崂嶗\n峤嶠\n峣嶢\n峄嶧\n崄嶮\n岙嶴\n嵘嶸\n岭<嶺\n屿嶼\n岿巋\n峦巒\n巅巔\n巯巰\n帅帥\n师師\n帐帳\n带帶\n帧幀\n帏幃\n㡎幓\n帼幗\n帻幘\n帜幟\n币幣\n帮幫\n帱幬\n么<麼>幺>麽\n几<幾\n库庫\n厕廁\n厢廂\n厩廄\n厦廈\n厨廚\n厮廝\n庙廟\n厂<廠\n庑廡\n废廢\n广廣\n廪廩\n庐廬\n厅廳\n弑弒\n弪弳\n张張\n强強\n弹彈\n弥彌\n弯彎\n彝<彞\n彟彠\n彦彥\n彨彲\n后<>後\n径徑\n从從\n徕徠\n复<複復>覆\n征<>徵\n彻徹\n恒恆\n耻恥\n悦悅\n悮悞\n怅悵\n闷悶\n恶惡\n恼惱\n恽惲\n恻惻\n爱愛\n惬愜\n悫愨\n怆愴\n恺愷\n忾愾\n栗<慄\n态態\n愠慍\n惨慘\n惭慚\n恸慟\n惯慣\n怄慪\n怂慫\n虑慮\n悭慳\n庆慶\n㥪慺\n忧憂\n惫憊\n㤭憍\n怜<憐\n凭憑\n愦憒\n慭憖\n惮憚\n愤憤\n悯憫\n怃憮\n宪憲\n忆憶\n恳懇\n应應\n怿懌\n懔懍\n怼懟\n懑懣\n㤽懤\n㤖懧\n恹懨\n惩懲\n懒懶\n怀<懷\n悬懸\n忏<懺\n惧懼\n慑懾\n恋戀\n戆戇\n戋戔\n戗戧\n戬戩\n战戰\n戯戱\n戏戲\n户戶\n抛拋\n捝挩\n挟挾\n舍<捨\n扪捫\n扫掃\n抡掄\n㧏掆\n挜掗\n挣掙\n挂<掛\n拣揀\n扬揚\n换換\n挥揮\n损損\n摇搖\n捣搗\n揾搵\n抢搶\n掴摑\n掼摜\n搂摟\n挚摯\n抠摳\n抟摶\n掺摻\n捞撈\n挦撏\n撑撐\n挠撓\n㧑撝\n挢撟\n掸撣\n拨撥\n抚撫\n扑<撲\n揿撳\n挞撻\n挝撾\n捡撿\n拥擁\n掳擄\n择擇\n击擊\n挡擋\n㧟擓\n担擔\n据<據\n挤擠\n㧛擥\n拟擬\n摈擯\n拧擰\n搁擱\n掷擲\n扩擴\n撷擷\n摆擺\n擞擻\n撸擼\n㧰擽\n扰<擾\n摅攄\n撵攆\n拢攏\n拦攔\n撄攖\n搀攙\n撺攛\n携攜\n摄攝\n攒攢\n挛攣\n摊攤\n搅攪\n揽攬\n败敗\n叙敘\n敌敵\n数數\n敛斂\n毙斃\n敩斆\n斓斕\n斩斬\n断斷\n于<>於\n时時\n晋晉\n昼晝\n晕暈\n晖暉\n旸暘\n畅暢\n暂暫\n晔曄\n历歷曆\n昙曇\n晓曉\n向<曏\n暧曖\n旷曠\n昽曨\n晒<曬\n书書\n会會\n胧朧\n东東\n栅柵\n杆<桿\n栀梔\n枧梘\n条條\n枭梟\n棁梲\n弃棄\n枨棖\n枣棗\n栋棟\n㭎棡\n栈棧\n栖<棲\n梾棶\n桠椏\n㭏椲\n杨楊\n枫楓\n桢楨\n业業\n极<極\n杩榪\n荣榮\n榅榲\n桤榿\n构<構\n枪槍\n梿槤\n椠槧\n椁槨\n椮槮\n桨槳\n椢槶\n椝槼\n桩樁\n乐樂\n枞樅\n楼樓\n标標\n枢樞\n㭤樢\n样樣\n㭴樫\n桪樳\n朴<樸\n树樹\n桦樺\n椫樿\n桡橈\n桥橋\n机<機\n椭橢\n横橫\n檩檁\n柽檉\n档檔\n桧檜\n槚檟\n检檢\n樯檣\n梼檮\n台<颱臺檯\n槟檳\n柠檸\n槛檻\n柜<櫃\n橹櫓\n榈櫚\n栉櫛\n椟櫝\n橼櫞\n栎櫟\n橱櫥\n槠櫧\n栌櫨\n枥櫪\n橥櫫\n榇櫬\n蘖櫱\n栊櫳\n榉櫸\n樱櫻\n栏欄\n权權\n椤欏\n栾欒\n榄欖\n棂欞\n钦欽\n欧歐\n欤歟\n欢歡\n岁歲\n归歸\n殁歿\n残殘\n殒殞\n殇殤\n㱮殨\n殚殫\n殓殮\n殡殯\n㱩殰\n歼殲\n杀殺\n壳殼\n毁毀\n殴毆\n毵毿\n牦氂\n毡氈\n氇氌\n气<氣\n氢氫\n氩氬\n氲氳\n决決\n没沒\n冲衝沖\n况況\n汹洶\n浃浹\n泾涇\n凉涼\n泪淚\n渌淥\n沦淪\n渊淵\n涞淶\n浅淺\n涣渙\n减減\n沨渢\n涡渦\n测測\n浑渾\n凑湊\n浈湞\n汤湯\n沩溈\n准<準\n沟溝\n温溫\n浉溮\n涢溳\n沧滄\n灭滅\n涤滌\n荥滎\n沪滬\n滞滯\n渗滲\n浒滸\n浐滻\n滚滾\n满滿\n渔漁\n溇漊\n沤漚\n汉漢\n涟漣\n渍漬\n涨漲\n溆漵\n渐漸\n浆漿\n颍潁\n泼潑\n洁<潔\n㴋潚\n潜潛\n润潤\n浔潯\n溃潰\n滗潷\n涠潿\n涩澀\n浇澆\n涝澇\n涧澗\n渑澠\n泽澤\n滪澦\n泶澩\n浍澮\n淀<澱\n㳠澾\n浊濁\n浓濃\n㳡濄\n湿濕\n泞<濘\n溁濚\n浕濜\n济濟\n涛濤\n㳔濧\n滥濫\n潍濰\n滨濱\n溅濺\n泺濼\n滤濾\n澛瀂\n滢瀅\n渎瀆\n㲿瀇\n泻瀉\n沈<瀋\n浏瀏\n濒瀕\n泸瀘\n沥瀝\n潇瀟\n潆瀠\n潴瀦\n泷瀧\n濑瀨\n㳽瀰\n潋瀲\n澜瀾\n沣灃\n滠灄\n洒<灑\n漓<灕\n滩灘\n灏灝\n漤灠\n㳕灡\n湾灣\n滦灤\n滟灧\n灾災\n为為\n乌烏\n烃烴\n无無\n炼煉\n炜煒\n烟煙\n茕煢\n焕煥\n烦煩\n炀煬\n㶽煱\n煴熅\n荧熒\n炝熗\n热熱\n颎熲\n炽熾\n烨燁\n灯燈\n烧燒\n烫燙\n焖燜\n营營\n灿燦\n烛燭\n烩燴\n㶶燶\n烬燼\n焘燾\n烁爍\n炉爐\n烂爛\n争爭\n爷爺\n尔爾\n墙牆\n牍牘\n牵牽\n荦犖\n犊犢\n牺犧\n状狀\n狭狹\n狈狽\n狰猙\n犹猶\n狲猻\n犸獁\n狱獄\n狮獅\n奖獎\n独獨\n狯獪\n猃獫\n狝獮\n狞獰\n㺍獱\n获穫獲\n猎獵\n犷獷\n兽獸\n獭獺\n献獻\n猕獼\n猡玀\n现現\n珐琺\n珲琿\n玮瑋\n玚瑒\n琐瑣\n瑶瑤\n莹瑩\n玛瑪\n玱瑲\n琏璉\n琎璡\n玑璣\n瑷璦\n珰璫\n㻅璯\n环環\n玙璵\n瑸璸\n玺璽\n琼瓊\n珑瓏\n璎瓔\n瓒瓚\n瓯甌\n产產\n亩畝\n毕畢\n画畫\n异<異\n畴疇\n叠疊\n痉痙\n疴痾\n痖瘂\n疯瘋\n疡瘍\n痪瘓\n瘗瘞\n疮瘡\n疟瘧\n瘆瘮\n疭瘲\n瘘瘺\n疗療\n痨癆\n痫癇\n瘅癉\n疠癘\n瘪癟\n痒<癢\n疖癤\n症<癥\n疬癧\n癞癩\n癣癬\n瘿癭\n瘾癮\n痈癰\n瘫癱\n癫癲\n发髮發\n皑皚\n疱皰\n皲皸\n皱皺\n盗盜\n盏盞\n监監\n盘盤\n卢盧\n荡蕩盪\n眦眥\n众眾\n困<睏\n睁睜\n睐睞\n眍瞘\n䁖瞜\n瞒瞞\n瞆瞶\n睑瞼\n眬矓\n瞩矚\n矫矯\n硁硜\n硖硤\n砗硨\n砚硯\n硕碩\n砀碭\n砜碸\n确<確\n码碼\n䂵碽\n硙磑\n砖磚\n硵磠\n碜磣\n碛磧\n矶磯\n硗磽\n䃅磾\n硚礄\n硷鹼礆\n础礎\n碍礙\n矿礦\n砺礪\n砾礫\n矾礬\n砻礱\n禄祿\n祸禍\n祯禎\n祎禕\n祃禡\n御<禦\n禅禪\n礼禮\n祢禰\n祷禱\n秃禿\n籼秈\n税稅\n秆稈\n䅉稏\n禀稟\n种<種\n称稱\n谷<穀\n䅟穇\n稣穌\n积積\n颖穎\n秾穠\n穑穡\n秽穢\n稳穩\n稆穭\n窝窩\n洼<窪\n穷窮\n窑窯\n窎窵\n窭窶\n窥窺\n窜竄\n窍竅\n窦竇\n窃竊\n竞競\n笔筆\n笋筍\n笕筧\n䇲筴\n笺箋\n筝箏\n节節\n范<範\n筑<築\n箧篋\n筼篔\n笃篤\n筛篩\n筚篳\n箦簀\n篓簍\n箪簞\n简簡\n篑簣\n箫簫\n筜簹\n签簽\n帘<簾\n篮籃\n筹籌\n䉤籔\n箓籙\n篯籛\n箨籜\n籁籟\n笼籠\n笾籩\n簖籪\n篱<籬\n箩籮\n粤粵\n糁糝\n粪糞\n粮糧\n粝糲\n籴糴\n粜糶\n纟糹\n纠糾\n纪紀\n纣紂\n约約\n红紅\n纡紆\n纥紇\n纨紈\n纫紉\n纹紋\n纳納\n纽紐\n纾紓\n纯純\n纰紕\n纼紖\n纱紗\n纮紘\n纸紙\n级級\n纷紛\n纭紜\n纴紝\n纺紡\n䌷紬\n细細\n绂紱\n绁紲\n绅紳\n纻紵\n绍紹\n绀紺\n绋紼\n绐紿\n绌絀\n终終\n组組\n䌹絅\n绊絆\n绗絎\n结結\n绝絕\n绦縧絛\n绔絝\n绞絞\n络絡\n绚絢\n给給\n绒絨\n绖絰\n统統\n丝絲\n绛絳\n绢絹\n绑綁\n绡綃\n绠綆\n绨綈\n绤綌\n绥綏\n䌼綐\n经經\n综綜\n缍綞\n绿綠\n绸綢\n绻綣\n绶綬\n维維\n绹綯\n绾綰\n纲綱\n网<網\n缀綴\n䌽綵\n纶綸\n绺綹\n绮綺\n绽綻\n绰綽\n绫綾\n绵綿\n绲緄\n缁緇\n紧緊\n绯緋\n绪緒\n绬緓\n绱鞝緔\n缃緗\n缄緘\n缂緙\n线線\n缉緝\n缎緞\n缔締\n缗緡\n缘緣\n缌緦\n编編\n缓緩\n缅緬\n纬緯\n缑緱\n缈緲\n练練\n缏緶\n缇緹\n致<緻\n萦縈\n缙縉\n缢縊\n缒縋\n绉縐\n缣縑\n缊縕\n缞縗\n缚縛\n缜縝\n缟縞\n缛縟\n县縣\n缝縫\n缡縭\n缩縮\n纵縱\n缧縲\n䌸縳\n缦縵\n絷縶\n缕縷\n缥縹\n总總\n绩績\n绷繃\n缫繅\n缪繆\n缯繒\n织織\n缮繕\n缭繚\n绕繞\n绣繡\n缋繢\n绳繩\n绘繪\n茧<繭\n缰韁繮\n缳繯\n缲繰\n缴繳\n䍁繸\n绎繹\n继繼\n缤繽\n缱繾\n䍀繿\n颣纇\n缬纈\n纩纊\n续續\n累<纍\n缠纏\n缨纓\n纤纖\n缵纘\n缆纜\n钵缽\n罂罌\n罚罰\n骂罵\n罢罷\n罗羅\n罴羆\n羁羈\n芈羋\n羟羥\n义義\n习習\n翚翬\n翘翹\n翙翽\n耧耬\n耢耮\n圣<聖\n闻聞\n联聯\n聪聰\n声聲\n耸聳\n聩聵\n聂聶\n职職\n聍聹\n听<聽\n聋聾\n肃肅\n胁脅\n脉脈\n胫脛\n脱脫\n胀脹\n肾腎\n胨腖\n脶腡\n脑腦\n肿腫\n脚腳\n肠腸\n腽膃\n腘膕\n肤膚\n䏝膞\n胶膠\n腻膩\n胆膽\n脍膾\n脓膿\n䐪臇\n脸臉\n脐臍\n膑臏\n腊<臘\n胪臚\n脏髒臟\n脔臠\n臜臢\n临臨\n与<與\n兴興\n举舉\n旧舊\n舱艙\n舣艤\n舰艦\n舻艫\n艰艱\n艳艷\n刍芻\n苎苧\n兹茲\n荆荊\n庄<莊\n茎莖\n荚莢\n苋莧\n华華\n苌萇\n莱萊\n万<萬\n荝萴\n莴萵\n叶葉\n荭葒\n着>著\n荮葤\n苇葦\n荤葷\n莳蒔\n莅蒞\n苍蒼\n荪蓀\n盖蓋\n莲蓮\n苁蓯\n莼蓴\n荜蓽\n蒌蔞\n蒋蔣\n葱蔥\n茑蔦\n荫蔭\n荨蕁\n蒇蕆\n荞蕎\n荬蕒\n芸<蕓\n莸蕕\n荛蕘\n蒉蕢\n芜蕪\n萧蕭\n蓣蕷\n蕰薀\n荟薈\n蓟薊\n芗薌\n蔷薔\n荙薘\n莶薟\n荐<薦\n萨薩\n䓕薳\n苧<薴\n䓓薵\n荠薺\n蓝藍\n荩藎\n艺藝\n药藥\n薮藪\n苈藶\n蔼藹\n蔺藺\n萚蘀\n蕲蘄\n芦蘆\n苏蘇\n蕴蘊\n苹<蘋\n藓蘚\n蔹蘞\n茏蘢\n兰蘭\n蓠蘺\n萝蘿\n蔂<虆\n处處\n虚虛\n虏虜\n号號\n亏虧\n虬虯\n蛱蛺\n蜕蛻\n蚬蜆\n蚀蝕\n猬蝟\n虾蝦\n蜗蝸\n蛳螄\n蚂螞\n萤螢\n䗖螮\n蝼螻\n螀螿\n蛰蟄\n蝈蟈\n螨蟎\n虮<蟣\n蝉蟬\n蛲蟯\n虫<蟲\n蛏蟶\n蚁蟻\n蚃蠁\n蝇蠅\n虿蠆\n蛴蠐\n蝾蠑\n蜡<蠟\n蛎蠣\n蟏蠨\n蛊蠱\n蚕<蠶\n蛮蠻\n术術\n同<衕\n胡<鬍衚\n卫衛\n衮袞\n袅裊\n补補\n装裝\n里<裡\n制<製\n裈褌\n袆褘\n裤褲\n裢褳\n褛褸\n亵褻\n裥襇\n褝襌\n袯襏\n袄襖\n裣襝\n裆襠\n褴襤\n袜襪\n䙓襬\n衬襯\n袭襲\n襕襴\n见見\n觃覎\n规規\n觅覓\n视視\n觇覘\n觋覡\n觍覥\n觎覦\n亲親\n觊覬\n觏覯\n觐覲\n觑覷\n觉覺\n览覽\n觌覿\n观觀\n觞觴\n觯觶\n触<觸\n讠訁\n订訂\n讣訃\n计計\n讯訊\n讧訌\n讨討\n讦訐\n讱訒\n训訓\n讪訕\n讫訖\n讬託\n记記\n讹訛\n讶訝\n讼訟\n䜣訢\n诀訣\n讷訥\n讻訩\n访訪\n设設\n许許\n诉訴\n诃訶\n诊診\n注<註\n诂詁\n诋詆\n讵詎\n诈詐\n诒詒\n诏詔\n评評\n诐詖\n诇詗\n诎詘\n诅詛\n词詞\n咏詠\n诩詡\n询詢\n诣詣\n试試\n诗詩\n诧詫\n诟詬\n诡詭\n诠詮\n诘詰\n话話\n该該\n详詳\n诜詵\n诙詼\n诖詿\n诔誄\n诛誅\n诓誆\n夸<誇\n志<誌\n认認\n诳誑\n诶誒\n诞誕\n诱誘\n诮誚\n语語\n诚誠\n诫誡\n诬誣\n误誤\n诰誥\n诵誦\n诲誨\n说說\n谁誰\n课課\n谇誶\n诽誹\n谊誼\n訚誾\n调調\n谄諂\n谆諄\n谈談\n诿諉\n请請\n诤諍\n诹諏\n诼諑\n谅諒\n论論\n谂諗\n谀諛\n谍諜\n谞諝\n谝諞\n诨諢\n谔諤\n谛諦\n谐諧\n谏諫\n谕諭\n谘諮\n讳諱\n谙諳\n谌諶\n讽諷\n诸諸\n谚諺\n谖諼\n诺諾\n谋謀\n谒謁\n谓謂\n誊謄\n诌謅\n谎謊\n谜謎\n谧謐\n谑謔\n谡謖\n谤謗\n谦謙\n谥謚\n讲講\n谢謝\n谣謠\n谟謨\n谪謫\n谬謬\n谫譾謭\n讴謳\n谨謹\n谩謾\n证證\n谲譎\n讥譏\n谮譖\n识識\n谯譙\n谭譚\n谱譜\n谵譫\n译譯\n议議\n谴譴\n护護\n诪譸\n䛓譼\n誉譽\n读讀\n谉讅\n变變\n詟讋\n䜩讌\n雠讎\n谗讒\n让讓\n谰讕\n谶讖\n谠讜\n谳讞\n岂豈\n竖豎\n丰<豐\n猪豬\n豮豶\n猫貓\n䝙貙\n贝貝\n贞貞\n贠貟\n负負\n财財\n贡貢\n贫貧\n货貨\n贩販\n贪貪\n贯貫\n责責\n贮貯\n贳貰\n赀貲\n贰貳\n贵貴\n贬貶\n买買\n贷貸\n贶貺\n费費\n贴貼\n贻貽\n贸貿\n贺賀\n贲賁\n赂賂\n赁賃\n贿賄\n赅賅\n资資\n贾賈\n贼賊\n赈賑\n赊賒\n宾賓\n赇賕\n赒賙\n赉賚\n赐賜\n赏賞\n赔賠\n赓賡\n贤賢\n卖賣\n贱賤\n赋賦\n赕賧\n质質\n账賬\n赌賭\n䞐賰\n赖賴\n赗賵\n赚賺\n赙賻\n购購\n赛賽\n赜賾\n贽贄\n赘贅\n赟贇\n赠贈\n赞贊\n赝贗贋\n赡贍\n赢贏\n赆贐\n赃贓\n赑贔\n赎贖\n赣贛\n赪赬\n赶<趕\n赵趙\n趋趨\n趱趲\n迹跡\n践踐\n踊<踴\n跄蹌\n跸蹕\n蹒蹣\n踪蹤\n跷蹺\n跶躂\n趸躉\n踌躊\n跻躋\n跃躍\n䟢躎\n踯躑\n跞躒\n踬躓\n蹰躕\n跹躚\n蹑躡\n蹿躥\n躜躦\n躏躪\n躯軀\n车車\n轧軋\n轨軌\n军軍\n轪軑\n轩軒\n轫軔\n轭軛\n软軟\n轷軤\n轸軫\n轱軲\n轴軸\n轵軹\n轺軺\n轲軻\n轶軼\n轼軾\n较較\n辂輅\n辁輇\n辀輈\n载載\n轾輊\n辄輒\n挽<輓\n辅輔\n轻輕\n辆輛\n辎輜\n辉輝\n辋輞\n辍輟\n辊輥\n辇輦\n辈輩\n轮輪\n辌輬\n辑輯\n辏輳\n输輸\n辐輻\n辗輾\n舆輿\n辒轀\n毂轂\n辖轄\n辕轅\n辘轆\n转轉\n辙轍\n轿轎\n辚轔\n轰轟\n辔轡\n轹轢\n轳轤\n办辦\n辞辭\n辫辮\n辩辯\n农農\n迳逕\n这這\n连連\n进進\n运運\n过過\n达達\n违違\n遥遙\n逊遜\n递遞\n远遠\n适<適\n迟遲\n迁遷\n选選\n遗遺\n辽遼\n迈邁\n还還\n迩邇\n边邊\n逻邏\n逦邐\n郏郟\n邮郵\n郓鄆\n乡鄉\n邹鄒\n邬鄔\n郧鄖\n邓鄧\n郑鄭\n邻鄰\n郸鄲\n邺鄴\n郐鄶\n邝鄺\n酂酇\n郦酈\n丑<醜\n酝醞\n医醫\n酱醬\n酦醱\n酿釀\n衅釁\n酾釃\n酽釅\n释釋\n厘<釐\n钅釒\n钆釓\n钇釔\n钌釕\n钊釗\n钉釘\n钋釙\n针針\n钓釣\n钐釤\n钏釧\n钒釩\n钗釵\n钍釷\n钕釹\n钎釺\n䥺釾\n钯鈀\n钫鈁\n钘鈃\n钭鈄\n钚鈈\n钠鈉\n钝鈍\n钩鉤鈎\n钤鈐\n钣鈑\n钑鈒\n钞鈔\n钮鈕\n钧鈞\n钙鈣\n钬鈥\n钛鈦\n钪鈧\n铌鈮\n铈鈰\n钶鈳\n铃鈴\n钴鈷\n钹鈸\n铍鈹\n钰鈺\n钸鈽\n铀鈾\n钿鈿\n钾鉀\n钜鉅\n铊鉈\n铉鉉\n铇鉋\n铋鉍\n铂鉑\n钷鉕\n钳鉗\n铆鉚\n铅鉛\n钺鉞\n钲鉦\n鿭鑈鉨\n钼鉬\n钽鉭\n铏鉶\n铰鉸\n铒鉺\n铬鉻\n铪鉿\n银銀\n铳銃\n铜銅\n铚銍\n铣銑\n铨銓\n铢銖\n铭銘\n铫銚\n铦銛\n衔銜\n铑銠\n铷銣\n铱銥\n铟銦\n铵銨\n铥銩\n铕銪\n铯銫\n铐銬\n铞銱\n锐銳\n销銷\n锈鏽銹\n锑銻\n锉銼\n铝鋁\n锒鋃\n锌鋅\n钡鋇\n铤鋌\n铗鋏\n锋鋒\n铻鋙\n锊鋝\n锓鋟\n铘鋣\n锄鋤\n锃鋥\n锔鋦\n锇鋨\n铓鋩\n铺鋪\n铖鋮\n锆鋯\n锂鋰\n铽鋱\n锍鋶\n锯鋸\n钢鋼\n锞錁\n录錄\n锖錆\n锫錇\n锩錈\n铔錏\n锥錐\n锕錒\n锟錕\n锤錘\n锱錙\n铮錚\n锛錛\n锬錟\n锭錠\n锜錡\n钱錢\n锦錦\n锚錨\n锠錩\n锡錫\n锢錮\n错錯\n锰錳\n表<錶\n铼錸\n锝鍀\n锨鍁\n锪鍃\n钔鍆\n锴鍇\n锳鍈\n锅鍋\n镀鍍\n锷鍔\n铡鍘\n钖鍚\n锻鍛\n锽鍠\n锸鍤\n锲鍥\n锘鍩\n锹鍬\n锾鍰\n键鍵\n锶鍶\n锗鍺\n钟鐘鍾\n镁鎂\n锿鎄\n镅鎇\n镑鎊\n镕鎔\n锁鎖\n镉鎘\n镈鎛\n镃鎡\n钨鎢\n蓥鎣\n镏鎦\n铠鎧\n铩鎩\n锼鎪\n镐鎬\n镇鎮\n镒鎰\n镋鎲\n镍鎳\n镓鎵\n鿔鎶\n镎鎿\n镞鏃\n镟鏇\n链鏈\n镆鏌\n镙鏍\n镠鏐\n镝鏑\n铿鏗\n锵鏘\n镗鏜\n镘鏝\n镛鏞\n铲鏟\n镜鏡\n镖鏢\n镂鏤\n錾鏨\n镚鏰\n铧鏵\n镤鏷\n镪鏹\n䥽鏺\n铙鐃\n铴鐋\n镣鐐\n铹鐒\n镦鐓\n镡鐔\n镫鐙\n镢鐝\n镨鐠\n䦅鐥\n锎鐦\n锏鐧\n镄鐨\n镌鐫\n镰鐮\n䦃鐯\n镯鐲\n镭鐳\n铁鐵\n镮鐶\n铎鐸\n铛鐺\n镱鐿\n铸鑄\n镬鑊\n镔鑌\n鉴鑒\n镲鑔\n锧鑕\n镴鑞\n铄鑠\n镳鑣\n镥鑥\n镧鑭\n钥鑰\n镵鑱\n镶鑲\n镊鑷\n镩鑹\n锣鑼\n钻鑽\n銮鑾\n凿鑿\n䦆钁\n长長\n门門\n闩閂\n闪閃\n闫閆\n闬閈\n闭閉\n开開\n闶閌\n闳閎\n闰閏\n闲閒閑\n间間\n闵閔\n闸閘\n阂閡\n阁閣\n阀閥\n闺閨\n闽閩\n阃閫\n阆閬\n闾閭\n阅閱\n阊閶\n阉閹\n阎閻\n阏閼\n阍閽\n阈閾\n阌閿\n阒闃\n板<闆\n闱闈\n阔闊\n阕闋\n阑闌\n阇闍\n阗闐\n阘闒\n闿闓\n阖闔\n阙闕\n闯闖\n关關\n阚闞\n阓闠\n阐闡\n辟<闢\n阛闤\n闼闥\n坂>阪\n陉陘\n陕陝\n阵陣\n阴陰\n陈陳\n陆陸\n阳陽\n陧隉\n队隊\n阶階\n陨隕\n际際\n随隨\n险險\n陦隯\n隐隱\n陇隴\n隶隸\n只<隻\n隽雋\n虽雖\n双雙\n雏雛\n杂雜\n鸡雞\n离<離\n难難\n云<雲\n电電\n霡霢\n雾霧\n霁霽\n雳靂\n霭靄\n叇靆\n灵靈\n叆靉\n靓靚\n静靜\n䩄靦\n靥靨\n鼗鞀\n巩鞏\n鞒鞽\n鞑韃\n鞯韉\n韦韋\n韧韌\n韨韍\n韩韓\n韪韙\n韬韜\n韫韞\n韵韻\n响響\n页頁\n顶頂\n顷頃\n项項\n顺順\n顸頇\n须鬚須\n顼頊\n颂頌\n颀頎\n颃頏\n预預\n顽頑\n颁頒\n顿頓\n颇頗\n领領\n颌頜\n颉頡\n颐頤\n颏頦\n头頭\n颒頮\n颊頰\n颋頲\n颕頴\n颔頷\n颈頸\n颓頹\n频頻\n颗顆\n题題\n额額\n颚顎\n颜顏\n颙顒\n颛顓\n愿<願\n颡顙\n颠顛\n类類\n颟顢\n颢顥\n顾顧\n颤顫\n颥顬\n显顯\n颦顰\n颅顱\n颞顳\n颧顴\n风風\n飐颭\n飑颮\n飒颯\n刮<颳\n飓颶\n飔颸\n飏颺\n飖颻\n飕颼\n飗飀\n飘飄\n飙飆\n飚飈\n飞飛\n饣飠\n饥飢\n饤飣\n饦飥\n饨飩\n饪飪\n饫飫\n饬飭\n饭飯\n饮飲\n饴飴\n饲飼\n饱飽\n饰飾\n饳飿\n饺餃\n饸餄\n饼餅\n饷餉\n养養\n饵餌\n饹餎\n饻餏\n饽餑\n馁餒\n饿餓\n馂餕\n饾餖\n余<餘\n肴<餚\n馄餛\n馃餜\n饯餞\n馅餡\n馆館\n糇餱\n饧餳\n馉餶\n馇餷\n馎餺\n饩餼\n馏餾\n馊餿\n馌饁\n馍饃\n馒饅\n馐饈\n馑饉\n馓饊\n馈饋\n馔饌\n饶饒\n飨饗\n餍饜\n馋饞\n馕饢\n马馬\n驭馭\n冯馮\n驮馱\n驰馳\n驯馴\n驲馹\n驳駁\n驻駐\n驽駑\n驹駒\n驵駔\n驾駕\n骀駘\n驸駙\n驶駛\n驼駝\n驷駟\n骈駢\n骇駭\n骃駰\n骆駱\n骎駸\n骏駿\n骋騁\n骍騂\n骓騅\n骔騌\n骒騍\n骑騎\n骐騏\n骛騖\n骗騙\n骙騤\n䯄騧\n骞騫\n骘騭\n骝騮\n腾騰\n驺騶\n骚騷\n骟騸\n骡騾\n蓦驀\n骜驁\n骖驂\n骠驃\n骢驄\n驱驅\n骅驊\n骕驌\n骁驍\n骣驏\n骄驕\n验驗\n惊<驚\n驿驛\n骤驟\n驴驢\n骧驤\n骥驥\n骦驦\n骊驪\n骉驫\n肮<骯\n髅髏\n体<體\n髌髕\n髋髖\n松<鬆\n鬓鬢\n斗<鬥\n闹鬧\n阋鬩\n阄鬮\n郁<鬱\n鬶鬹\n魉魎\n魇魘\n鱼魚\n鱽魛\n鱾魢\n鲀魨\n鲁魯\n鲂魴\n鱿魷\n鲄魺\n鲅鮁\n鲆鮃\n鲌鮊\n鲉鮋\n鲏鮍\n鲇鮎\n鲐鮐\n鲍鮑\n鲋鮒\n鲊鮓\n鲒鮚\n鲘鮜\n鲕鮞\n䲟鮣\n鲖鮦\n鲔鮪\n鲛鮫\n鲑鮭\n鲜鮮\n鲓鮳\n鲪鮶\n鲝鮺\n鲧鯀\n鲠鯁\n鲩鯇\n鲤鯉\n鲨鯊\n鲬鯒\n鲻鯔\n鲯鯕\n鲭鯖\n鲞鯗\n鲷鯛\n鲴鯝\n鲱鯡\n鲵鯢\n鲲鯤\n鲳鯧\n鲸鯨\n鲮鯪\n鲰鯫\n鲶鯰\n鲺鯴\n鳀鯷\n鲫鯽\n鳊鯿\n鳈鰁\n鲗鰂\n鳂鰃\n䲠鰆\n鲽鰈\n鳇鰉\n䲡鰌\n鳅鰍\n鲾鰏\n鳄鱷鰐\n鳆鰒\n鳃鰓\n鳒鰜\n鳑鰟\n鳋鰠\n鲥鰣\n鳏鰥\n䲢鰧\n鳎鰨\n鳐鰩\n鳍鰭\n鳁鰮\n鲢鰱\n鳌鰲\n鳓鰳\n鳘鰵\n鲦鰷\n鲣鰹\n鲹鰺\n鳗鰻\n鳛鰼\n鳔鰾\n鳉鱂\n鳙鱅\n鳕鱈\n鳖鱉\n鳟鱒\n鳝鱔\n鳜鱖\n鳞鱗\n鲟鱘\n鲼鱝\n鲎鱟\n鲙鱠\n鳣鱣\n鳡鱤\n鳢鱧\n鲿鱨\n鲚鱭\n鳠鱯\n鲈鱸\n鲡鱺\n鸟鳥\n凫鳧\n鸠鳩\n鸤鳲\n凤鳳\n鸣鳴\n鸢鳶\n䴓鳾\n鸩鴆\n鸨鴇\n鸦鴉\n鸰鴒\n鸵鴕\n鸳鴛\n鸲鴝\n鸮鴞\n鸱鴟\n鸪鴣\n鸯鴦\n鸭鴨\n鸸鴯\n鸹鴰\n鸻鴴\n䴕鴷\n鸿鴻\n鸽鴿\n䴔鵁\n鸺鵂\n鸼鵃\n鹀鵐\n鹃鵑\n鹆鵒\n鹁鵓\n鹈鵜\n鹅鵝\n鹄鵠\n鹉鵡\n鹌鵪\n鹏鵬\n鹐鵮\n鹎鵯\n鹊鵲\n鹓鵷\n鹍鵾\n䴖鶄\n鸫鶇\n鹑鶉\n鹒鶊\n鹋鶓\n鹙鶖\n鹕鶘\n鹗鶚\n鹖鶡\n鹛鶥\n鹜鶩\n䴗鶪\n鸧鶬\n莺鶯\n鹟鶲\n鹤鶴\n鹠鶹\n鹡鶺\n鹘鶻\n鹣鶼\n鹚鷀\n鹢鷁\n鹞鷂\n䴘鷉鷈\n鹝鷊\n鹧鷓\n鹥鷖\n鸥鷗\n鸷鷙\n鹨鷚\n鸶鷥\n鹪鷦\n鹔鷫\n鹩鷯\n鹫鷲\n鹇鷳\n鹬鷸\n鹰鷹\n鹭鷺\n鸴鷽\n䴙鸊鷿\n㶉鸂\n鹯鸇\n鹱鸌\n鹲鸏\n鸬鸕\n鹴鸘\n鹦鸚\n鹳鸛\n鹂鸝\n鸾鸞\n卤鹵\n咸<鹹\n鹾鹺\n盐鹽\n丽麗\n麦麥\n麸麩\n曲<麯\n麹>麴\n面<麵\n黄黃\n黉黌\n点點\n党<黨\n黪黲\n黡黶\n黩黷\n黾黽\n鼋黿\n鼍鼉\n鼹鼴\n齐齊\n斋齋\n赍齎\n齑齏\n齿齒\n龀齔\n龁齕\n龂齗\n龅齙\n龇齜\n龃齟\n龆齠\n龄齡\n出<齣\n龈齦\n龊齪\n龉齬\n龋齲\n腭齶\n龌齷\n龙龍\n厐龎\n庞龐\n䶮龑\n龚龔\n龛龕\n龟龜\n䜤鿁\n䲤鿐\n鿓鿒".split(/\r?\n/);Ut.push("“「"),Ut.push("‘『"),Ut.push("”」"),Ut.push("’』");const Wt={"获":"獲穫","缰":"繮韁","赝":"贋贗","伪":"僞偽","汇":"匯彙","坛":"壇罈","台":"臺颱檯","冲":"沖衝","硷":"礆鹼","绱":"緔鞝","脏":"臟髒","谫":"謭譾","钩":"鈎鉤","鿭":"鉨鑈","锈":"銹鏽","闲":"閑閒","须":"須鬚","鳄":"鰐鱷"},Dt={},Kt={},Jt={};Ut.forEach(((n,t)=>{const e=n.match(/(.)(<?)(.+)/u);if(!e)throw"wrong data format "+t;let[s,i,l,r]=e,o=r;if(Wt[i]&&(r=Wt[i]),""==l)if(1==r.length)Dt[r]=i;else if(">"==r[0])Kt[r.substring(1)]=i;else{Dt[r[0]]=i,r=r.substring(1);for(let n=0;n<r.length;n++){const t=r.codePointAt(n);if(!t)break;Kt[String.fromCodePoint(t)]=i}}else if(1==r.length)Kt[r]=i;else for(;r&&">"!==r[0];){const n=String.fromCodePoint(r.codePointAt(0));Kt[n]=i,r=r.substring(n.length)}r=o.replace(/\>/g,""),Jt[i]="<"==l?r.replace(i,"")+i:r}));const Yt=(n,t=1)=>{if(!n)return n;let e="",s=0;if(!t)return n;for(;s<n.length;){const i=n.codePointAt(s),l=String.fromCodePoint(i);if(!l)break;let r=Dt[l];2!=t||r||(r=Kt[l]),e+=r||l,s++,i>65535&&s++}return e},Qt=(n,t=1,e="()")=>{let s="",i=0;if(!t||!n)return n;for(;i<n.length&&n[i];){const l=n.codePointAt(i),r=String.fromCodePoint(l);if(!r)break;let o=Jt[r];o?1!=t||o.codePointAt(1)?2==t?s+=String.fromCodePoint(o.codePointAt(0)):3==t?o.codePointAt(1)?s+=e[0]+o+e[1]:s+=o:s+=r:s+=o:s+=r,i++,l>65535&&i++}return s};class Vt{nPostingOf(n){const t=[],e=et(n);for(let s=0;s<e.length;s++){const{type:i,text:l}=e[s];let r=-1;if(i==nt.CJK_BMP){const n=l.charCodeAt(0);if(r=ht(this.bmpwithposting,n),this.bmpwithposting[r]!==n){const n=Qt(l).charCodeAt(0);if(r=ht(this.bmpwithposting,n),this.bmpwithposting[r]!==n)continue}}else if(i>=nt.SEARCHABLE)if(~r)r+=this.bmppostingcount;else{let t=this.words.find(n);~t&&(r=t+this.bmppostingcount)}t.push(r)}return t}constructor(n,t){this.words=new Lt(n.shift(),{sep:zt}),this.bmpwithposting=_t(n.shift()),this.tokenlinepos=_t(n.shift()),this.postings=[],this.postingStart=t,this.bmppostingcount=0;for(let n=1;n<65536;n++)this.bmpwithposting[n]&&this.bmppostingcount++}}const Xt=(n,t,e=0)=>{let s=1,i=e;for(;i<n.length;){if(t>n[i])s++;else{if(s<=1)break;i-=s,s=1}i+=s}return i},Gt=(n,t,e=1)=>{let s=0,i=0;if(!n||!t||0==n.length||0==t.length)return[];Math.min(n.length,t.length);let l=[];for(let r=0;r<n.length;r++){let o=n[r]+e,c=t[s];for(;o>c&&s<t.length;)c=t[++s];o===c&&(l[i++]=o-e)}return l.slice(0,i)},Zt=(n,t)=>{let e=0,s=0,i=0;const l=[];for(let r=0;r<t.length;r++){const[o,c]=t[r];for(s=e,o>n[e]&&(s=Xt(n,o,e)),i=s;n[i]<c&&i<n.length;)i++;l[r]=i>s?i-s:0,e=i}for(let n=0;n<l.length;n++)"number"!=typeof l[n]&&(l[n]=0);return l},ne=(n,t,e)=>{const s=ht(n,t);let i=ht(n,e)+1;const l=n.slice(s,i);for(;l[0]<t;)l.shift();for(;l[l.length-1]>e;)l.pop();return l},te=(n,t)=>{if(!t||!t.length)return n;const e=[];let s=0,i=t[s];for(let l=0;l<n.length;l++){const r=n[l];for(r>=i[0]&&i[1]>=r&&e.push(r);r>i[0]&&s<t.length-1;)i=t[++s];if(s>=t.length)break}return e},ee=(n,t,e=!1)=>{let s=0;const i=[],l=[];for(;s<n.length;){let r=n[s],o=ht(t,r);o>=0&&o<t.length&&(i[i.length-1]!==o&&i.push(o),e&&(l[i.length-1]||(l[i.length-1]=[]),l[i.length-1].push(r-t[o-1])),r=n[s]),s++}return[i,l]};function se(n){const t=this,e=t.inverted.nPostingOf(n);for(let n=0;n<e.length;n++){const s=e[n];if(-1==s)continue;const i=t.inverted.postingStart+e[n];if(!t.inverted.postings[s]){const n=t.getLine(i);t.inverted.postings[s]=_t(n)}}return this.getPostings(n)}function ie(n){const t=this.inverted.nPostingOf(n),e=this.inverted.postings;return t.map((n=>e[n]))}async function le(n){const t=this;return await(async(n,t)=>{if(!n.inverted)return;const e=n.inverted.nPostingOf(t),s=[];for(let t=0;t<e.length;t++){if(e[t]<0)continue;const i=n.inverted.postingStart+e[t];s.push([i,i+1])}return s.sort(((n,t)=>n[0]-t[0])),await n.loadLines(s),s})(t,n),t.loadPostingsSync.call(t,n)}const re=(n,t)=>{if(0==n.length)return 0;let e=0,s=0;for(let i=0;i<t.length;i++)n[i]&&(s++,e+=t[i]*(n[i]>1?Math.sqrt(n[i]):1));let i=s/t.length;return i*=i,e*i};function oe(n,t,e){e=e||this.inverted.tokenlinepos,tlplast=e[e.length-1],t=t||this.defines.ck.linepos;const s=tlplast/e.length,i=n.reduce(((n,t)=>t.length+n),0),l=n.map((n=>Math.sqrt(i/n.length)));let r=0,o=[];const c=new Array(n.length);c.fill(0);let a=0;for(;r<e.length-1;){let i=tlplast;const d=e[r],u=e[r+1];let f=[];a=0;for(let t=0;t<n.length;t++){const e=n[t];let s=e[c[t]];for(;s<d&&c[t]<e.length;)c[t]++,s=e[c[t]];for(;s>=d&&s<u;){if(f[t]||(f[t]=0),f[t]++,0==t)a=s;else{const n=s-a-t;f[t]+=0==n?3:1/n}c[t]++,s=e[c[t]]}i>s&&(i=s)}const h=re(f,l);let p=s/(u-d+1)*10;p<10&&(p=10);const g=Math.log(p);if(h>0){const n=ht(t,r)-1;o.push([r+1,h*g,n])}for(r++;i>e[r+1];)r++}return o=o.sort(((n,t)=>t[1]-n[1])),o}function ce(n,t=null){if(!(t=t||this.loadPostingsSync(n)))return[];n=n.trim();const e=this.name+"@"+n;let s=this.queryCache[e];if(s)return s;s=t[0];for(let n=1;n<t.length;n++){s=Gt(s,t[n],n)}return this.queryCache[e]=s||[],this.queryCache[e]}async function ae(n){const t=await this.loadPostings(n);return t?ce.call(this,n,t):[]}async function de(n,t){t=t||{};const e=n.split(/[, 　]/);e.length>5&&(e.length=5);const s=[],i=[];for(let n=0;n<e.length;n++){if(!e[n].trim())continue;let l=await ae.call(this,e[n]);l&&l.length||"zh"!=this.attributes.lang||(l=await ae.call(this,Qt(e[n]))),t.ranges&&t.ranges.length&&(l=te(l,t.ranges)),s.push(e[n]),i.push(l||[])}return[s,i]}async function ue(n,t){const e=this,[s,i]=await e.parseQuery(n,t);if(!i.length||!e.inverted)return[];const l=(null==t?void 0:t.groupby)||"ak",r=e.defines[l],o=[],c=e.inverted.tokenlinepos;if(r){for(let n=0;n<r.linepos.length;n++){const t=c[r.linepos[n+1]]||c[c.length-1];o.push([c[r.linepos[n]],t])}const n=new Array(o.length);n.fill(0);for(let t=0;t<i.length;t++){const e=Zt(i[t],o);for(let t=0;t<o.length;t++)n[t]+=e[t]}return n.map(((n,t)=>{const e=r.fields.id.values[t];return{count:n,caption:r.getInnertext(t),scope:l+(parseInt(e)?e:"#"+e)}}))}return[{count:i.length,caption:"-",name:"-"}]}function fe(n,t){const e=this.inverted.tokenlinepos,s=[];for(let i=0;i<t.length;i++){const l=e[n-1],r=e[n],o=ne(t[i],l,r).map((n=>n-l));s.push(o)}return s}const he=(n,t=0,e=0)=>{if(-1==t)return[n];let s=Array();if(e>0)return[n.slice(t,t+e)];n.length<4&&s.push(n);for(let e=t;e<=n.length;e++){let i=n.slice(t,e);i.length>1&&s.push(i.trim()),i=n.slice(t-1,e),i.length>1&&s.push(i.trim()),i=n.slice(t+1,e),i.length>1&&s.push(i.trim()),i.length}return $t(s)},pe=(n,t)=>{const e={};if(0==n.length)return[];if(1==n.length)return[[n[0],t[0]]];const s=t.reduce(((t,e,s)=>t+Math.log(n[s].length*e.length)),0)/t.length;for(let i=0;i<t.length;i++)Math.log(t[i].length*n[i].length)>s&&t[i].length>1&&(e[n[i]]=t[i]);if(!Object.keys(e).length)for(let s=0;s<t.length;s++)e[n[s]]=t[s];for(let n in e)for(let t in e)n!=t&&e[t].length&&(n.startsWith(t)||n.endsWith(t))&&1.1*e[n].length>=e[t].length&&(e[t]=[]);for(let n in e)0==e[n].length&&delete e[n];return((n,t)=>{const e=[];for(let t in n)e.push([t,n[t]]);return t?e.sort(t):e.sort(((n,t)=>+t[1]-n[1])),e})(e,((n,t)=>t[1].length-n[1].length)).slice(0,3)};async function ge(n,t=0,e=0){const s=[],i=he(n.trim(),t);for(let n=0;n<i.length;n++){const t=i[n];s.push(await ae.call(this,t))}return pe(i,s)}function me(n,t=0,e=0){if(!n.trim())return[];const s=he(n,t,e),i=s.map((n=>ce.call(this,n)));return pe(s,i)}function ve(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}class $e{tagsOf(n=!1){const t=[];if(!this.tags||!this.tags.length)return"";for(let e=0;e<this.tags.length;e++){const s=this.offtext.getTag(this.tags[e]);this.choff==s.choff+(n?s.width-1:0)&&t.push(this.tags[e])}return t}closestTag(){return this.offtext.getTag(this.tags[this.tags.length-1])}constructor(n,t,e,s){ve(this,"token",void 0),ve(this,"open",void 0),ve(this,"close",void 0),ve(this,"text",void 0),ve(this,"css",void 0),ve(this,"hide",void 0),ve(this,"postingoffset",void 0),ve(this,"choff",void 0),ve(this,"ntoken",void 0),ve(this,"tags",void 0),ve(this,"luminate",void 0),ve(this,"highlight",void 0),ve(this,"offtext",void 0),ve(this,"extra",void 0),this.token=n,this.postingoffset=s,this.choff=n.choff,this.text=n.text,this.ntoken=t,this.offtext=e,this.tags=[],this.hide=!1,this.luminate=0,this.highlight=!1,this.css=""}}const ke=(n,t,e=0)=>{for(let s=e;s<n.length;s++)if(n[s].token.text===t)return n[s]},be="undefined"!=typeof navigator&&navigator.userAgent.match(/Chrome\/(\d+)/);be&&parseInt(be[1]);let we={};const ye=n=>we[n],xe=n=>delete we[n],Ae=()=>{const n=Array();for(const t in we)n.push(we[t]);return n},qe=n=>{var t;let e=null===(t=n.attributes)||void 0===t?void 0:t.align;e||(e=n.name.replace(/\-[^-]+$/,""));const s=Array();for(const t in we)we[t].attributes.align!=e&&t.replace(/\-[^-]+$/,"")!=e||n.name!==we[t].name&&s.push(t);return s},Ce=n=>n.toString().padStart(3,"0")+".js",Oe=(n,t)=>n+"/"+Ce(t);async function _e(n){let t=Oe(this.name,n);!fs.existsSync(t)&&fs.existsSync("../"+this.name+"/"+this.name)&&(t=Oe("../"+this.name+"/"+this.name,n));try{const e=await fs.promises.readFile(t,"utf8");this.setPage(n,...jt(e))}catch(n){console.error("readFile failed,",t,n)}}async function Ie(n){throw"not implement yet"}async function Pe(n){const t=this.name+"/"+Ce(n),e=this.zipstore.find(t),s=e&&(new TextDecoder).decode(e.content);s&&this.setPage(n,...jt(s))}async function Ne(n){if(this.zip){const t=await this.zip.readTextFile(this.name+"/"+Ce(n));return void this.setPage(n,...jt(t))}const t=Oe(this.name,n);try{const e=await fetch(t),s=await e.text(),i=jt(s);this.setPage(n,...i)}catch(n){this.failed=!0}}const Te=(n,t,e)=>{ye(t.name).setPage(n,t,e)};function Se(n){return 0==n?this.pagestarts.length:this._pages[n-1]}async function Ee(n){if(Se.call(this,n))return;"function"!==(window.jsonp,!1)&&(window.jsonp=Te);let t,e=0;const s=this;try{await(async(n,t)=>{if(t&&t())return!0;"./"==n.slice(0,2)&&(n=n.slice(2));const e=n.endsWith(".css"),s=document.head.children;for(let t=0;t<s.length;t++){const i=s[t];if(e&&"LINK"==i.tagName&&i.href.endsWith("/"+n))return t<s.length-1&&(document.head.removeChild(i),document.head.appendChild(i)),!0;if("SCRIPT"==i.tagName&&i.src.endsWith("/"+n))return!0}return new Promise(((t,s)=>{const i=document.createElement(e?"link":"script");i.type=e?"text/css":"text/javascript",e?(i.rel="stylesheet",i.href=n):i.src=n,i.onerror=s,i.async=!0,i.onload=t,document.head.appendChild(i)}))})(Oe(s.name,n),(()=>{if(Se.call(s,n))return!0;t=setInterval((()=>{e++,(e>10||Se.call(s,n))&&(e>10&&console.error("failed loading page",n,s.name),clearInterval(t))}),10)}))}catch(n){this.failed=!0}}function ze(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}let Le=0;class Me{async loadAll(){return await this.loadLines([[0,this.pagestarts[this.pagestarts.length-1]]]),this.slice(0,this.pagestarts[this.pagestarts.length-1])}inMem(){return this.inmemory||this.zipstore}pageOfRange([n,t]){if(n<0)return[];n>t&&(t+=n);let e=this.pageOfLine(n);const s=this.pageOfLine(t),i=Array();e>1&&e--;for(let n=e;n<s+1;n++)this._pages[n]||i.push(n);return i}async loadLines(n){const t=this;let e=Array(),s=(n=>{const t=Array();let e=0;if(n=n.filter((n=>!!n)),!Array.isArray(n[0])||!n.length)return n;n.sort(((n,t)=>n-t)),e=n[0][0];for(let s=1;s<n.length;s++)n[s][0]>n[s-1][1]&&(t.push([e,n[s-1][1]]),e=n[s][0]);return n[n.length-1][1]>e&&t.push([e,n[n.length-1][1]]),t})(n);const i={};for(let n=0;n<s.length;n++)if(Array.isArray(s[n])){const[t,i]=s[n];e.push(...this.pageOfRange([t,i]))}else i[this.pageOfLine(s[n])]=!0;e.push(...Object.keys(i).map((n=>parseInt(n)))),e=$t(e.filter((n=>!t._pages[n])));const l=Array();for(let n=0;n<e.length;n++)l.push(this._loader.call(this,e[n]+1));await Promise.all(l)}lineCount(){return this.header.starts[this.header.starts.length-1]}getPageLineOffset(n,t){return n>this._pages.length||0==t?0:t>this._lineoffsets[n].length?this._pages[n].length:this._lineoffsets[n][t-1]}getLines(n){if(!n.length)return[];let t=Array(),e=n[0],s=e;for(let i=1;i<n.length;i++)e+1!==n[i]&&(t=t.concat(this.slice(s,i)),s=n[i]),e=n[i];return t=t.concat(this.slice(s,e+1)),t}getLine(n){return this.slice(n,n+1)[0]}slice(n,t){t||(t=n+1);const e=this.pageOfLine(n),s=this.pageOfLine(t);let i="";for(let l=e;l<=s;l++){if(!this._pages[l])return i.split("\n");if(l==e||l==s){let r=this.getPageLineOffset(l,n-(e>0?this.pagestarts[e-1]:0));n&&r++;const o=this.getPageLineOffset(l,t-(s>0?this.pagestarts[s-1]:0));if(s>e){const n=this._pages[l].slice(0,o);l==e?i=this._pages[l].slice(r):i+=(i&&n?"\n":"")+n}else i+=this._pages[l].slice(r,o)}else i+=(i.length?"\n":"")+this._pages[l]}return i.split("\n")}setPage(n,t,e){0==n?(this.header=t,this.name=this.header.name,this.pagestarts=t.starts,this.payload=e||"nopayload",this.opened=!0):n>0&&(this._pages[n-1]=e,this._lineoffsets[n-1]=(n=>{let t=0;const e=Array();for(;t<n.length;){const s=n.indexOf("\n",t);if(-1==s)break;e.push(s),t=s+1}return e})(e))}isReady(){if(this.payload)return!0;const n=this;let t;return new Promise((e=>{t=setInterval((()=>{n.failed?e(!1):n.payload&&(clearInterval(t),e(!0))}),50)}))}getSection(n){const[t,e]=this.sectionRange(n);return t==e?[]:this.slice(t,e)}sectionRange(n){const{sectionnames:t,sectionstarts:e}=this.header;if(!t||!t.length)return[0,0];for(let s=0;s<t.length;s++){const i=t[s];if(n&&i==n){const n=s<e.length-1?e[s+1]:this.pagestarts[this.pagestarts.length-1];return[e[s],n]}}return[0,0]}constructor(n){ze(this,"_pages",void 0),ze(this,"_lineoffsets",void 0),ze(this,"stamp",void 0),ze(this,"pagestarts",void 0),ze(this,"header",void 0),ze(this,"name",void 0),ze(this,"zip",void 0),ze(this,"zipstore",void 0),ze(this,"payload",void 0),ze(this,"_loader",void 0),ze(this,"failed",void 0),ze(this,"inmemory",void 0),ze(this,"opened",void 0),ze(this,"pageOfLine",(n=>n>=this.pagestarts[this.pagestarts.length-1]?this.pagestarts.length-1:ht(this.pagestarts,n))),this.stamp=++Le,this._pages=[],this._lineoffsets=[],this.pagestarts=[],this.header={starts:Array(),sectionnames:Array(),sectionstarts:Array(),sectiontypes:Array(),preload:Array(),name:""},this.name=n.name||"",this.zip=n.zip,this.zipstore=n.zipstore,this.payload;let t="undefined"!=typeof chrome?"chrome-extension:":"";if("undefined"!=typeof window&&(t=window.location.protocol),this.zipstore?this._loader=Pe:this._loader="http:"===t||"https:"===t||"chrome-extension:"===t?Ne:"file:"==t?Ee:this.zip?Ie:_e,this.failed=!1,n.contentString){const[t,e]=it(n.contentString),s=JSON.parse(t),i=n.contentString.slice(e).split("\n"),l=(i.shift()||"").replace(/\\n/g,"\n");this.setPage(0,s,l);for(let n=0;n<s.starts.length;n++){const t=i.slice(n>0?s.starts[n-1]:0,s.starts[n]);this.setPage(n+1,{},t.join("\n"))}this.inmemory=!0}else n.inmemory||this._loader.call(this,0)}}var je=function(n){return n.NoKeys="NO_KEYS",n.NoKey="NO_KEY",n.NotANumber="NOT_NUMBER",n.Empty="EMPTY_BUFFER",n.Pattern="PATTERN_MISMATCH",n.NotUnique="NOT_UNIQUE",n.Mandatory="MANDANTORY",n.TypeRedef="TYPE_REDEF",n.MissingTagName="MISSING_TAGNAME",n.UnknownType="UNKNOWN_TYPE",n.ExcessiveField="EXCESSIVE_FIELD",n.PtkNamed="PTK_NAMED",n.PtkNoName="PTK_NONAME",n.RedefineChunkTag="REDEFINE_CHUNK_CHUNK_TAG",n.InvalidLinkAddress="INVALID_LINK_ADDRESS",n}({});function Fe(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}je.MissingTypedef;class Be{resetUnique(){this.unique&&(this.unique={})}validate(n,t){if(this.unique){if(this.unique[n])return[je.NotUnique,"tag:"+this.name+", value:"+n,this.unique[n]];this.unique[n]=t}return[0,n]}find(){return-1}constructor(n,t){Fe(this,"type",void 0),Fe(this,"name",void 0),Fe(this,"foreign",void 0),Fe(this,"optional",void 0),Fe(this,"unique",void 0),Fe(this,"caption",void 0),this.name=n,this.foreign=t.foreign||"",this.pattern=t.pattern||null,this.keys=t.keys||[],this.unique=null,this.optional=!0,this.caption="",this.type=t.type||"string",this.values=[],this.sortedIndex;for(let e in t)this.hasOwnProperty(e)||console.log("unknown defining attr",e,"of",n,t),this[e]=t[e];t.unique&&(this.unique={})}}const Re=(n,t=!1)=>{if(!n)return[];const e=n.split("."),s=Array();for(let n=0;n<e.length;n++){const t=e[n].match(/^([a-z_\-]+)#([a-z\d_-]+)$/),i=e[n].match(/^([a-z_\-]+)(\d+[a-z\d_-]+)$/),l=e[n].match(/^([a-z_\-]+)(\d*)$/);if(t)s.push([t[1],t[2]]);else if(i)s.push([i[1],i[2]]);else if(l)s.push([l[1],l[2]]);else{const t=e[n].indexOf("#");t>0?s.push([e[n].slice(0,t),e[n].slice(t+1)]):s.push(["ck",e[n]])}}if(t){const n={};for(let t=0;t<s.length;t++){const[e,i]=s[t];n[e]=i}return n}return s},He=n=>{let t,e="",s="",i="",l="",r="",o=n.match(Un);if(o)[t,e,s,i,l,r]=o;else if(o=n.match(Hn),o)[t,e,i,l,r]=o;else{if(o=n.match(Rn),!o)return null;[t,i,l,r]=o}i=(i||"").slice(1),l=(l||"").slice(1),r=(r||"").slice(1),i||l||!r||parseInt(r)>5&&(i=parseInt(r)-Math.floor(2.5),l=i+5);let c=0;const a=r.indexOf("-");return~a&&(c=parseInt(r.slice(a+1))),e=e||"",e=e.slice(0,e.length-1),{ptkname:e,action:s,from:Math.abs(parseInt(i))||0,till:Math.abs(parseInt(l))||0,highlightline:r?parseInt(r):-1,lineoff:parseInt(r),choff:c}};function Ue(n){const t=Array(),e=this;let s=0,i=e.header.eot;for(let f=0;f<n.length;f++){const[h,p]=n[f];if(e.defines[h]){var l;const n=null===(l=e.defines[h])||void 0===l?void 0:l.fields.id,r="number"==(null==n?void 0:n.type)?parseInt(p):p,o=ht(e.defines[h].linepos,s),c=n.values.indexOf(r,o),a=e.defines[h].linepos[c]||e.defines[h].linepos[0];let d=e.defines[h].linepos[c+1]||e.header.eot;if(!(a>=s&&n.values[c]==r))return[];s=a,d>i&&i!==e.header.eot?d=i:i=d,t.push([a,d])}else{var r,o;const n=null===(r=e.defines.bk)||void 0===r?void 0:r.fields.id.values.indexOf(h),i=-1==n?null===(o=e.defines.ak)||void 0===o?void 0:o.fields.id.values.indexOf(h):-1;if(0==f&&(~n||~i)){var c,a,d,u;const l=(null===(c=e.defines.bk)||void 0===c?void 0:c.linepos[n])||(null===(a=e.defines.ak)||void 0===a?void 0:a.linepos[i]);let r=(null===(d=e.defines.bk)||void 0===d?void 0:d.linepos[n+1])||(null===(u=e.defines.ak)||void 0===u?void 0:u.linepos[i+1]);r||(r=e.header.eot),t.push([l,r]),s=l}}}if(n.length>1){const n=e.header.sectionstarts;for(let e=0;e<t.length;e++){let[s,i]=t[e];const l=ht(n,s+1);i>n[l]&&(t[e][1]=n[l])}}return t}function We(n){let t=n;"string"==typeof n&&(t=He(n));const{from:e,till:s,action:i,highlightline:l}=t,r=Re(i),o=Ue.call(this,r);if(o.length){const[n,t]=o[o.length-1];return[n,t,e,s,l]}return[0,0,e,s,l]}async function De(n){const t=We.call(this,n);if(!t||t[0]==t[1])return[];await this.loadLines([t]);return this.slice(t[0],t[1])}async function Ke(n,t="num"){const e=We.call(this,n);if(!e||e[0]==e[1])return[];const s=this.getSectionName(e[0]),i=s.replace("off",t),l=this.getSectionStart(s),r=this.getSectionStart(i);if(~r){const n=e[0]-l+r,s=e[1]-l+r;await this.loadLines([n,s]);let i=this.slice(n,s);return"num"==t&&(i=i.map((n=>Ot(n)))),i}return[]}function Je(n){let t=n;"string"==typeof n&&(t=He(n));const{action:e}=t,s=this.defines,i=Re(e),l=[];for(let n=0;n<i.length;n++){var r,o;const[t,e]=i[n];if(!s[t]||!s[t].fields.id)return"";const c=s[t].fields.id.values.indexOf(e);l.push(null===(o=s[t])||void 0===o||null===(r=o.innertext)||void 0===r?void 0:r.get(c))}return l.join("/")}function Ye(n,t){return n+(isNaN(parseInt(t))?"#":"")+t}function Qe(n){const t=Re(n),e=Array();let s=0;for(let n=0;n<t.length;n++){let[i,l]=t[n];if(!this.defines[i])continue;const r=this.defines[i].linepos,o=this.defines[i].fields.id.values,c=ht(r,s);"number"==typeof o[0]&&(l=parseInt(l));let a=o.indexOf(l,c),d=a-c;a<0&&(a=0),d<0&&(d=0),e.push({tagname:i,at:a,rel:d}),s=r[a]}return e}function Ve(n,t){const e=this.defines[n];if(!this.defines[n])return null;const s=e.fields.id.values.indexOf(t);return~s?this.getTagFields(n,[s])[0]:null}async function Xe(n,t){const e=Ue.call(this,[[n,t]]);if(e.length){const[s,i]=e[0];await this.loadLines([s,s+1]);const l=this.getLine(s),[r,o]=ct(l);for(let e=0;e<o.length;e++)if(o[e].name==n&&o[e].attrs.id==t)return o[e]}return null}function Ge(n,t=0,e=0){var s;e||(e=this.header.eot);const i=null===(s=this.defines[n])||void 0===s?void 0:s.linepos;if(!i)return[];const l=ht(i,t);let r=ht(i,e);return i[r]>e&&r--,[l,r]}function Ze(n,t){const[e,s]=this.rangeOfAddress(n),[i,l]=this.tagInRange(t,e,s);return l-i}function ns(n,t,e=""){if("string"==typeof t&&(t=this.defines[t]),!t)return-1;const s=t.linepos;if(!s)return null;const i=ht(s,n)-1,l=n<s[s.length-1]?i:i+1;return e?t.fields[e].values[l]:l}function ts(n,t,e,s=0){let i=n.fields[t].values.indexOf(e);for(;i>=0&&n.linepos[i]<s;)i=n.fields[t].values.indexOf(e,i+1);return i}function es(n,t){var e;const s=null===(e=this.defines[n])||void 0===e?void 0:e.fields;return!(!s||!s.id)&&("number"==s.id.type&&"number"!=typeof t&&(t=parseInt(t)),!!~s.id.values.indexOf(t))}function ss(n,t,e=[]){const s=this.defines[n];if(!s)return[];let[i,l]=t.split("=");l||(l=i,i="id");const r=Array(),o=s.fields[i];if(!o)return[];let c=o.values.indexOf(l);for(;~c;)r.push(c),c=o.values.indexOf(l,c+1);return this.getTagFields(n,r,e)}function is(n,t=null,e=null){const s=this.defines[n];if(!s)return[];const i=Array(),l=n=>{const t={at:n};if(e)for(let i=0;i<e.length;i++){const l=s.fields[e[i]];l&&(t[e[i]]=l.values[n])}else{for(let e in s.fields)s.fields[e].values[n]&&(t[e]=s.fields[e].values[n]);t.innertext=s.getInnertext(n)}return t};if(t)for(let n=0;n<t.length;n++)i.push(l(t[n]));else for(let n=0;n<s.count;n++)i.push(l(n));return i}function ls(n){const t=Array();if(!n)return t;n.endsWith(".off")||(n+=".off");const e=this.header,s=e.sectionnames.indexOf(n);if(!~s)return t;const i=e.sectionstarts[s+1]-e.sectionstarts[s];for(let n=0;n<e.sectionnames.length;n++){const l=e.sectionnames[n];if(n==s)continue;e.sectionstarts[n+1]-e.sectionstarts[n]==i&&l.match(/^[a-z]/)&&l.endsWith(".off")&&l!==e.sectionnames[s]&&t.push(l.replace(".off",""))}return t}class rs extends Be{validate(n,t){const e=He(n),s=Re(e.action);this.invertlinks[e.ptkname]||(this.invertlinks[e.ptkname]={});let i=this.invertlinks[e.ptkname];s.length;for(let n=0;n<s.length;n++){let[t,e]=s[n];0!=n||s[n][1]||(t="bk",e=s[n][0]);const l=Ye(t,e);n==s.length-1?(i[t]||(i[t]={}),i[t][e]||(i[t][e]=[]),i[t][e].push(this.count),this.count++):(i[l]||(i[l]={}),i=i[l])}return[0,n]}serializeLinks(n){const t=[];for(let e in n){const s=n[e];for(let n in s){const i=[];for(let t in s[n])i.push([t,s[n][t]]);i.sort(vt);const l=i.map((n=>n[0])),r=i.map((n=>n[1]));t.push(e),t.push(n),t.push(l.join(zt)),t.push(Nt(r))}}return t}serialize(){const n={};let t=[].concat(this.values);for(let e in this.invertlinks){const s=this.serializeLinks(this.invertlinks[e]);n[e]=s.length,t=t.concat(s)}return n["*"]=this.values.length,t.push(JSON.stringify(n)),t}deserialize(n,t){const e=JSON.parse(n.pop()),s=e["*"];let i=0;for(let l in e){if("*"==l)continue;const r=e[l];for(;i<r;){const e=n[s+i],r=n[s+i+1],o=new Lt(n[s+i+2],{sep:zt}),c=Pt(n[s+i+3]);t.addBacklinks(this.name,l,e,r,o,c),i+=4}}const l=n.slice(0,s);return n.length=0,l}constructor(n,t){super(n,t),this.invertlinks={},this.type="link",this.count=0}}class os extends Be{validate(n,t){const e=this.keys;if(!e)return[je.NoKeys,n];if(!n)return[this.optional?0:je.Mandatory,[]];const s=pt(e,n);return e[s]!==n?[je.NoKey,[]]:[0,s]}constructor(n,t){super(n,t),this.type="key"}}class cs extends Be{validate(n,t){const e=this.keys;if(!e)return[je.NoKeys,n];if(!n)return[this.optional?0:je.Mandatory,[]];const s=n.split(",").map((n=>{if(!n)return 0;const t=pt(e,n);return e[t]===n?t:-1})).filter((n=>!!n)).sort(((n,t)=>n-t));return s.filter((n=>-1===n)).length?[je.NoKey,[]]:[0,s]}constructor(n,t){super(n,t),this.type="keys"}}class as extends Be{constructor(n,t){super(n,t),this.type="text"}}class ds extends Be{_sort(){[this.values,this.sortedIndex]=(n=>{const t=n.map(((n,t)=>[n,t]));t.sort(((n,t)=>n[0]-t[0]));const e=t.map((([n,t])=>t));return[t.map((([n,t])=>n)),e]})(this.values)}find(n){if(!this.values.length)return-1;this.sortedIndex||this._sort();const t=pt(this.values,n);return this.values[t]==n?this.sortedIndex[t]:-1}validate(n,t){const e=parseInt(n);if(e.toString()!==n&&(null==n?void 0:n.length))return[je.NotANumber,t];if(this.pattern&&!n.match(this.pattern))return[je.Pattern,0];if(this.unique&&e>=0){if(this.unique[n])return[je.NotUnique,"tag:"+this.name+", value:"+n,this.unique[n]];this.unique[n]=t}return[0,parseInt(n)]}constructor(n,t){super(n,t),this.type="number",this.name=n,this.sortedIndex=null}}class us extends Be{validate(n,t){void 0===n&&console.log("undefined",t);const e=n.split(",").filter((n=>!!n)),s=[];for(let n=0;n<e.length;n++){const i=e[n],l=parseInt(e[n]);if(l.toString()!==i&&i.length)return[je.NotANumber,t];if(this.pattern&&!i.match(this.pattern))return[je.Pattern,t];s.push(l)}return[0,s]}constructor(n,t){super(n,t),this.type="numbers"}}class hs extends Be{validate(n,t,e){const s=n.split(","),i=[];let l=0;for(let n=0;n<s.length;n++){const t=parseInt(s[n]);if(isNaN(t)){const t=e[s[n]];if(!t)throw"no such file "+s[n];l=t.linestart}else i.push(l+t)}return[0,i]}constructor(n,t){super(n,t),this.type="filelinepos",this.prevfn=""}}class ps extends Be{validate(n,t){if(!n)return[this.optional?0:VError.Mandatory,[]];if(this.ranges[n]||(this.ranges[n]=[]),this.ranges[n].push(t),isNaN(n))throw"group index should be numeric";return[0,parseInt(n)]}serialize(n){const t=Object.keys(this.ranges);t.sort(mt),n.push(t.join(zt));const e=[];for(let n=0;n<t.length;n++)e.push(this.ranges[t[n]]);n.push(St(e)),n.push()}deserialize(n){const t=(n.shift()||"").split(zt),e=It(n.shift());for(let n=0;n<t.length;n++)this.ranges[t[n]]=e[n]}constructor(n,t){super(n,t),this.type=t.type||"range",this.ranges={}}}function gs(n,t,e,s=!1){if("string"!=typeof t)return new Be(n,t);let i;const l=t.match(/([a-z_]+):?([a-z_]*)\/?(.*)/);if(!l)return;const r=l[1],o=l[2];let c,a=l[3];if(a){const n=a.lastIndexOf("/");let t="";n>0&&(t=a.slice(n+1),a=a.slice(0,n)),c=new RegExp(a,t)}if("number"===r)i=new ds(n,{pattern:c,foreign:o});else if("numbers"===r)i=new us(n,{pattern:c,foreign:o});else if("filelinepos"===r)i=new hs(n,{pattern:c,foreign:o});else if("unique_number"===r)i=new ds(n,{pattern:c,unique:!0,optional:!1,foreign:o});else if("unique"===r)i=new as(n,{pattern:c,unique:!0,optional:!1,foreign:o});else if("string"===r)i=new Be(n,{pattern:c,foreign:o});else if("link"===r)i=new rs(n,{pattern:c,foreign:o});else if("text"===r)i=new as(n,{pattern:c});else if("key"===r){const t=e&&e[o]||s;i=new os(n,{keys:t,pattern:c,foreign:o,optional:!1})}else if("keys"===r){const t=e&&e[o]||s;i=new cs(n,{keys:t,pattern:c,foreign:o})}else if("group"===r)i=new ps(n,{type:r});else if("note"===r){const t=e&&e[o]||s;i=new Be(n,{type:r,keys:t,pattern:c,foreign:o})}else"confer"===r&&(i=new Be(n,{type:r,foreign:o}));return i||(i=new Be(n,{})),i}function ms(n,t){const e=parseInt(t.name.slice(1,2),36)-10;if(isNaN(e))return;if(!(e==this.prevdepth||e==this.prevdepth+1||e<this.prevdepth)){const n="目彔深度错误 "+this.prevdepth+"+1!="+e;this.errors.push({msg:n,offset:t.offset,prev:this.prevzline})}let s=n.tagText(t);const i=Jn(s);s.slice(s.length-1)==i&&(s=s.slice(1,s.length-1));const l=this.compiledLine+this.line;this.toc.push({depth:e,text:s,key:this.zcount,line:l}),this.zcount++,this.prevzline=l,this.prevdepth=e}function vs(n,t){const e=this.typedefs.y;e.linepos.push(this.compiledLine+this.line);e.fields.id.values.push(t.name.slice(1)+(t.attrs.id||""));let s=Yn(n.tagText(t));e.innertext.push(s),e.count++}function $s(n,t){const e=this.typedefs.x;e.linepos.push(this.compiledLine+this.line);const s=e.fields.id,i=t.attrs.id+(t.attrs.ln?"@"+t.attrs.ln:"")||"";s.values.push(t.name.slice(1)+i);let l=Yn(n.tagText(t));e.innertext.push(l),e.count++}function ks(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}class bs{addColumn(n){this.fieldnames.push(n),this.fieldvalues.push([])}tokenizeField(n){const t=et(n);for(let n=0;n<t.length;n++){const{text:e,type:s}=t[n];s>nt.SEARCHABLE&&!this.tokentable[e]&&(this.tokentable[e]=!0)}}addRow(n,t,e,s){let i=0;for(e&&i++;i<this.fieldsdef.length;i++){const e=this.fieldsdef[i],[l,r]=e.validate(n[i],t,s);l&&this.onError&&this.onError(l,this.fieldnames[i]+" "+n[i],-1,t),this.fieldvalues[i].push(r||""),i+1==this.tokenfield&&this.tokenizeField(r)}}createFields(n){if(n)for(let t in n){const e=n[t]||"key=string",[s,i]=e.split("=");this.addColumn(s);const l=gs(s,i||{},this.primarykeys,this.keys);this.fieldsdef.push(l)}}deserialize(n){var t;if(!n.length)return;const e=n.shift(),[s,i]=ct(e);if(!n.length)return;this.attrs=null===(t=i[0])||void 0===t?void 0:t.attrs,this.name=this.attrs.name,this.caption=this.attrs.caption;const l=s.split("\t");this.createFields(l),"serial"==this.attrs.keytype?this.keys=null:this.keys=new Lt(n.shift(),{sep:zt}),this.attrs.tokenfield&&(this.tokenfield=parseInt(this.attrs.tokenfield),this.runtimetokentable=(n.shift()||"").split(zt),this.runtimetokentable.sort(mt));let r=0,o=!1;for(let t in this.fieldsdef){const e=this.fieldsdef[t];"number"===e.type?this.fieldvalues[r]=Ot(n.shift()):"numbers"===e.type||"filelinepos"===e.type||"keys"===e.type?this.fieldvalues[r]=It(n.shift()):"key"===e.type?this.fieldvalues[r]=Ot(n.shift()):"string"===e.type?this.fieldvalues[r]=n.shift().split(zt):"group"===e.type?(e.deserialize(n),this.fieldvalues[r]=Ot(n.shift())):"text"===e.type&&(o=!0,this.fieldvalues[r]=n),this[e.name]||(this[e.name]=this.fieldvalues[r]),r++}!o&&n.length&&console.log("section not consumed")}fromStringArray(n,t={},e=1,s){const i=Array();let l=n.first(),r=0,o=!1;for(;e>0;)l=n.next(),e--;for(;l||""===l;){const t=l.split("\t");i.push(t),l=n.next()}if("serial"!==t.keytype&&(i.sort(vt),o=!0,this.keys=i.map((n=>n[0]))),this.createFields(this.typedef),t.tokenfield&&(this.tokenfield=parseInt(t.tokenfield||-1),this.tokentable={},0===this.tokenfield&&this.tokenizeField(this.keys.join(zt))),!this.fieldnames.length)throw"missing typedef";for(let n=0;n<i.length;n++)this.addRow(i[n],n+1,o,s);const c=Array();this.keys&&c.push(this.keys.join(zt)),this.tokenfield>-1&&c.push(Object.keys(this.tokentable).join(zt));for(let n=0;n<this.fieldnames.length;n++){const t=this.fieldsdef[n];if("number"==t.type||"line"==t.type){const t=this.fieldvalues[n].map((n=>parseInt(n)||0))||[];c.push(Tt(t))}else if("numbers"==t.type||"filelinepos"==t.type){const t=this.fieldvalues[n]||[];if(1==t.length)throw"must have more than one array";c.push(St(t))}else if("keys"==t.type){const t=this.fieldvalues[n]||[];c.push(St(t))}else if("key"==t.type){const t=this.fieldvalues[n]||[];c.push(Tt(t))}else if("string"==t.type)c.push(this.fieldvalues[n].join(zt));else if("group"==t.type)t.serialize(c),c.push(Tt(this.fieldvalues[n]));else if("text"==t.type){if(n!==this.fieldnames.length-1)throw"multiline text fieldtype must be the last, "+this.fieldnames[n];r=c.length;for(let t=0;t<this.fieldvalues[n].length;t++)c.push(this.fieldvalues[n][t])}else t.type&&this.onError&&this.onError(je.UnknownType,t.type)}return 0==r&&(r=c.length),[c,r]}fromTSV(n,t,e=1){const s=new Lt(n,{sequencial:!0});return this.fromStringArray(s,t,e,this.compiledFiles)}toTSV(){if(!this.keys)return"";let n=this.keys.first(),t=0;const e=Array();for(;n;){const s=[n];for(let n=1;n<this.fieldvalues.length;n++)s.push(this.fieldvalues[n][t]);n=this.keys.next(),t++,e.push(s.join("\t"))}return e.join("\n")}findKey(n){return this.keys?this.keys.find(n.toString()):parseInt(n)-1}fieldsByKey(n){const t=this.findKey(n);if(!n)return null;if(~t){const e={key:n};for(let n=0;n<this.fieldvalues.length;n++)e[this.fieldnames[n]]=this.fieldvalues[n][t];return e}return null}fieldByKey(n,t){const e=this.findKey(n);if(!n)return null;if(~e){const n=this.fieldnames.indexOf(t);return~n?this.fieldvalues[n][e]:this.fieldvalues[1][e]}return null}getKey(n){return this.keys?this.keys.get(n):(n+1).toString()}constructor(n={}){ks(this,"fieldvalues",void 0),ks(this,"fieldnames",void 0),ks(this,"fieldsdef",void 0),ks(this,"name",void 0),ks(this,"attrs",void 0),ks(this,"caption",void 0),ks(this,"keys",void 0),ks(this,"primarykeys",void 0),ks(this,"onError",void 0),ks(this,"tokenfield",void 0),ks(this,"tokentable",void 0),ks(this,"runtimetokentable",void 0),ks(this,"typedef",void 0),this.fieldvalues=[],this.fieldnames=[],this.fieldsdef=[],this.name="",this.keys=null,this.primarykeys=n.primarykeys||{},this.onError=n.onError,this.typedef=n.typedef,this.tokenfield=-1,this.tokentable={},this.runtimetokentable=Array()}}var ws=function(n){return n.Offtext="txt",n.TSV="tsv",n.Unknown="unknown",n}({});function ys(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}const xs={caption:!0,lazy:!1,key:!0,field:!0,text:!0,type:!0};class As{resetChildTag(){if(this.attrs.reset){const n=this.attrs.reset.split(",");for(let t=0;t<n.length;t++){const e=this.typedefs[n[t]];if(e)for(let n in e.fields){const t=e.fields[n];t.unique&&t.resetUnique()}}}}validateFields(n,t,e,s){let i,l=!1;this.count++;for(let r in this.attrs){const o=this.fields[r];let c=n.attrs[r];o&&!o.foreign&&o.values.push(n.attrs[r]);let[a,d,u]=o&&o.validate(n.attrs[r],t,s)||[0,c,-1];a?e(a,d,u):(l||(i=Object.assign({},n),i.attrs=Object.assign({},n.attrs)),Array.isArray(d)&&(d=d.join(",")),i.attrs[r]=d,l=!0)}return i}validateTag(n,t,e,s,i,l){if((this.fields.id||this.fields["@"]||this.fields.ln||this.attrs.savelinepos)&&this.linepos.push(s+e),this.attrs.bracket){let e=n.tagText(t);e||(e=n.plain.trim()||"noname"),"true"!==this.attrs.bracket&&(e=Yn(e)),this.innertext.push(e.slice(0,15))}for(let n in this.mandatory)!t.attrs.hasOwnProperty(n)&&this.mandatory[n]&&l(je.Mandatory,t.name+" "+n);this.resetChildTag();return this.validateFields(t,e,l,i)}deserialize(n,t,e){const s=n.shift(),i=s?s.split(zt):[];if(n.length>i.length&&(this.linepos=_t(n.shift()),this.count=this.linepos.length),n.length){this.fields.bracket&&(this._innertext=new Lt(n.shift()||"",{sep:zt}));for(let e=0;e<i.length;e++){const s=i[e],l=this.fields[s];l?"number"===(null==l?void 0:l.type)?l.values=Ot(n.shift()):"text"===(null==l?void 0:l.type)?l.values=n.length?(n.shift()||"").split("\t"):[]:(null==l?void 0:l.deserialize)&&(l.values=l.deserialize(n,t)):console.error("unknown type "+s)}n.length&&console.log("unconsumed section lines",n.length,e)}}serialize(){const n=Array(),t=Array();if(!this.count)return null;var e;(this.linepos.length||this.fields.bracket)&&t.push((e=this.linepos,Tt(e,!0))),this.fields.bracket&&t.push((this.innertext||[]).join(zt));for(let e in this.fields){const s=this.fields[e];if(!s.foreign)if("number"==s.type)n.push(e),t.push(Tt(s.values.map((n=>parseInt(n)||0))));else if("text"==s.type)n.push(e),t.push(s.values.join("\t"));else if(s.serialize){n.push(e);const i=s.serialize();for(let n=0;n<i.length;n++)t.push(i[n])}}return t.unshift(n.join(zt)),t.length?t.join("\n"):null}getInnertext(n){var t;return(null===(t=this._innertext)||void 0===t?void 0:t.get(n))||""}constructor(n,t,e,s){ys(this,"count",void 0),ys(this,"fields",void 0),ys(this,"mandatory",void 0),ys(this,"tagname",void 0),ys(this,"linepos",void 0),ys(this,"innertext",void 0),ys(this,"_innertext",void 0),ys(this,"typedefs",void 0),ys(this,"column",void 0),ys(this,"attrs",void 0),this.fields={},this.mandatory={},this.tagname=t,this.linepos=[],this.typedefs=s,this.innertext=[];for(let s in n){const i=n[s],l=gs(t,"string"==typeof i?i:{optional:!1},e);l&&(this.fields[s]=l),!l||l.optional||xs[s]||(this.mandatory[s]=!0)}if(this.attrs=n,this.column="",this.count=0,this.attrs.resetby){const n=this.attrs.resetby.split(",");for(let e=0;e<n.length;e++){const s=this.typedefs[n[e]];if(s)if(s.attrs.reset){const n=s.attrs.reset.split(",");n.push(t),s.attrs.reset=$t(n).join(",")}else s.attrs.reset=t;else console.log("not such parent tag",n[e])}}}}const qs={generic:"^:ak<id=unique bracket=false reset=n>\n^:bk<id=unique heading=text bracket=false reset=ck,dk,juan aligncaption=text>\n^:ck<id=unique heading=text bracket=false>\n^:dk<id=unique>\n^:h<id=text>\n^:cb<id=text>\n^:end<id=text>\n^:p<id=text>\n^:b<bracket=false>\n^:n<id=number>\n^:pn<id=text>\n^:lb<id=text>\n^:ii<bracket=false>\n^:quote\n^:fig<bracket=false>\n^:image\n^:quotei\n^:s<bracket=false>\n^:pb<id=unique resetby=bk>\n^:folio<id=unique reset=pb lines=number bracket=false>\n^:m<id=text>\n^:juan<id=number>\n^:o<@=link>\n^:j<@=link>\n^:k<id=text>\n^:wiki\n^:png<id=text src=text>\n^:svg<id=text>\n^:uiicon<id=text>\n^:jpg<src=text>\n^:ad\n^:bc\n^:gatha\n^:au\n^:cut\n^:paste\n^:notranslation\n^:ver<savelinepos=true>\n^:f<id=text>\n^:i<bracket=false @=text savelinepos=true>\n^:sponsor<savelinepos=true>\n^:https<bracket=false onclick=gourl>\n^:fn<id=text>\n^:t\n^:x<id=text @=text bracket=false savelinepos=true>\n^:y<id=unique bracket=false savelinepos=true>\n^:connect<source=text target=text book=text>\n^:ln<from=text to=text pin=text>\n^:bb\n^:audio\n^:clip\n^:img\n^:sz\n^:sc\n^:missing\n^:misalign\n^:ff\n^:part\n^:vaggo\n^:errorpunc\n^:puncerror\n^:error\n^:doubt\n^:tofix\n^:add\n^:pg\n^:swap\n^:move\n^:baidu\n^:note\n^:miss\n^:person\n^:diff\n^:corr",cbeta:"^:ak<id=unique bracket=false>\n^:bk<id=unique heading=text bracket=false reset=ck,p>\n^:ck<id=unique heading=text bracket=false>\n^:https<bracket=false onclick=gourl>\n^:p<id=text>\n^:f<id=text>\n^:ver<savelinepos=true>\n^:fn<id=number>\n^:fm<id=text>\n^:k<id=text>\n^:j<@=link>\n^:v\n^:h\n^:mc\n^:l",cs:"^:ak<id=unique bracket=false>\n^:bk<id=unique heading=text bracket=false>\n^:ck<id=unique heading=text bracket=false>\n^:n<id=unique resetby=bk>\n^:p<id=number>\n^:ti<id=number heading=text bracket=false>\n^:f<id=number>\n^:h\n^:sz\n^:ckan\n^:cksn\n^:https<bracket=false onclick=gourl>\n^:t",zidian:"^:ak<id=unique bracket=false reset=ck>\n^:bk<id=unique heading=text bracket=false reset=n>\n^:ck<id=unique heading=text bracket=false>\n^:f<id=number>\n^:https<bracket=false onclick=gourl>\n^:j<@=link>\n^:o<@=link>\n",subtitle:"^:ak<id=unique bracket=false reset=n>\n^:bk<id=unique heading=text bracket=false reset=ck>\n^:ck<id=unique heading=text bracket=false>\n^:mpeg<id=text savelinepos=true>\n^:ts<id=range>\n^:ver<savelinepos=true>"},Cs=n=>{const t={};for(let e=0;e<n.length;e++){const s=n[e].match(/(\d+)\.(.+)/);if(!s)throw"invalid note "+n[e]+" filename:"+filename;if(t[s[1]]||(t[s[1]]={}),t[s[1]][s[2]])throw"repeat note "+n[e];t[s[1]][s[2]]=0}return t};function Os(n,t){const e=Cs(t),s=n.footnote||"bk",i=this.typedefs[s],l=this.typedefs.i;for(let n=0;n<i.fields.id.values.length;n++){const t=i.fields.id.values[n],r=i.linepos[n],o=i.linepos[n+1],c=ht(l.linepos,r);let a=ht(l.linepos,o);if(l.linepos[c]<r)continue;(!a||l.linepos[a]<o)&&(a=l.linepos.length);const d=l.innertext.slice(c,a);for(let n=c;n<a;n++)l.fields.ln&&l.fields.ln.values[n]&&(d[n-c]=l.fields.ln.values[n]);for(let n=0;n<d.length;n++){let r=t,o=d[n],a=o.indexOf(".");a>0&&(r=o.slice(0,a),o=o.slice(a+1),o||(o=l.innertext[n+c])),e[r]?e[r].hasOwnProperty(o)?e[r][o]++:console.log(s+"#"+t,"not found",d[n],n):console.log("no such id",r,o,s,i.fields.id.values)}}}function _s(n,t,e){if(!n.footnote)return;const s=n.footnote||"bk",i=this.typedefs[s],l=this.typedefs.f;var r,o;if(i)if(this.typedefs.i&&Os.call(this,n,t),l)if("bk"==s){const s=i.fields.id.values.indexOf(n.name),c=i.linepos[s],a=i.linepos[s+1]||this.compiledLine,d=ht(l.linepos,c);let u=ht(l.linepos,a);if(l.linepos[d]>c){(!u||l.linepos[u]<a)&&(u=l.linepos.length);const n=l.fields.id.values.slice(d,u).sort(mt);n.join()!==t.join()&&console.log(e,"footnote missing match",(o=n,(r=t).filter((n=>!o.includes(n))).concat(o.filter((n=>!r.includes(n))))),t.join())}}else{const n=Cs(t);for(let t in n){const e=n[t],r=i.fields.id.values.indexOf(t),o=i.linepos[r],c=i.linepos[r+1]||this.compiledLine,a=ht(l.linepos,o);let d=ht(l.linepos,c);const u=l.fields.id.values.slice(a,d).sort(mt);for(let n=0;n<u.length;n++){const i=u[n];e.hasOwnProperty(i)?e[i]++:console.log("no note for ^f"+i,"in ^"+s+t)}}}else console.log("no f tag in source");else console.log("unknown tag",i,"checkfootnote")}function Is(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}const Ps=(n,t="")=>{const e=n.indexOf("\n");let s,i=!0,l="",r="",o=!1,c=ws.Unknown;t&&(t.endsWith(".tsv")&&(c=ws.TSV),t.endsWith(".off")&&(c=ws.Offtext)),n=e>-1?n.slice(0,e):n;const[a,d]=ct(n);if(d.length&&":"==d[0].name){var u;const n=d[0].attrs;n.hasOwnProperty("lazy")&&(i=!!n.lazy),c=(null===(u=d[0].attrs.type)||void 0===u?void 0:u.toLowerCase())||c,l=n.name,r=n.caption,o=!0,"tsv"==c&&(o=!1,i=!1),s=d[0]}return{sourcetype:c,tag:s,lazy:i,name:l,caption:r,consumed:o}};class Ns{reset(n={}){this.compilingname="",this.line=0,this.compiledLine=0,this.compiledFiles={},this.primarykeys={},this.errors=[],this.typedefs={},this.stopcompile=!1,this.tagdefs=[],this.backtransclusions={},this.toc=[],this.zcount=0,this.prevzline=0,this.prevdepth=0}onError(n,t,e=-1,s){this.errors.push({name:this.compilingname,line:s||this.line,code:n,msg:t,refline:e}),this.errors.length>=3&&(this.stopcompile=!0)}setPredefine(n="generic"){const t=qs[n]||"";this.compileOfftext(t,this.tagdefs)}compileOfftext(n,t){if(-1==n.indexOf("^"))return n;const e=new dt(n);for(let s=0;s<e.tags.length;s++){const i=e.tags[s];let l=n.slice(i.offset,i.end);if(":"==i.name[0]&&i.name.length>1){const n=i.name.slice(1);this.typedefs[n]?this.onError(je.TypeRedef,n):this.typedefs[n]=new As(i.attrs,n,this.primarykeys,this.typedefs),t.push(l)}else if("z"==i.name[0])ms.call(this,e,i);else if("y"==i.name[0])vs.call(this,e,i);else if("x"==i.name[0])$s.call(this,e,i);else if(":"!==i.name)if(i.name){const t=this.typedefs[i.name];if(t){const s=t.validateTag(e,i,this.line,this.compiledLine,this.compiledFiles,this.onError.bind(this));s&&(n=at(n,i,s))}else console.error("unknown tag\n",i.name)}else{const n=e.tagText(i,!0),[t,s]=ft("^["+n+"]");this.backtransclusions[s]||(this.backtransclusions[s]=new Array),this.backtransclusions[s].push(this.compiledLine+this.line)}}return n}clearCompiled(n){delete this.compiledFiles[n]}compileBuffer(n,t){if(!n)return this.onError(je.Empty);if(!t)return this.onError(je.PtkNoName);let e=!1,s=Array(),i={};const l=new Lt(n,{sequencial:!0}),r=l.first()||"",{sourcetype:o,tag:c,lazy:a,name:d,caption:u,consumed:f}=Ps(r,t);"txt"==o&&f&&s.push(r);let h=d||t,p=0;this.compilingname=t,this.stopcompile=!1;let g=Array();":"==(null==c?void 0:c.name)&&(c.attrs.ptk&&(this.ptkname&&this.ptkname!==c.attrs.ptk?this.onError(je.PtkNamed,this.ptkname):this.ptkname=c.attrs.ptk),"txt"!==c.attrs.type&&"0.off"!=t||this.setPredefine(c.attrs.define||c.attrs.template),i=c.attrs),Object.keys(this.tagdefs).length||this.setPredefine();const m=this.compiledLine;if(o===ws.TSV){var v;const[n,s]=ct(r),i=(null===(v=s[0])||void 0===v?void 0:v.attrs)||{},o=n.split("\t"),c=new bs({typedef:o,primarykeys:this.primarykeys,onError:this.onError.bind(this)}),[a,d]=c.fromStringArray(l,i,1,this.compiledFiles);i.hasOwnProperty("nocheck")||_s.call(this,i,c.keys,t),p=d,a?(h=(null==i?void 0:i.name)||t,a.unshift(r),(null==i?void 0:i.name)&&(this.primarykeys[i.name]=c.keys),this.compiledLine+=a.length,g=a,p++,e=!0):g=[]}else if(o===ws.Offtext){const n=Array();let t=l.first();for(f&&(t=l.next()),this.line=0;t||""===t;){const e=this.compileOfftext(t,s);if((e||""==e)&&(n.push(e),this.line++),t=l.next(),this.stopcompile)break}this.compiledLine+=n.length,g=n}else{if(!h.endsWith(".num"))throw"unknown extension "+h;{let n=l.first();const t=Array();for(;n||""===n;){const e=Tt(n.split(",").map((n=>parseInt(n||"0"))));if(t.push(e),n=l.next(),this.stopcompile)break}this.compiledLine+=t.length,p=t.length,g=t}}return this.compiledFiles[t]={name:h,caption:u,lazy:a,sourcetype:o,processed:g,textstart:p,errors:this.errors,samepage:e,tagdefs:s,attributes:i,linestart:m},this.compiledFiles[t]}constructor(n={}){Is(this,"typedefs",void 0),Is(this,"ptkname",void 0),Is(this,"compilingname",void 0),Is(this,"line",void 0),Is(this,"compiledLine",void 0),Is(this,"compiledFiles",void 0),Is(this,"primarykeys",void 0),Is(this,"errors",void 0),Is(this,"stopcompile",void 0),Is(this,"toc",void 0),Is(this,"zcount",void 0),Is(this,"prevzline",void 0),Is(this,"prevdepth",void 0),Is(this,"tagdefs",void 0),Is(this,"backtransclusions",void 0),this.reset(n)}}function Ts(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}class Ss{constructor(n){Ts(this,"lines",void 0),Ts(this,"depths",void 0),Ts(this,"texts",void 0),this.lines=_t(n.shift()),this.depths=Ot(n.shift()),this.texts=new Lt(n.shift())}}function Es(n){for(let t=0;t<n.length;t++){const e=n[t],s=Array();if(!this.defines[e]){console.log("not such tag",e);continue}const i=this.defines[e].fields.id.values;for(let n=0;n<i.length;n++)s.push(i[n].split(/(\d+)/).filter((n=>!!n)).length);this.defines[e].depths=s}}const zs=()=>[],Ls={};function Ms(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}((n,t)=>{Ls[n]=t,t.getFilters||(t.getFilters=zs),t.runFilter||(t.runFilter=zs),t.getCorrespondence||(t.getCorrespondence=zs)})("generic",{});class js extends Me{async init(){var n;if(!this.payload)return;const t=new Ns;t.compileBuffer(this.payload,"0.off"),this.defines=t.typedefs,this.attributes=null===(n=t.compiledFiles["0.off"])||void 0===n?void 0:n.attributes,this.lang=this.attributes.lang||"zh",this.template=Ls[this.attributes.template]||Ls.generic;const e=Array();for(let n=0;n<this.header.preload.length;n++){const t=this.sectionRange(this.header.preload[n]);t&&t[1]>t[0]&&e.push(t)}for(let n in this.defines)if(!this.defines[n].fields.lazy){const t=this.sectionRange("^"+n);t&&t[1]>t[0]&&e.push(t)}this.inmemory||await this.loadLines(e);for(let n=0;n<this.header.preload.length;n++){const t=this.getSection(this.header.preload[n]);t.length&&this.deserialize(t,this.header.preload[n])}for(const n in this.defines){if(!this.defines[n].fields.lazy){const t=this.getSection("^"+n);t&&t.length?this.defines[n].deserialize(t,this,n):this.defines[n].empty=!0}for(let t in this.defines[n].fields){const e=this.defines[n].fields[t];e.foreign&&this.primarykeys[e.foreign]&&(e.keys=this.primarykeys[e.foreign])}}for(const n in this.defines)this.defines[n].empty&&delete this.defines[n];for(const n in this.columns){var s;const t=null===(s=this.columns[n].attrs)||void 0===s?void 0:s.tagname;t&&this.defines[t]&&(this.defines[t].column=n)}}deserialize(n,t){if(!n.length)return;if(n[0]||n.shift(),!n.length)return;const e=n[0];Ps(e);const s=this.header.sectionnames.indexOf(t);if("tsv"===this.header.sectiontypes[s]){const t=new bs;t.deserialize(n),this.columns[t.name]=t,this.primarykeys[t.name]=t.keys}}typedefOf(n){return this.defines[n]}getSectionStart(n){const t=this.header.sectionnames.indexOf(n);return~t?this.header.sectionstarts[t]:-1}getSectionName(n){const t=ht(this.header.sectionstarts,n+1)-1;return this.header.sectionnames[t]}constructor(n){super(n),Ms(this,"defines",void 0),Ms(this,"primarykeys",void 0),Ms(this,"columns",void 0),Ms(this,"attributes",void 0),Ms(this,"tocs",void 0),Ms(this,"rangeOfAddress",void 0),Ms(this,"tagAtAction",void 0),Ms(this,"innertext",void 0),Ms(this,"inverted",void 0),Ms(this,"lang",void 0),Ms(this,"template",void 0),this.defines={},this.attributes={},this.primarykeys={},this.columns={},this.inverted=null,this.lang=""}}const Fs=new WebAssembly.Instance(new WebAssembly.Module(Uint8Array.from(atob("AGFzbQEAAAABCgJgAABgAn9/AXwDAwIAAQUDAQACBwkCAW0CAAFjAAEIAQAKlQECSQEDfwNAIAEhAEEAIQIDQCAAQQF2IABBAXFBoIbi7X5scyEAIAJBAWoiAkEIRw0ACyABQQJ0IAA2AgAgAUEBaiIBQYACRw0ACwtJAQF/IAFBf3MhAUGAgAQhAkGAgAQgAGohAANAIAFB/wFxIAItAABzQQJ0KAIAIAFBCHZzIQEgAkEBaiICIABJDQALIAFBf3O4Cw"),(n=>n.charCodeAt(0))))),{c:Bs,m:Rs}=Fs.exports;var Hs;(Hs=Rs,new Uint8Array(Hs.buffer||Hs)).subarray(65536);var Us=function(n){return n[n.fileHeaderSignature=1347093252]="fileHeaderSignature",n[n.descriptorSignature=1347094280]="descriptorSignature",n[n.centralHeaderSignature=1347092738]="centralHeaderSignature",n[n.endSignature=1347093766]="endSignature",n[n.fileHeaderLength=30]="fileHeaderLength",n[n.centralHeaderLength=46]="centralHeaderLength",n[n.endLength=22]="endLength",n[n.descriptorLength=16]="descriptorLength",n}({});function Ws(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}class Ds{loadFiles(n,t,e){const s=this.zipbuf.length-Us.endLength-t,i=new DataView(this.zipbuf.buffer);let l=s;for(let t=0;t<n;t++){if(i.getUint32(l)!==Us.centralHeaderSignature)break;const n=i.getUint32(l+20,!0),r=i.getUint16(l+28,!0),o=i.getUint16(l+30,!0),c=i.getUint16(l+32,!0);let a=i.getUint32(l+42,!0);l+=Us.centralHeaderLength;const d=this.zipbuf.subarray(l,l+r),u=(new TextDecoder).decode(d);let f;l+=r,l+=o+c,0===t&&(this.zipStart=a),a+=Us.fileHeaderLength+r;const h=e-s;a-h>=0&&(f=this.zipbuf.subarray(a-h,a-h+n)),this.files.push({name:u,offset:a,size:n,content:f})}}find(n){for(let t=0;t<this.files.length;t++)if(this.files[t].name==n)return this.files[t]}loadEndRecord(){const n={signature:0,fileCount:0,centralSize:0,centralOffset:0},t=new DataView(this.zipbuf.buffer),e=this.zipbuf.length-Us.endLength;if(n.signature=t.getUint32(e),n.signature!==Us.endSignature)throw console.log("endrecord signature",n.signature,"zipbuf length",this.zipbuf.length),"wrong endRecord signature";return n.fileCount=t.getUint16(e+8,!0),n.centralSize=t.getUint32(e+12,!0),n.centralOffset=t.getUint32(e+16,!0),n}constructor(n){Ws(this,"zipbuf",void 0),Ws(this,"files",void 0),Ws(this,"zipStart",void 0),n instanceof ArrayBuffer&&(n=new Uint8Array(n)),this.zipbuf=n instanceof Uint8Array?n:new Uint8Array(n.buffer),this.files=[],this.zipStart=0;const{fileCount:t,centralSize:e,centralOffset:s}=this.loadEndRecord();t&&this.loadFiles(t,e,s)}}const Ks=async(n,t=null)=>{let e=Js(n);if(e)return e;if(!n)return null;const s={name:n};if(t&&(s.zipstore=new Ds(t)),e=new js(s),((n,t)=>{we[n]=t})(n,e),await e.isReady())return await e.init(),e;xe(n)},Js=n=>n?ye(n):null,Ys=n=>n.replace(/【([^】]*)】/g,((n,t)=>"【"+"-".repeat(t.length)+"】")),Qs=async(n,t)=>{const{choff:e,lineoff:s,action:i}=He(t),[l,r]=n.rangeOfAddress(i);if(!r)return{};const o=n.defines.folio;let c=ht(n.defines.folio.linepos,l+1)-1;-1==c&&(c=0);const a=ht(n.defines.ck.linepos,l+1)-1,d=o.fields.id.values[c];if(!d)return{};const u=n.defines.ck.fields.id.values[a],f=new Vs(n);await f.load(d);const[h,p,g]=f.toFolioPos(u,s,e);return{id:d,pb:h,line:p,ch:g}};class Vs{toFolioPos(n="1",t=0,e=0){const[s,i]=this.chunkRange(n),l=this.offtext.slice(s,i);let r=0;for(;t>0&&r<l.length;)"\n"==l.charAt(r)&&t--,r++;const o=s+r+e,c=ht(this.pbpos,o+e+1)-1,[a,d]=this.pbRange(this.pbs[c]),u=Math.min(o,d);let f=this.offtext.slice(a,u);"^lb"==this.offtext.slice(u,u+3)&&(f+="^lb");const h=f.split("^lb"),p=h.length,g=this.countFolioChar(h[h.length-1]);return[this.pbs[c],p-1,g]}folioPageText(n){const[t,e]=this.pbRange(n);return(s=this.offtext.slice(t,e).split("\n"))&&s.length?(s[0].match(/(\^pb\d+)/),Ys(s.join("\t")).replace(/(..)\^pb/g,"$1^lb^pb").split("^lb")):[];var s}countFolioChar(n){return(n=>{let t=0,e="",s=0;const i=()=>{t&&"【"==e[0]&&(e=e.replace(/【([^】]*)】/,((n,t)=>"【"+"-".repeat(t.length)+"】")));const n=Xn(e);let i=0;for(;i<n.length;)(Dn(n[i])||"　"==n[i])&&s++,i++};return n.replace(Ln,((s,l,r,o)=>{e=n.slice(t,o),i(),t=o+s.length})),e=n.slice(t),i(),s})(n)}skipFolioChar(n,t){if(!n)return 0;let e=0,s=0,i="";const l=()=>{e&&"【"==i[0]&&(i=i.replace(/【([^】]*)】/,((n,t)=>"【"+"-".repeat(t.length)+"】")));const n=Xn(i);let l=0;for(;t>-1&&l<n.length;){(Dn(n[l])||"　"==n[l])&&t--,t>=0&&(s+=n[l].codePointAt(0)>=131072?2:1),l++}};let r=0;return n.replace(Ln,((s,o,c,a)=>{i=n.slice(e,a),l(),t<=0||(e=a+s.length,r+=s.length)})),i=n.slice(e),l(),s+r}fromFolioPos(n,t=0,e=0){let s=n;"object"==typeof n&&([s,t,e]=n);const[i,l]=this.pbRange(s),r=Ys(this.offtext.slice(i,l)),o=r.split("^lb");let c=i||0;for(let n=0;n<t;n++){var a;c+=((null===(a=o[n])||void 0===a?void 0:a.length)||0)+(n>0?3:0)}c+=this.skipFolioChar(r.slice(c-i),e);let d=ht(this.chunkpos,c+1)-1;const u=this.chunks[d<0?0:d],[f,h]=this.chunkRange(u),p=this.offtext.slice(f,h).split("\n");let g=f||0,m=0,v=0,$=0;for($=0;$<p.length;$++){if(g+p[$].length>=c){v=c-g;break}m++,g+=p[$].length+1}const k=this.from+this.chunklinepos[d]+m,b=this.chunklinepos[d+1]-this.chunklinepos[d],w=ht(this.ptk.defines.ck.linepos,k+1)-1,y=this.ptk.getChunk(w+1);return{ckid:u,lineoff:m,choff:v,linetext:p[$]||"",ptkline:k,linecount:b,at:w,ck:y}}chunkRange(n){const t=this.chunks.indexOf(n);return-1==t?[0,0]:[this.chunkpos[t],this.chunkpos[t+1]]}chunkText(n){const[t,e]=this.chunkRange(n);return this.offtext.slice(t,e)}pbRange(n){"number"==typeof n&&(n=n.toString());const t=this.pbs.indexOf(n);return-1==t?[0,0]:[this.pbpos[t],this.pbpos[t+1]]}async load(n){const t=this.ptk;let e,s,i="",l=n;n.match(/\d$/)?i=n.replace(/\d+$/g,""):(l="",i=n);const r=(i?"bk#"+i:"")+(l?".":"")+(l?"folio#"+l:"");if([e,s]=t.rangeOfAddress(r),e==s)return["",e,s];await t.loadLines([e,s]),this.folio=l,this.offtext=t.slice(e,s).join("\n"),this.from=e,this.to=s;let o=0,c=0;for(;o<this.offtext.length;){const n=this.offtext.slice(o,o+3);if("^pb"==n){this.pbpos.push(o),o+=3;const n=this.offtext.slice(o).match(/([\d]+)/);this.pbs.push(n[1]),o+=n[1].length}else if("^ck"==n){this.chunkpos.push(o),o+=3,"#"==this.offtext.charAt(o)&&o++;const n=this.offtext.slice(o).match(/([a-z\d]+)/);this.chunks.push(n[1]),this.chunklinepos.push(c),o+=n[1].length}else"\n"==n[0]&&c++,o++}this.pbpos.push(this.offtext.length-1),this.chunkpos.push(this.offtext.length-1),this.chunklinepos.push(c+1)}constructor(n){this.ptk=n,this.offtext="",this.pbs=[],this.pbpos=[],this.chunks=[],this.chunkpos=[],this.chunklinepos=[],this.ck=n.defines.ck}}const Xs=(n,t,e)=>{const s=n.columns[t];if(!s||!s.keys)return[-1,""];const i=s.keys.indexOf(e);if(-1==i)return[-1,""];const l=s.dkat[i],[r,o]=n.rangeOfAddress("bk#"+t+".dk#"+l);return[l,n.slice(r,o).join("\n"),t]},Gs=(n,t,e)=>{if(!e)return[-1,""];if(t)return Xs(n,t,e);{let t,s;for(let i of Object.keys(n.columns))if([t,s]=Xs(n,i,e),t>-1)return[t,s,i];return[-1,""]}},Zs=/@(.+)$/,ni=(n,t,e="")=>((n,t,e)=>{let[s,i,l]=Gs(n,t,e),r=i.match(Zs);for(;r&&(i="",e=r[1],r);)[s,i]=Gs(n,t,r[1]),r=i.match(/@([^ <>\[\]\{\}]+)$/);return[i,[{key:e}],s,0]})(n,e,t);function ti(n){let t,[e,s]=Gs(this,"",n),i=n;for(;t=s.match(Zs);)i=t[1],[e,s]=Gs(this,"",i);return i}function ei(n,t,e){const s=this.columns[n],i=s.fieldnames.indexOf(t);return s.fieldvalues[i][e]}async function si(n,t){const e=this.defines[n],s=this.columns[e.fields.type.foreign];if(!s)return;const i=s.findKey(t),l=e.attrs.text,r=s.fieldnames.indexOf(l),o=s.fieldvalues[r];return o&&o[i]||""}function ii(n,t,e=-1){const s=this.columns[n];"string"==typeof e&&(e=s.fieldnames.indexOf(e));const i=[];if(e>0)i.push({name:name,typedef:s.fieldsdef[e],value:s.fieldvalues[e][t]});else for(let n=0;n<s.fieldnames.length;n++){const e=s.fieldnames[n];i.push({name:e,typedef:s.fieldsdef[n],value:s.fieldvalues[n][t]})}return i}const li=(n,t,e)=>n+":"+t+"="+e;function ri(n,t,e){const s=Qt(e);let i=li(n,t,e),l=this.scanCache[i];if(l||s===e||(l=this.scanCache[li(n,t,s)]),!l){const r=this.columns[n][t];if(!r)return console.log("missing field",t,"in column",n),null;let o=bt(r,e);o.length||s===e||(o=bt(r,s),o.length&&(i=li(n,t,s)));l={name:n,field:t,caption:this.columns[n].caption||n,contain:o},this.scanCache[i]=l}return l}function oi(n){const t=[];if(!n)return[];for(let e in this.columns){if(!this.columns[e].attrs.scan)continue;const s=this.columns[e].attrs.scan.split(",");for(let i=0;i<s.length;i++){const l=ri.call(this,e,s[i],n);t.push(l)}}for(let e in this.primarykeys){if(!this.columns[e].attrs.bme)continue;const s=e+"="+n;let i=this.scanCache[s];if(!i){const t=this.primarykeys[e],l=t.enumStart(n),r=t.enumMiddle(n),o=t.enumEnd(n);i={name:e,caption:this.columns[e].caption||e,start:l,middle:r,end:o},this.scanCache[s]=i}t.push(i)}return t}function ci(n,t){const e=this,s=function(n,t,e){const s=n.nearestChunk(e),i=n.defines.fn;if(~n.findClosestTag(i,"id",t,e))return n.name+":bk#"+s.bk.id+".fm"+t}(e,n,t);if(s)return s;const i=e.nearestChunk(t),l=e.defines.ck,r=e.defines.bk,o="fn_"+i.bkid,c=r.fields.id.values.indexOf(o);if(-1==c)return e.name+":"+i.bk.id+".fm"+n;const a=r.linepos[c],d=e.findClosestTag(l,"id",i.id,a),u=l.fields.id.values[d];return e.name+":"+o+".ck"+(parseInt(u)?u:"#"+u)+".fn"+n}function ai(n,t){const e=this;let s="",i=!1;if(!n)return"";if(n&&~n.indexOf(".")?(s=e.getChunk(n.slice(0,n.indexOf("."))),i=!0):s=e.nearestChunk(t),!s)return"";let l=s.bkid+"-note",r=e.columns[l];if(r||(l=s.bkid,r=e.columns[l]),!r)return"--no note--";"ck"!=r.attrs.footnote||i||(n=s.id+"."+n);let o=r.fieldByKey(n,"note")||"";if(!o){const t=s.id+"."+n;o=Xs(e,l,t)[1]}return o}function di(n,t){const e=this,s=e.nearestChunk(t),i=e.defines.ck,l=e.defines.ck,r=e.defines.f;let o=s.bkid.replace("_fn","");const c=l.fields.id.values.indexOf(o);0==c?o="":o+=".";const a=l.linepos[c],d=e.findClosestTag(i,"id",s.id,a),u=i.fields.id.values[d],f=e.findClosestTag(r,"id",parseInt(n),i.linepos[d]),h=r.linepos[f]-i.linepos[d];return o+"ck"+u+(h?":"+h:"")}const ui=n=>{let t=n;const e=n.lastIndexOf("_");return~e&&(t=n.slice(0,e)),t};function fi(n,t,e=!1){const s=n.nearestChunk(t+1);if(!s)return[];const i=this.defines.bk,l=this.getParallelBook(s.bkid,e).map((n=>i.fields.id.values.indexOf(n))),r=t-n.defines.bk.linepos[s.bkat],o=[];for(let n=0;n<l.length;n++){const t=i.fields.id.values[l[n]],[e,c]=this.rangeOfAddress("bk#"+t+".ck#"+s.id),a=i.linepos[l[n]],d=a+r;d<=c&&o.push([this,e-a,d])}return o}function hi(n,t){if("number"==typeof n&&(n=this.defines.bk.fields.id.values[n]),!n)return[];const e=ui(n);return this.defines.bk.fields.id.values.filter((s=>ui(s)==e&&(t||n!==s)))}function pi(n,t){const e=this.defines[n],s=null==e?void 0:e.linepos;if(!e||!s)return[];const i=ht(s,t),l=e.fields.id.values[i].toString(),r=[];for(let t in this.foreignlinks){const e=ye(t),s=this.foreignlinks[t];for(let i=0;i<s.length;i++){const[o,c,a,d,u]=s[i];if(a!==n)continue;const f=e.defines[o].linepos,h=d.find(l),p=this.defines[o].fields["@"].values,g=u[h];for(let n=0;n<(null==g?void 0:g.length);n++){const s=p[g[n]],i=f[g[n]],l=e.nearestChunk(i+1);r.push({text:s,line:i,ck:l,basket:t})}}}return r}function gi(n){const t=this,e=t.rangeOfAddress(n),s=t.nearestChunk(e[0]+1);if(!s)return[];const i="bk#"+s.bkid+".ck#"+s.id,l=qe(t),r=[t.header.name];for(let n=0;n<l.length;n++){const t=ye(l[n]),[e,s]=t.rangeOfAddress(i);s>0&&r.push(l[n])}return r}function mi(n,t,e,s,i,l){t||(t="*"),this.backlinks[t]||(this.backlinks[t]={}),this.backlinks[t][this.name]||(this.backlinks[t][this.name]=[]),this.backlinks[t][this.name].push([n,e,s,i,l])}function vi(n){for(let t in n.backlinks)if(t==this.name||"*"===t)for(let e in n.backlinks[t])this.foreignlinks[e]=n.backlinks[t][e]}function $i(n,t){const e=this.LocalBackLinks[n];return e&&e[t]||[]}function ki(n){const t=this;if(!t.backtransclusions)return[];const e=t.keyOfEntry(n);return(t.backtransclusions[e]||[]).map((n=>((n,t,e=!1)=>{const s=[];for(let e of Object.keys(n.columns)){const i=n.columns[e];if(i.dkat)for(let l=0;l<i.dkat.length;l++){const[r,o]=n.rangeOfAddress("bk#"+e+".dk#"+i.dkat[l]);n.slice(r,o).join("\n").endsWith("@"+t)&&s.push(i.keys.get(l))}}return 0==s.length?t:e?s[0]||"":s})(t,n,!0))).filter((n=>!!n))}function bi(n){const t=(n=Yn(n)).match(Gn);if(t)return this.BookIdByName[t[1]]}function wi(n){const t=this.getTagById("bk",n);return this.defines.bk.getInnertext(null==t?void 0:t.at)}const yi=(n,t,e)=>{if(Object.keys(n.columns),e&&n.columns[e]){const s=n.columns[e].dkat.indexOf(parseInt(t));if(~s)return n.columns[e].keys.get(s)}else for(let e in n.columns){var s;const i=null===(s=n.columns[e].dkat)||void 0===s?void 0:s.indexOf(t);if(~i)return n.columns[e].keys.get(i)}return""};const xi=n=>{n.BookIdByName={},n.BookNameById={},n.guessBookId=bi,n.bookNameById=wi,n.backLinksOf=$i,n.backTransclusionOf=ki,n.keyOfEntry=ti,(n=>{var t;for(let e=0;e<(null===(t=n.defines.bk)||void 0===t?void 0:t.linepos.length);e++){const t=n.defines.bk.fields.id.values[e],s=n.defines.bk.getInnertext(e);s&&(n.BookIdByName[s]=t,n.BookIdByName[Yt(s)]=t,n.BookNameById[t]=s)}})(n),n.LocalBackLinks=function(n){const t=n.defines.x,e=n.defines.y,s={};if(!t||!e)return;const i=t.fields.id.values,l=n.defines.x.linepos;for(let e=0;e<i.length;e++){let[r,o,c]=ut(i[e]);if(!o){const s=t.getInnertext(e);o=bi.call(n,s)}const a=n.nearestTag(l[e],"bk","id");o||(o=a);const d="bk#"+o+".y#"+r,[u,f]=n.rangeOfAddress(d);s[o]||(s[o]={}),s[o][u+c]||(s[o][u+c]=[]),s[o][u+c].push(l[e])}return s}(n),n.backtransclusions=function(n){const t=n.getSection("_backtransclusions");if(!t.length)return{};const e={},s=new Lt(t.shift(),{sep:zt}),i=n.defines.dk;if(!i)return e;for(let l=0;l<s.len();l++){const r=_t(t.shift()),o=[];for(let t=0;t<r.length;t++){const e=i.linepos.indexOf(r[t]);if(~e){const s=n.nearestTag(r[t],"bk","id"),l=i.fields.id.values[e],c=yi(n,l,s);c&&o.push(c)}}const[c,a]=ni(n,s.get(l)),d=a[0].key;e[d]?(e[d].concat(o),e[d].sort()):e[d]=o}return e}(n)};function Ai(n){return ee(n,this.inverted.tokenlinepos)[0]}const qi=n=>{const t=n.getSection("toc");if(n.attributes.toctag&&t&&t.length>1){const e=t.shift(),{name:s}=Ps(e);n.tocs||(n.tocs={}),n.tocs[s||"*"]=new Ss(t,s);const i=n.attributes.toctag.split(",");Es.call(n,i)}};function Ci(n,t=!1){var e,s;const i=this.defines.ck;let l=null==i?void 0:i.getInnertext(n);const r=null==i||null===(s=i.fields)||void 0===s||null===(e=s.id)||void 0===e?void 0:e.values[n],o=this.template.onChunkCaption;var c,a;l||(l=(null===(a=this.columns[null==i?void 0:i.column])||void 0===a||null===(c=a.keys)||void 0===c?void 0:c.get(n))||"",!l&&o&&(l=o(r)));const d=null==l?void 0:l.indexOf(";");let u=l||"";return~d&&(u=l.slice(d),l=l.slice(0,d)),t?u:l}function Oi(n){let t=this.getCaption(n),e=0;for(;t&&t.endsWith("-");)e++,t=t.slice(0,t.length-1);let s=n,i=[];for(;s>0&&e;){s--;const n=this.getCaption(s).split(/[- ]+/),t=n.length;for(;!n[n.length-1];)n.pop();if(t-1>e);else if(n.length>1||1==t)for(;n.length&&e;)i.unshift("-"+n.pop()),e--}return t+i.join("")}function _i(n){const t=this.defines.ck||this.defines.dk,e=this.nearestTag(n,t);return this.getChunk(e)}function Ii(n){var t,e;if(!n)return"";const s=this.defines.ck,i=this.defines.bk,l=(null==s?void 0:s.linepos)||[],r=ht(l,n+1)-1,o=n-l[r],c=null==s||null===(e=s.fields)||void 0===e||null===(t=e.id)||void 0===t?void 0:t.values[r],a=this.nearestTag(n+1,i),d=Pi.call(this,a),u=null==d?void 0:d.id;return{id:c,tagname:"ck",caption:this.caption(r),lineoff:o,bk:d,bkid:u}}function Pi(n){var t;const e=this.defines.bk,s=e.fields.id.values[n];let i=null==e?void 0:e.getInnertext(n),l=i.slice(0,2);const r=(null==e||null===(t=e.fields.heading)||void 0===t?void 0:t.values[n])||(null==e?void 0:e.getInnertext(n)),o=i.indexOf(";");return~o&&(l=i.slice(o+1),i=i.slice(0,o)),{id:s,caption:i,short:l,heading:r,at:n}}function Ni(n){n=parseInt(n);const t=this.defines.ck||this.defines.dk,e=this.defines.bk;if(n<0)return null;if(n>=t.fields.id.values.length)return null;const s=t.linepos[n],i=this.nearestTag(s+1,e),l=Pi.call(this,i),r=l.id,o=t.fields.id.values[n],c=t.getInnertext(n);return{bk:l,bkid:r,bkat:i,caption:this.caption(n),at:n,id:o,depth:t.depths&&t.depths[n]||1,line:t.linepos[n],lineend:t.linepos[n+1]||-1,innertext:c}}function Ti(n,t){const e=this.defines.ck;if(!e.depths)return[];let s=e.linepos[n],i=e.depths[n];const l=[];for(;s>t&&i>1;)i>e.depths[n]&&(l.unshift(n),i--),n--,s=e.linepos[n];return l}function Si(n,t){let e=n-1;const s=this.defines.ck;if(!s.depths&&n>0)return n-1;for(;e>0;){if(s.depths[e]==s.depths[n])return e;if(s.depths[e]<s.depths[n])break;if(e--,t<s.linepos[e])break}return-1}function Ei(n,t){let e=n+1;const s=this.defines.ck;if(!s.depths&&n<t)return n+1;for(;e<s.linepos.length;){if(s.depths[e]==s.depths[n])return e;if(s.depths[e]<s.depths[n])break;if(e++,s.linepos[e]>=t)break}return-1}function zi(n){const t=this.defines.ck;return t.depths&&t.depths[n+1]==t.depths[n]+1?n+1:-1}function Li(n){const t=this,e=this.defines[((n,t)=>{for(let s in n.defines){var e;if((null===(e=n.defines[s].attrs.reset)||void 0===e?void 0:e.split(",").indexOf(t))>-1)return s}return null})(this,"ck")],s=e?this.nearestTag(n,e)-1:0,i=e?e.linepos[s]:0,l=e&&e.linepos[s+1]||t.header.eot,r=Ti.call(this,n,i),o=r.map((n=>t.getChunk.call(t,n))),c=Si.call(this,n);c>-1&&(!r.length||r[r.length-1]<c)&&o.push(this.getChunk(c)),o.push(this.getChunk(n));const a=zi.call(this,n,i);a>-1&&o.push(this.getChunk(a));const d=Ei.call(this,n,l);return d>-1&&o.push(this.getChunk(d)),o}function Mi(n,t="zh"){let e=this.attributes[t]||this.name;const s=e.indexOf("|");return-1==s?e:n?e.slice(0,s):e.slice(s+1)}const ji=n=>{(n=>{n.innertext=Je,n.humanName=Mi,n.fetchAddress=De,n.fetchAddressExtra=Ke,n.findClosestTag=ts,n.validId=es,n.nearestTag=ns,n.getTagFields=is,n.queryTagFields=ss,n.tagInRange=Ge,n.tagCount=Ze,n.fetchTag=Xe,n.getTagById=Ve,n.rangeOfAddress=We,n.rangeOfElementId=Ue,n.nearestChunk=_i,n.getChunk=Ni,n.neighborChunks=Li,n.getCaption=Ci,n.getHeading=Ii,n.caption=Oi,n.alignable=ls})(n),qi(n),(n=>{const t=n.getSection("_tokens");if(!n.inverted&&t&&t.length){t.shift();const e=n.sectionRange("_postings")[0];n.queryCache={},n.inverted=new Vt(t,e),n.loadPostings=le,n.loadPostingsSync=se,n.getPostings=ie,n.postingline=Ai,n.searchSentenceSync=me,n.searchSentence=ge,n.parseQuery=de,n.scanText=ue,n.hitsOfLine=fe,n.scoreLine=oe}})(n),xi(n),(n=>{n.inlineNote=si,n.footNoteAddress=ci,n.footNoteByAddress=di,n.footNoteInTSV=ai})(n),n.scanColumnFields=oi,n.searchColumnField=ri,n.tagAtAction=Qe,n.scanCache={},n.queryCache={},n.columnField=ei,n.foreignLinksAtTag=pi,n.getParallelBook=hi,n.getParallelLine=fi,n.enumParallelsPtk=gi,n.taggedLines={},n.foreignlinks={},n.addForeignLinks=vi,n.addBacklinks=mi,n.backlinks={},n.rowOf=ii,n.parallels={}},Fi=async(n,t,e,s={})=>{const i=((n,t,e=!1,s=!0,i=!1)=>{const l=[];if(!n)return l;const r=n.nearestTag(t+1,"bk"),o=n.defines.bk.linepos[r];e&&l.push([n,o,t]);const c=t-o,a=n.defines.bk.fields.id.values[r],d=n.getParallelBook(a);if(s)for(let t=0;t<d.length;t++){const[e,s]=n.rangeOfAddress("bk#"+d[t]);c<=s-e&&l.push([n,e-o,e+c])}if(i){const e=qe(n);for(let s=0;s<e.length;s++)Js(e[s]).getParallelLine(n,t,!0).forEach((n=>l.push([...n])))}return l})(n,t,!0,s.local,s.remote),l=[];for(let n=0;n<i.length;n++){const[t,e,s]=i[n];await t.loadLines([s]);const r=t.getLine(s),o=t.getHeading(s);l.push({ptk:t,heading:o,linetext:r,line:s})}return e&&e.push(...l),l},Bi=n=>`left:${n.left}px;width:${n.width}px;top:${n.top}px;height:${n.height}px`,Ri="YLZ.",Hi=()=>{for(let n in Wi)localStorage.setItem(n,Wi[n]),delete Wi[n];clearTimeout(Ui)};let Ui=0;const Wi={},Di=n=>{let t,e=!1;for(let s in n)if(n.hasOwnProperty(s)&&Ki[s]!==n[s]){let i=n[s];"object"==typeof i&&(i=JSON.stringify(n[s]),t=JSON.stringify(localStorage.getItem(s))),i!==t&&(Wi[Ri+s]=i,"object"==typeof n[s]?Ki[s]=JSON.parse(JSON.stringify(n[s])):Ki[s]=n[s],e=!0)}e&&(clearTimeout(Ui),Ui=setTimeout(Hi,5e3))},Ki=(()=>{const n=localStorage.getItem(Ri+"autodict")||"off",t=localStorage.getItem(Ri+"newbie")||"on",e=localStorage.getItem(Ri+"playnextjuan")||"on",s=localStorage.getItem(Ri+"showpunc")||"on",i=localStorage.getItem(Ri+"showgallery")||"on",l=localStorage.getItem(Ri+"showyoutube")||"off",r=localStorage.getItem(Ri+"showfavorite")||"off",o=parseFloat(localStorage.getItem(Ri+"heightratio")||"1")||1,c=parseInt(localStorage.getItem(Ri+"textsize")||"150")||150,a=parseInt(localStorage.getItem(Ri+"playrate")||"100")||100,d=localStorage.getItem(Ri+"vip")||"",u=localStorage.getItem(Ri+"tosim")||"0";let f=localStorage.getItem(Ri+"favorites")||"{}",h=localStorage.getItem(Ri+"preferaudio")||"{}",p=localStorage.getItem(Ri+"tofindhistory")||'["淨信",""]',g={},m={},v=[];try{g=JSON.parse(f),m=JSON.parse(h),v=JSON.parse(p)}catch(n){console.log(n),g={},m={}}return{tosim:u,vip:d,activefolioid:"pphs",heightratio:o,tofindhistory:v,playrate:a,showfavorite:r,textsize:c,showgallery:i,showyoutube:l,autodict:n,newbie:t,favorites:g,playnextjuan:e,preferaudio:m,showpunc:s}})(),Ji=[];function Yi(t,e=n){let s;const i=new Set;function l(n){if(o(t,n)&&(t=n,s)){const n=!Ji.length;for(const n of i)n[1](),Ji.push(n,t);if(n){for(let n=0;n<Ji.length;n+=2)Ji[n][0](Ji[n+1]);Ji.length=0}}}function r(n){l(n(t))}return{set:l,update:r,subscribe:function(o,c=n){const a=[o,c];return i.add(a),1===i.size&&(s=e(l,r)||n),o(t),()=>{i.delete(a),0===i.size&&s&&(s(),s=null)}}}}const Qi="v1::ylz",Vi="26.2.17";let Xi;const Gi={vid:"",performer:"--停止播放--"},Zi="/baudio/",nl=n=>{Xi=n},tl=async(n,t,e=!1)=>{let s=[];if(!Xi)return s;const i=Xi.columns.timestamp;if(!i)return s;const l=await caches.open(Qi),r=(await l.keys()).map((n=>n.url.slice(window.location.origin.length+8).replace(".mp3","")));for(let t=0;t<i.keys.len();t++){const l=i.keys.get(t),o=i.videohost[t];let c=i.performer[t],a="";const d=c.indexOf("|");~d&&(e&&(a=c.slice(d+1)),c=c.slice(0,d));const u=i.timestamp[t],f=i.bookid[t],h=1-!~r.indexOf(l.replace(/\^\d+$/,""));n==f&&s.push({aid:l,performer:c,youtube:a,incache:h,bookid:f,timestamp:u,audiohost:o})}s.sort(((n,t)=>n.performer==t.performer?0:n.performer<t.performer?-1:1));const o=s.filter((n=>!n.incache)).concat();return s=s.filter((n=>n.incache)).concat(o),s.unshift(Gi),t&&t.set(s),s},el=Yi(navigator.onLine),sl=Yi(null),il=Yi("ylz-prjn"),ll=Yi({}),rl=Yi(!1),ol=Yi(!1),cl=Yi(Ki.autodict),al=Yi("1"),dl=Yi(Ki.activefolioid),ul=Yi(0),fl=Yi(0),hl=Yi(!1),pl=Yi(Ki.favorites),gl=Yi(Ki.preferaudio),ml=Yi(Ki.showpunc),vl=Yi(Ki.showgallery),$l=Yi(Ki.showyoutube),kl=Yi(Ki.showfavorite),bl=Yi(!1),wl=Yi(!1),yl=Yi(""),xl=Yi("folio"),Al=Yi(null),ql=Yi(""),Cl=Yi(Ki.tofindhistory),Ol=Yi(Ki.heightratio),_l=Yi(Ki.textsize),Il=Yi(Ki.vip),Pl=Yi(Ki.tosim),Nl=Yi(!0),Tl=Yi(Ki.playrate),Sl=Yi("list");let El;const zl=Yi([Gi]),Ll=Yi(""),Ml=(n,t)=>{if(t){const t=dc.defines.folio,e=dc.defines.bk,s=t.fields.id.values.indexOf(n);if(!~s)return"";const i=t.linepos[s]+1,l=ht(e.linepos,i)-1;return e.fields.id.values[l]}return n.replace(/\d+$/,"")},jl=Yi(""),Fl=()=>Js(u(il)),Bl=function(n){var t;const e=Js(u(il)),s=n||u(dl),i=null===(t=e.defines.folio.fields.id)||void 0===t?void 0:t.values.indexOf(s);return~i&&e.defines.folio.fields.lines.values[i]||5},Rl=Yi(17),Hl=Yi(!1),Ul=Yi(!1),Wl=Yi(Ki.playnextjuan),Dl=Yi(["2",0,0]),Kl=Yi(-1),Jl=Yi(Ki.newbie),Yl=Yi(0),Ql=Yi(!1),Vl=["ylz-prjn","ylz-tg","ylz_sanskrit","ylz-rite","dc"],Xl=["ylz-prjn","ylz-tg","ylz-svk","ylz-vny","ylz-rite","ylz_sanskrit","dc"],Gl=Yi(!1);dl.subscribe((n=>Di({activefolioid:n}))),cl.subscribe((n=>Di({autodict:n}))),Jl.subscribe((n=>Di({newbie:n}))),ml.subscribe((n=>Di({showpunc:n}))),vl.subscribe((n=>Di({showgallery:n}))),$l.subscribe((n=>Di({showyoutube:n}))),kl.subscribe((n=>Di({showfavorite:n}))),pl.subscribe((n=>Di({favorites:n}))),Tl.subscribe((n=>Di({playrate:n}))),gl.subscribe((n=>Di({preferaudio:n}))),Cl.subscribe((n=>Di({tofindhistory:n}))),Ol.subscribe((n=>Di({heightratio:n}))),Pl.subscribe((n=>Di({tosim:n}))),Gl.subscribe((n=>{Di({reverseswipe:n})})),_l.subscribe((n=>{const t=(n/100).toFixed(2)+"em";document.documentElement.style.setProperty("--textsize",t),Di({textsize:n})})),Il.subscribe((n=>Di({vip:n})));const Zl=(n,t="timestamp")=>{const e=Js("dc");if(!e.columns[t])return null;return{id:n,...e.columns[t].fieldsByKey(n)}},nr=()=>{El&&El.paused&&(null==El||El.pause()),Hl.set(!1),Kl.set(-1)},tr=n=>{const t=Ml(n),e=Xl.filter((n=>n.startsWith("ylz-")));for(let n=0;n<e.length;n++){let s=Js(e[n]);if(s)return s.bookNameById(t)}return""},er=n=>{const t=Js("ylz_sanskrit"),e=n.indexOf("_");return~e&&(n=n.slice(0,e)),~t.defines.bk.fields.id.values.indexOf(n+"_variorum")},sr=n=>{const t=Js("ylz_sanskrit"),e=n.indexOf("_");~e&&(n=n.slice(0,e));return~t.defines.bk.fields.id.values.indexOf(n)},ir=(n,t)=>n.getParallelBook(t).length,lr=(n,t=0,e=0)=>{"string"!=typeof n&&(t=n[1],e=n[2],n=n[0]);const s=u(Al);if(!s||!s.fromFolioPos)return"";const{ckid:i,lineoff:l,choff:r}=s.fromFolioPos(n,t,e),o=((n="",t="",e=0,s=0,i=0,l=0)=>{if("object"==typeof n){const r=n;n=r.ptkname,t=r.action||"",e=r.from||0,s=r.till||0,i=r.highlightline||r.lineoff||0,l=r.choff||0}let r="";return l>0?r=i+"-"+l:i>0&&(r=i.toString()),(n?n+":":"")+t+(e?">"+e:"")+(s?"<"+s:"")+(r?":"+r:"")})("","bk#"+Ml(u(dl))+".ck#"+i,0,0,l,r);return o},rr=()=>lr(u(Dl)),or=(n,t)=>{t=t||u(dl);const e=n.defines.folio,s=t.indexOf("_"),i=(~s?t.slice(0,s):t).replace(/1$/,""),l=[],r=e.fields.id.values;for(let n=0;n<r.length;n++)~r[n].indexOf("_variorum")||r[n].startsWith(i+"_")&&r[n]!==t&&!r[n].replace(/1$/,"").match(/\d$/)&&l.push(n);return l},cr=(n,t)=>{if(0==u(Kl)&&Kl.set(-1),n){const t=u(gl);t[u(dl)]=n,gl.set(Object.assign({},t)),Hl.set(!0)}else nr();jl.set(n||""),t&&al.set("1"),setTimeout((()=>{El.play()}),100)},ar=()=>{const n=(100*(.45*window.innerHeight)/window.innerWidth).toFixed(2);return"left:"+n+"vw;width:"+(100-n)+"vw"},dr=(n,t=1,e)=>{let s="100vw";if(t=t||1,u(bl)){s=(100*(.45*window.innerHeight*t)/window.innerWidth).toFixed(2)+"vw"}return e&&(null==e?void 0:e.update)&&setTimeout((()=>{(null==e?void 0:e.update)&&(null==e||e.update())}),100),s},ur=()=>{const n=ar().match(/width:(\d+)/);return n&&n[1]&&parseInt(n[1])>20},fr=["♡","🤍","❤️","💚","💙","💜","🖤"],hr=n=>(n||(n=lr(u(Dl))),location.origin+location.pathname+"#"+n),pr=n=>{const t=u(Cl),e=t.indexOf(n);return~e&&(t.splice(e,1),Cl.set(t.slice(0,t.length))),t},gr=async n=>{const t=await caches.open(Qi),e=(await t.keys()).filter((n=>n.url.endsWith(".zip")&&~n.url.indexOf("folio/"))).map((n=>{return(t=n.url).slice(t.indexOf("folio/")+6).replace(".zip","");var t}));if(!n)return e;{const t={};for(let n=0;n<e.length;n++)t[e[n]]=!0;n.set(t)}},mr=(n,t)=>{const e=[],s="bk#"+Ml(t),[i,l]=n.rangeOfAddress(s),r=n.defines.folio,o=ht(r.linepos,i),c=ht(r.linepos,l);for(let n=o;n<c;n++)e.push(r.fields.id.values[n]);return e},vr="◆",$r=(n,t)=>{if(al.set(n),t){const n=u(Al),[e,s,i]=n.toFolioPos(t);Dl.set([e,s,i]),Rt(rr())}},kr=async(n,t)=>{const e=n.defines.ck,s=n.defines.pb,i=e.linepos[t],l=n.nearestTag(i+1,"pb"),r=s.fields.id.values[l];$r(r,e.fields.id.values[t])},br=(n,t)=>{let e=0;n==u(dl)?t&&t(n):(nr(),jl.set(""),rl.set(!0),ol.set(!0),dl.set(n),e=setInterval((()=>{u(ol)||(clearInterval(e),setTimeout((()=>{t&&t(n),rl.set(!1),Rt(rr()),setTimeout((()=>{gr(ll)}),100)}),100))}),30))},wr=(n,t)=>{t=t||u(dl);const e=n.defines.folio.fields.id.values,s=t.match(/([a-z\_]+)(\d+$)/),i=[];if(!s)return[];for(let n=0;n<e.length;n++)if(e[n].startsWith(s[1])){const t=e[n].slice(s[1].length);parseInt(t)&&i.push(t)}return i},yr=n=>{const t=u(Al).toFolioPos(n);al.set(t[0]),Dl.set(t)},xr=(n,t,e)=>{const[s]=n.rangeOfAddress("bk#"+Ml(t)+".ck#"+e);return n.nearestTag(s+1,"folio","id")},Ar=(n,t,e=0)=>{const{folioid:s,ckid:i,lineoff:l}=((n,t)=>{const e=n.defines.folio,s=n.defines.ck,i=ht(e.linepos,t+1)-1,l=ht(s.linepos,t+1)-1;let r="",o="",c=0;return~i&&e.linepos[i+1]>t&&(r=e.fields.id.values[i],o=s.fields.id.values[l],c=t-s.linepos[l]),{folioid:r,ckid:o,lineoff:c}})(n,t);br(s,(()=>{const n=u(Al).toFolioPos(i,l,e);Dl.set(n),al.set(n[0])}))},qr=async n=>{if(!n)return;const t=Ae();let e={};for(let s=0;s<t.length;s++){const i=t[s];if(i&&i.defines.folio&&(e=await Qs(i,n),e.id)){if(!u(Al)){const t=new Vs(i);await t.load(e.id),Al.set(t),e=await Qs(i,n)}u(il)!==i.name&&il.set(i.name);break}}if(e.id){dl.set(e.id);const{pb:n,line:t,ch:s}=e;al.set(n),Dl.set([n,t,s])}};function Cr(n,t,e){const s=n.slice();return s[16]=t[e],s[18]=e,s}function Or(n){let t,e=(n[3],n[1]),s=Ir(n);return{c(){s.c(),t=E()},m(n,e){s.m(n,e),_(n,t,e)},p(n,i){10&i&&o(e,(n[3],e=n[1]))?(s.d(1),s=Ir(n),s.c(),s.m(t.parentNode,t)):s.p(n,i)},d(n){n&&I(t),s.d(n)}}}function _r(t){let e;return{c(){e=N("div"),L(e,"class","strip"),L(e,"id","strip"+t[18]),L(e,"style",t[5](t[18],t[16]))},m(n,t){_(n,e,t)},p:n,d(n){n&&I(e)}}}function Ir(n){let t,e,s=qn(n[4]),i=[];for(let t=0;t<s.length;t+=1)i[t]=_r(Cr(n,s,t));return{c(){t=N("div");for(let n=0;n<i.length;n+=1)i[n].c();L(t,"class","transcript"),L(t,"style",e=Bi(n[0]))},m(n,e){_(n,t,e);for(let n=0;n<i.length;n+=1)i[n]&&i[n].m(t,null)},p(n,l){if(48&l){let e;for(s=qn(n[4]),e=0;e<s.length;e+=1){const r=Cr(n,s,e);i[e]?i[e].p(r,l):(i[e]=_r(r),i[e].c(),i[e].m(t,null))}for(;e<i.length;e+=1)i[e].d(1);i.length=s.length}1&l&&e!==(e=Bi(n[0]))&&L(t,"style",e)},d(n){n&&I(t),P(i,n)}}}function Pr(t){let e,s=t[2]&&Zl(t[1]),i=s&&Or(t);return{c(){i&&i.c(),e=E()},m(n,t){i&&i.m(n,t),_(n,e,t)},p(n,[t]){6&t&&(s=n[2]&&Zl(n[1])),s?i?i.p(n,t):(i=Or(n),i.c(),i.m(e.parentNode,e)):i&&(i.d(1),i=null)},i:n,o:n,d(n){n&&I(e),i&&i.d(n)}}}function Nr(n,t,e){let s,i,l,r,o,c;f(n,jl,(n=>e(1,s=n))),f(n,zl,(n=>e(10,i=n))),f(n,Wl,(n=>e(11,l=n))),f(n,dl,(n=>e(12,r=n))),f(n,Hl,(n=>e(2,o=n))),f(n,al,(n=>e(3,c=n)));let{frame:a={},totalpages:d}=t,{foliopage:h=[]}=t,{ptk:p}=t;const g=new Array(Bl()),m=[];nn((()=>{k()}));const v=()=>{Ul.set(!1),al.set("1");let n=u(Kl);n>0&&(n--,Kl.set(n)),0==n&&nr()},$=()=>{const n=wr(p),t=r,e=s,o=i;let c="";for(let n=0;n<o.length;n++)o[n].vid==e&&(c=o[n].performer);if("on"==l&&n.length>1){const e=t.match(/(\d+)$/)[1];if(parseInt(e)==n.length)v();else{const n=t.replace(e,parseInt(e)+1);br(n,(function(){const n=i;if(n){const t=n.filter((n=>n.performer==c)),e=t.length?t[0].vid:n[0].vid;cr(e)}}))}}else v()},k=()=>{m.forEach((n=>clearTimeout(n))),m.length=0};return n.$$set=n=>{"frame"in n&&e(0,a=n.frame),"totalpages"in n&&e(6,d=n.totalpages),"foliopage"in n&&e(7,h=n.foliopage),"ptk"in n&&e(8,p=n.ptk)},[a,s,o,c,g,(n,t)=>{0==n&&k();let e=Bl(),i=u(Rl);const l=a.width/e;let r=[];r.push("position:absolute"),r.push("left:"+Math.floor((e-n-1)*l)+"px"),r.push("top:0px"),r.push("width:"+Math.floor(l)+"px"),r.push("height:0px");const{timestamp:o}=Zl(s);if(!o)return r.join(";");const c=(parseInt(u(al))-1)*e;o[c]||0!=n||$();let f=(null==El?void 0:El.currentTime)-o[c]/100;if(Math.abs(f)>3&&(f=.02),0==n){const n=1e3*((o[c+e]/100||o[o.length-1]/100)-o[c]/100-f);m.push(setTimeout((()=>{parseInt(u(al))<d?(Ul.set(!0),al.set((parseInt(u(al))+1).toString()),setTimeout((()=>{Ul.set(!1)}),500)):$()}),n))}let p=1e3*(o[c+n]/100-o[c]/100-f);0==n&&p<30&&(p=30);const g=function(){if(this.folio!=u(al))return;const t=document.getElementById("strip"+this.idx);if(!t)return;const e=u(Al).countFolioChar(h[n]||"");t.style.height=Math.floor(e*(a.height/i))+"px"}.bind({idx:n,folio:u(al)});m.push(setTimeout(g,p));let v=o[c+n+1]/100-o[c+n]/100;return 0==v&&n+1<e&&(v=o[c+n+2]/100-o[c+n]/100),r.push("transition:height "+v+"s  linear"),r.join(";")},d,h,p]}class Tr extends zn{constructor(n){super(),En(this,n,Nr,Pr,o,{frame:0,totalpages:6,foliopage:7,ptk:8})}}function Sr(n,t,e){const s=n.slice();return s[9]=t[e],s}function Er(n){let t,e,s,i=n[2](n[9].text)+"";return{c(){t=N("span"),e=T(i),L(t,"class","punc"),L(t,"style",s=n[3](n[9].line,n[9].ch,n[9].text))},m(n,s){_(n,t,s),q(t,e)},p(n,l){2&l&&i!==(i=n[2](n[9].text)+"")&&j(e,i),2&l&&s!==(s=n[3](n[9].line,n[9].ch,n[9].text))&&L(t,"style",s)},d(n){n&&I(t)}}}function zr(t){let e,s,i=qn(t[1]),l=[];for(let n=0;n<i.length;n+=1)l[n]=Er(Sr(t,i,n));return{c(){e=N("div");for(let n=0;n<l.length;n+=1)l[n].c();L(e,"class","puncs"),L(e,"style",s=Bi(t[0]))},m(n,t){_(n,e,t);for(let n=0;n<l.length;n+=1)l[n]&&l[n].m(e,null)},p(n,[t]){if(14&t){let s;for(i=qn(n[1]),s=0;s<i.length;s+=1){const r=Sr(n,i,s);l[s]?l[s].p(r,t):(l[s]=Er(r),l[s].c(),l[s].m(e,null))}for(;s<l.length;s+=1)l[s].d(1);l.length=i.length}1&t&&s!==(s=Bi(n[0]))&&L(e,"style",s)},i:n,o:n,d(n){n&&I(e),P(l,n)}}}function Lr(n,t,e){let s;f(n,Rl,(n=>e(4,s=n)));let{frame:i={}}=t,{puncs:l=[]}=t;const r=Bl(),o=s,c=i.width/r,a=i.height/o;return n.$$set=n=>{"frame"in n&&e(0,i=n.frame),"puncs"in n&&e(1,l=n.puncs)},[i,l,n=>Kn(n[0])?n:"n"==n[0]?n.slice(1):n,(n,t,e)=>{let s=.9*a,i=.2*a,l=.1*-c,o="";"？"==e||"！"==e?(s/=1.5,i+=.4*a):"﹁"==e||"﹃"==e?(l+=.3*-c,i+=.4*a):"﹄"==e||"﹂"==e?(l+=.6*-c,i+=.4*a):Kn(e[0])||("n"==e[0]?(l-=.5*c,o="background:var(--n)",e=e.slice(1),i+=a):i+=a,s/=1.5);return"left:"+Math.floor(l+c*(r-n)-.25*c)+"px; top:"+Math.floor(i+a*(t-1)-.2*a)+"px;font-size:"+s+"px;"+o}]}class Mr extends zn{constructor(n){super(),En(this,n,Lr,zr,o,{frame:0,puncs:1})}}function jr(t){let e;return{c(){e=N("span"),L(e,"class","punc"),L(e,"style",t[0]())},m(n,t){_(n,e,t)},p:n,i:n,o:n,d(n){n&&I(e)}}}function Fr(n,t,e){let{mark:s=[],frame:i,pb:l=""}=t,{folioChars:r=17,folioLines:o=5}=t;const c=i.width/o,a=i.height/r;return n.$$set=n=>{"mark"in n&&e(1,s=n.mark),"frame"in n&&e(2,i=n.frame),"pb"in n&&e(3,l=n.pb),"folioChars"in n&&e(4,r=n.folioChars),"folioLines"in n&&e(5,o=n.folioLines)},[()=>{const[n,t,e]=s;return l!=n?"":"left:"+Math.floor(c*(o-t-1))+"px; top:"+ +Math.floor(i.top+a*e)+"px;width:"+c+"px;height:"+a+"px;background:var(--pinmark);border-radius:5px;pointer-events:none"},s,i,l,r,o]}class Br extends zn{constructor(n){super(),En(this,n,Fr,jr,o,{mark:1,frame:2,pb:3,folioChars:4,folioLines:5})}}function Rr(n,t,e){const s=n.slice();return s[50]=t[e],s[52]=e,s}function Hr(n){let t,e=qn(n[2]),s=[];for(let t=0;t<e.length;t+=1)s[t]=Ur(Rr(n,e,t));return{c(){t=N("div");for(let n=0;n<s.length;n+=1)s[n].c();L(t,"class","swipe-indicator swipe-indicator-inside svelte-17g4ceu")},m(n,e){_(n,t,e);for(let n=0;n<s.length;n+=1)s[n]&&s[n].m(t,null)},p(n,i){if(38&i[0]){let l;for(e=qn(n[2]),l=0;l<e.length;l+=1){const r=Rr(n,e,l);s[l]?s[l].p(r,i):(s[l]=Ur(r),s[l].c(),s[l].m(t,null))}for(;l<s.length;l+=1)s[l].d(1);s.length=e.length}},d(n){n&&I(t),P(s,n)}}}function Ur(n){let t,e,s,i;function l(){return n[23](n[52])}return{c(){t=N("span"),L(t,"aria-hidden","true"),L(t,"class",e="dot "+(n[1]==n[52]?"is-active":"")+" svelte-17g4ceu")},m(n,e){_(n,t,e),s||(i=z(t,"click",l),s=!0)},p(s,i){n=s,2&i[0]&&e!==(e="dot "+(n[1]==n[52]?"is-active":"")+" svelte-17g4ceu")&&L(t,"class",e)},d(n){n&&I(t),s=!1,i()}}}function Wr(n){let t,e,s,i,r,o,c,a,d,u;const f=n[21].default,p=h(f,n,n[20],null);let $=n[0]&&Hr(n);return{c(){t=N("div"),e=N("div"),s=N("div"),i=N("div"),p&&p.c(),r=S(),o=N("div"),c=S(),$&&$.c(),L(i,"class","swipeable-slot-wrapper svelte-17g4ceu"),L(s,"class","swipeable-total_elements svelte-17g4ceu"),L(e,"class","swipe-item-wrapper svelte-17g4ceu"),L(o,"aria-hidden","true"),L(o,"class","swipe-handler svelte-17g4ceu"),L(t,"class","swipe-panel svelte-17g4ceu")},m(l,f){_(l,t,f),q(t,e),q(e,s),q(s,i),p&&p.m(i,null),n[22](e),q(t,r),q(t,o),q(t,c),$&&$.m(t,null),a=!0,d||(u=[z(o,"touchstart",n[4]),z(o,"mousedown",n[4])],d=!0)},p(n,e){p&&p.p&&(!a||1048576&e[0])&&m(p,f,n,n[20],a?g(f,n[20],e,null):v(n[20]),null),n[0]?$?$.p(n,e):($=Hr(n),$.c(),$.m(t,null)):$&&($.d(1),$=null)},i(n){a||(yn(p,n),a=!0)},o(n){xn(p,n),a=!1},d(e){e&&I(t),p&&p.d(e),n[22](null),$&&$.d(),d=!1,l(u)}}}function Dr(n,t,e){let s,i,l,r,o,c,a,d,{$$slots:u={},$$scope:f}=t,{transitionDuration:h=200}=t,{showIndicators:p=!1}=t,{autoplay:g=!1}=t,{delay:m=1e3}=t,{defaultIndex:v=0}=t,{active_item:$=0}=t,{is_vertical:k=!1}=t,{allow_infinite_swipe:b=!1}=t,w=0,y=0,x=0,A=0,q=0,C=0,O=k?"pageY":"pageX",_=!1,I=tn(),P=0;function N(){let{offsetWidth:n,offsetHeight:t}=r.querySelector(".swipeable-total_elements");x=k?t:n,T({init:!0,elems:[...i],availableSpace:x,has_infinite_loop:b}),q=0,A=x*(y-1),v&&H(v)}function T({elems:n=[],availableSpace:t=0,pos_axis:e=0,has_infinite_loop:s=!1,distance:i=0,moving:l=!1,init:r=!1,end:o=!1,reset:c=!1}){n.forEach(((n,a)=>{let d=s?a-1:a;r&&(n.style.transform=E(t*d)),l&&(n.style.cssText=z(t*d-i)),o&&(n.style.cssText=z(t*d-e,!0)),c&&(n.style.cssText=z(t*d-e))}))}function S(n){let t={add:"addEventListener",remove:"removeEventListener"};"undefined"!=typeof window&&(window[t[n]]("mousemove",B),window[t[n]]("mouseup",R),window[t[n]]("touchmove",B,{passive:!1}),window[t[n]]("touchend",R,{passive:!1}))}function E(n){return k?`translate3d(0, ${n}px, 0)`:`translate3d(${n}px, 0, 0)`}function z(n,t=!1){let e=E(n);return`\n-webkit-transition-duration: ${t?h:"0"}ms;\ntransition-duration: ${t?h:"0"}ms;\n-webkit-transform: ${e};\n-ms-transform: ${e};`}Z((()=>{l=r.querySelector(".swipeable-slot-wrapper"),i=l.querySelectorAll(".swipeable-item"),e(18,y=i.length),b&&(l.prepend(i[y-1].cloneNode(!0)),l.append(i[0].cloneNode(!0)),i=l.querySelectorAll(".swipeable-item")),N(),"undefined"!=typeof window&&window.addEventListener("resize",N)})),nn((()=>{"undefined"!=typeof window&&window.removeEventListener("resize",N)}));let L,M,j,F=!1;function B(n){if(F){P++,n.stopImmediatePropagation(),n.stopPropagation();let t=n.touches?n.touches[0][O]:n[O],e=o-t+C;if(!b&&(0==C&&o<t||C==A&&o>t))return;n.preventDefault(),T({moving:!0,elems:[...i],availableSpace:x,distance:e,has_infinite_loop:b}),q=e,a=t}}function R(n){n&&n.cancelable&&n.preventDefault(),n&&n.stopImmediatePropagation(),n&&n.stopPropagation();let t=o<a;F=!1;let s=x,l=Math.round(x/50)>Math.abs(o-a);q=c||l?Math.round(q/s)*s:t?Math.floor(q/s)*s:Math.ceil(q/s)*s,o=null,a=null,C=q,e(1,w=q/s),e(7,$=w),e(6,v=$),T({end:!0,elems:[...i],availableSpace:s,pos_axis:C,has_infinite_loop:b}),b&&(-1===$&&(C=s*(y-1)),$===y&&(C=0),e(1,w=C/s),e(7,$=w),e(6,v=$),setTimeout((()=>{T({reset:!0,elems:[...i],availableSpace:s,pos_axis:C,has_infinite_loop:b})}),h)),S("remove");let r,d,u=t?"right":"left";(null==n?void 0:n.changedTouches)?(r=n.changedTouches[0].pageX,d=n.changedTouches[0].pageY):(r=null==n?void 0:n.clientX,d=null==n?void 0:n.clientY),clearTimeout(j),Math.abs(L-r)<3&&Math.abs(M-d)<3&&P<3?I("click",{x:r,y:d}):setTimeout((()=>{I("change",{active_item:$,swipe_direction:u,active_element:i[$]})}),h)}function H(n){q=x*n,e(1,w=n),R()}function U(){H(d),d=d<y-1+b?++d:0}function W(n){H(b?n:Math.max(0,Math.min(n,s.length-1)))}return n.$$set=n=>{"transitionDuration"in n&&e(8,h=n.transitionDuration),"showIndicators"in n&&e(0,p=n.showIndicators),"autoplay"in n&&e(9,g=n.autoplay),"delay"in n&&e(10,m=n.delay),"defaultIndex"in n&&e(6,v=n.defaultIndex),"active_item"in n&&e(7,$=n.active_item),"is_vertical"in n&&e(11,k=n.is_vertical),"allow_infinite_swipe"in n&&e(12,b=n.allow_infinite_swipe),"$$scope"in n&&e(20,f=n.$$scope)},n.$$.update=()=>{262144&n.$$.dirty[0]&&e(2,s=Array(y)),526016&n.$$.dirty[0]&&(g&&!_&&(d=v||$,e(19,_=setInterval(U,m))),!g&&_&&(clearInterval(_),e(19,_=!1)))},[p,w,s,r,function(n){I("start"),P=0,n.stopImmediatePropagation(),n.stopPropagation(),F=!0,c=!1,setTimeout((function(){c=!0}),250),j=setTimeout((function(){c=!1,R(),I("longpress",{x:L,y:M})}),1200),o=n.touches?n.touches[0][O]:n[O],n.touches?(L=n.touches[0].pageX,M=n.touches[0].pageY):(L=n.clientX,M=n.clientY),S("add")},H,v,$,h,g,m,k,b,N,function(){W(y-1)},W,function(){W(w-1)},function(){W(w+1)},y,_,f,u,function(n){sn[n?"unshift":"push"]((()=>{r=n,e(3,r)}))},n=>{H(n)}]}class Kr extends zn{get update(){return this.$$.ctx[13]}get goLast(){return this.$$.ctx[14]}get goTo(){return this.$$.ctx[15]}get prevItem(){return this.$$.ctx[16]}get nextItem(){return this.$$.ctx[17]}constructor(n){super(),En(this,n,Dr,Wr,o,{transitionDuration:8,showIndicators:0,autoplay:9,delay:10,defaultIndex:6,active_item:7,is_vertical:11,allow_infinite_swipe:12,update:13,goLast:14,goTo:15,prevItem:16,nextItem:17},null,[-1,-1])}}function Jr(n){let t,e,s,i,l;const r=n[6].default,o=h(r,n,n[5],null);return{c(){t=N("div"),e=N("div"),o&&o.c(),L(e,"class","swipeable-item-inner"),L(t,"class",s="swipeable-item "+n[1]+" "+(n[0]?"is-active":"")+" svelte-13ik1fy"),L(t,"style",n[2]),an((()=>n[8].call(t)))},m(s,r){_(s,t,r),q(t,e),o&&o.m(e,null),n[7](e),i=function(n,t){"static"===getComputedStyle(n).position&&(n.style.position="relative");const e=N("iframe");e.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),e.setAttribute("aria-hidden","true"),e.tabIndex=-1;const s=H();let i;return s?(e.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",i=z(window,"message",(n=>{n.source===e.contentWindow&&t()}))):(e.src="about:blank",e.onload=()=>{i=z(e.contentWindow,"resize",t),t()}),q(n,e),()=>{(s||i&&e.contentWindow)&&i(),I(e)}}(t,n[8].bind(t)),l=!0},p(n,[e]){o&&o.p&&(!l||32&e)&&m(o,r,n,n[5],l?g(r,n[5],e,null):v(n[5]),null),(!l||3&e&&s!==(s="swipeable-item "+n[1]+" "+(n[0]?"is-active":"")+" svelte-13ik1fy"))&&L(t,"class",s),(!l||4&e)&&L(t,"style",n[2])},i(n){l||(yn(o,n),l=!0)},o(n){xn(o,n),l=!1},d(e){e&&I(t),o&&o.d(e),n[7](null),i()}}}function Yr(n,t,e){let{$$slots:s={},$$scope:i}=t,{active:l=!1}=t,{classes:r=""}=t,{style:o=""}=t,c=null,a=0;return n.$$set=n=>{"active"in n&&e(0,l=n.active),"classes"in n&&e(1,r=n.classes),"style"in n&&e(2,o=n.style),"$$scope"in n&&e(5,i=n.$$scope)},[l,r,o,c,a,i,s,function(n){sn[n?"unshift":"push"]((()=>{c=n,e(3,c)}))},function(){a=this.clientHeight,e(4,a)}]}class Qr extends zn{constructor(n){super(),En(this,n,Yr,Jr,o,{active:0,classes:1,style:2})}}function Vr(){const n=document.location.protocol,t=document.location.hostname;return"http:"==n&&("127.0.0.1"==t||"localhost"==t)}const Xr=async(n,t)=>{if(!navigator.onLine&&!Vr())return!0;const e=n.replace(/\?.+/,""),s=e+"?"+(new Date).toISOString(),i=~s.indexOf(".mp3")?"audio/mpeg":"application/octet-stream",l=await fetch(s,{method:"HEAD",mode:"no-cors",redirect:"follow",credentials:"omit",origin:origin,headers:{Accept:i}}),r=await caches.open(t),o=await r.match(e),c=l.headers.get("Content-Length");return o&&c==o.headers.get("Content-Length")},Gr=async(n,t,e)=>{const s=t.replace(/\?.+/,""),i=~t.indexOf(".mp3")?"audio/mpeg":"application/octet-stream",l="https://nissaya.cn",r=await caches.open(n),o=await r.match(s);if(!navigator.onLine&&!Vr())return o||r.match("/offline.html");if(o&&"OK"==o.statusText&&(t.endsWith(".zip")||t.endsWith(".mp3")||t.endsWith(".ptk")))return o;const c=(await fetch(t,{method:"HEAD",mode:"no-cors",redirect:"follow",credentials:"omit",origin:l,headers:{Accept:i}})).headers.get("Content-Length");if(o&&c==o.headers.get("Content-Length"))return o;e&&e("requesting");let a=await fetch(t,{method:"GET",mode:"no-cors",redirect:"follow",credentials:"omit",origin:l,headers:{Accept:i}});if(e&&e("responsed"),!(a.status>=400)){if(a.body){const n=a.body.getReader(),t=+a.headers.get("Content-Length");let l=0,o=[];for(;;){const{done:s,value:i}=await n.read();if(s)break;o.push(i),l+=i.length,e&&e(Math.floor(100*l/t)+"% / "+((d=t)<1024?[d,"B"]:d<1048576?[parseFloat((d/1024).toFixed(2)),"KB"]:[parseFloat((d/1048576).toFixed(2)),"MB"]))}let c=new Uint8Array(l),u=0;for(let n of o)c.set(n,u),u+=n.length;const f={status:a.status,statusText:a.statusText,headers:{"X-Shaka-From-Cache":!0,"Content-Type":i,"Content-Length":t}},h=new Response(c,f);return r.put(s,h.clone()),e&&e("cached"),h}return r.put(s,a.clone()),e&&e("cached"),a;var d}e&&e(a.statusText)},Zr=async n=>await(async(n,t,e=".ptk")=>{const s=await caches.open(t),i=(await s.keys()).filter((n=>n.url.endsWith(e))).map((t=>t.url.match(n))).filter((n=>!!n)).map((n=>n[1]));return $t(i)})(/([a-z_\-]+)\.ptk/,n);function no(t){let e,s;return{c(){e=N("div"),s=T(t[0]),L(e,"class","downloading bodytext")},m(n,t){_(n,e,t),q(e,s)},p(n,[t]){1&t&&j(s,n[0])},i:n,o:n,d(n){n&&I(e)}}}function to(n,t,e){let{msg:s=""}=t;return n.$$set=n=>{"msg"in n&&e(0,s=n.msg)},[s]}class eo extends zn{constructor(n){super(),En(this,n,to,no,o,{msg:0})}}function so(n){let t,e;return t=new eo({props:{msg:n[20]}}),{c(){Pn(t.$$.fragment)},m(n,s){Nn(t,n,s),e=!0},p(n,e){const s={};1048576&e[0]&&(s.msg=n[20]),t.$set(s)},i(n){e||(yn(t.$$.fragment,n),e=!0)},o(n){xn(t.$$.fragment,n),e=!1},d(n){Tn(t,n)}}}function io(n){let t,s,i,l,r,o;const c=[n[26],{defaultIndex:n[8]}];let a={$$slots:{default:[co]},$$scope:{ctx:n}};for(let n=0;n<c.length;n+=1)a=e(a,c[n]);return s=new Kr({props:a}),n[38](s),s.$on("longpress",n[31]),s.$on("click",n[30]),s.$on("start",n[27]),s.$on("change",n[28]),{c(){t=N("div"),Pn(s.$$.fragment),L(t,"aria-hidden","true"),L(t,"class","swipe-holder svelte-u4lgbo"),L(t,"style",i="opacity:"+("folio"!==n[18]?"0;":"1")+";width:"+dr(n[19],1,n[7]))},m(e,i){_(e,t,i),Nn(s,t,null),l=!0,r||(o=z(t,"wheel",n[29]),r=!0)},p(n,e){const r=67109120&e[0]?Cn(c,[67108864&e[0]&&On(n[26]),256&e[0]&&{defaultIndex:n[8]}]):{};16777216&e[1]&&(r.$$scope={dirty:e,ctx:n}),s.$set(r),(!l||786560&e[0]&&i!==(i="opacity:"+("folio"!==n[18]?"0;":"1")+";width:"+dr(n[19],1,n[7])))&&L(t,"style",i)},i(n){l||(yn(s.$$.fragment,n),l=!0)},o(n){xn(s.$$.fragment,n),l=!1},d(e){e&&I(t),n[38](null),Tn(s),r=!1,o()}}}function lo(t){let e,s;return{c(){e=N("img"),a(e.src,s=wo)||L(e,"src",s),L(e,"alt","no"),L(e,"class","leftimage swipe svelte-u4lgbo")},m(n,t){_(n,e,t)},p:n,d(n){n&&I(e)}}}function ro(t){let e,s;return{c(){e=N("img"),a(e.src,s=wo)||L(e,"src",s),L(e,"alt","no"),L(e,"class","middleimage swipe svelte-u4lgbo")},m(n,t){_(n,e,t)},p:n,d(n){n&&I(e)}}}function oo(t){let e,s;return{c(){e=N("img"),a(e.src,s=wo)||L(e,"src",s),L(e,"alt","no"),L(e,"class","rightimage swipe svelte-u4lgbo")},m(n,t){_(n,e,t)},p:n,d(n){n&&I(e)}}}function co(n){let t,e,s,i,l,r;return t=new Qr({props:{$$slots:{default:[lo]},$$scope:{ctx:n}}}),s=new Qr({props:{$$slots:{default:[ro]},$$scope:{ctx:n}}}),l=new Qr({props:{$$slots:{default:[oo]},$$scope:{ctx:n}}}),{c(){Pn(t.$$.fragment),e=S(),Pn(s.$$.fragment),i=S(),Pn(l.$$.fragment)},m(n,o){Nn(t,n,o),_(n,e,o),Nn(s,n,o),_(n,i,o),Nn(l,n,o),r=!0},p(n,e){const i={};16777216&e[1]&&(i.$$scope={dirty:e,ctx:n}),t.$set(i);const r={};16777216&e[1]&&(r.$$scope={dirty:e,ctx:n}),s.$set(r);const o={};16777216&e[1]&&(o.$$scope={dirty:e,ctx:n}),l.$set(o)},i(n){r||(yn(t.$$.fragment,n),yn(s.$$.fragment,n),yn(l.$$.fragment,n),r=!0)},o(n){xn(t.$$.fragment,n),xn(s.$$.fragment,n),xn(l.$$.fragment,n),r=!1},d(n){n&&(I(e),I(i)),Tn(t,n),Tn(s,n),Tn(l,n)}}}function ao(n){let t,e="on"==n[21]&&uo(n);return{c(){e&&e.c(),t=E()},m(n,s){e&&e.m(n,s),_(n,t,s)},p(n,s){"on"==n[21]?e?e.p(n,s):(e=uo(n),e.c(),e.m(t.parentNode,t)):e&&(e.d(1),e=null)},d(n){n&&I(t),e&&e.d(n)}}}function uo(n){let t,e=n[10],s=fo(n);return{c(){s.c(),t=E()},m(n,e){s.m(n,e),_(n,t,e)},p(n,i){1024&i[0]&&o(e,e=n[10])?(s.d(1),s=fo(n),s.c(),s.m(t.parentNode,t)):s.p(n,i)},d(n){n&&I(t),s.d(n)}}}function fo(n){var t;let e,s,i,l,r=fr[(null===(t=n[14][n[13]])||void 0===t?void 0:t[n[2]])||0]+"";return{c(){e=N("span"),s=T(r),L(e,"aria-hidden","true"),L(e,"class","favoritebtn"),U(e,"blinkfavorbtn",!!n[10])},m(t,r){_(t,e,r),q(e,s),i||(l=z(e,"click",n[32]),i=!0)},p(n,t){var i;24580&t[0]&&r!==(r=fr[(null===(i=n[14][n[13]])||void 0===i?void 0:i[n[2]])||0]+"")&&j(s,r),1024&t[0]&&U(e,"blinkfavorbtn",!!n[10])},d(n){n&&I(e),i=!1,l()}}}function ho(n){let t,e,s,i,l=n[22]?"◼":"♫";return{c(){t=N("span"),e=T(l),L(t,"aria-hidden","true"),L(t,"class","playbtn")},m(l,r){_(l,t,r),q(t,e),s||(i=z(t,"click",n[33]),s=!0)},p(n,t){4194304&t[0]&&l!==(l=n[22]?"◼":"♫")&&j(e,l)},d(n){n&&I(t),s=!1,i()}}}function po(n){let t,e,s=(n[24]>0?n[24]:"")+"";return{c(){t=N("span"),e=T(s),L(t,"class","remainrollback")},m(n,s){_(n,t,s),q(t,e)},p(n,t){16777216&t[0]&&s!==(s=(n[24]>0?n[24]:"")+"")&&j(e,s)},d(n){n&&I(t)}}}function go(n){let t,e;return t=new Br({props:{mark:n[15],pb:n[2],folioChars:n[17],folioLines:Bl(),frame:n[11]}}),{c(){Pn(t.$$.fragment)},m(n,s){Nn(t,n,s),e=!0},p(n,e){const s={};32768&e[0]&&(s.mark=n[15]),4&e[0]&&(s.pb=n[2]),131072&e[0]&&(s.folioChars=n[17]),2048&e[0]&&(s.frame=n[11]),t.$set(s)},i(n){e||(yn(t.$$.fragment,n),e=!0)},o(n){xn(t.$$.fragment,n),e=!1},d(n){Tn(t,n)}}}function mo(n){let t,e,s=n[5]&&!n[6]&&!n[16]&&"folio"==n[18]&&go(n);return{c(){s&&s.c(),t=E()},m(n,i){s&&s.m(n,i),_(n,t,i),e=!0},p(n,e){!n[5]||n[6]||n[16]||"folio"!=n[18]?s&&(bn(),xn(s,1,1,(()=>{s=null})),wn()):s?(s.p(n,e),327776&e[0]&&yn(s,1)):(s=go(n),s.c(),yn(s,1),s.m(t.parentNode,t))},i(n){e||(yn(s),e=!0)},o(n){xn(s),e=!1},d(n){n&&I(t),s&&s.d(n)}}}function vo(n){let t,e,s,i="on"==n[25]&&"folio"==n[18]&&$o(n);return e=new Tr({props:{frame:n[11],totalpages:n[0],ptk:n[1],foliopage:n[3]}}),{c(){i&&i.c(),t=S(),Pn(e.$$.fragment)},m(n,l){i&&i.m(n,l),_(n,t,l),Nn(e,n,l),s=!0},p(n,s){"on"==n[25]&&"folio"==n[18]?i?(i.p(n,s),33816576&s[0]&&yn(i,1)):(i=$o(n),i.c(),yn(i,1),i.m(t.parentNode,t)):i&&(bn(),xn(i,1,1,(()=>{i=null})),wn());const l={};2048&s[0]&&(l.frame=n[11]),1&s[0]&&(l.totalpages=n[0]),2&s[0]&&(l.ptk=n[1]),8&s[0]&&(l.foliopage=n[3]),e.$set(l)},i(n){s||(yn(i),yn(e.$$.fragment,n),s=!0)},o(n){xn(i),xn(e.$$.fragment,n),s=!1},d(n){n&&I(t),i&&i.d(n),Tn(e,n)}}}function $o(n){let t,e;return t=new Mr({props:{frame:n[11],puncs:n[4]}}),{c(){Pn(t.$$.fragment)},m(n,s){Nn(t,n,s),e=!0},p(n,e){const s={};2048&e[0]&&(s.frame=n[11]),16&e[0]&&(s.puncs=n[4]),t.$set(s)},i(n){e||(yn(t.$$.fragment,n),e=!0)},o(n){xn(t.$$.fragment,n),e=!1},d(n){Tn(t,n)}}}function ko(n){let t,e,s=!n[6]&&vo(n);return{c(){s&&s.c(),t=E()},m(n,i){s&&s.m(n,i),_(n,t,i),e=!0},p(n,e){n[6]?s&&(bn(),xn(s,1,1,(()=>{s=null})),wn()):s?(s.p(n,e),64&e[0]&&yn(s,1)):(s=vo(n),s.c(),yn(s,1),s.m(t.parentNode,t))},i(n){e||(yn(s),e=!0)},o(n){xn(s),e=!1},d(n){n&&I(t),s&&s.d(n)}}}function bo(t){let e,s,i,l,r,c,a,d,u,f,h,p,g=!t[19]&&t[12].filter(yo).length,m=t[9]+1+"",v=t[15]+t[2],$=t[4];const k=[io,so],b=[];function w(n,t){return n[5]?0:1}e=w(t),s=b[e]=k[e](t);let y=!t[19]&&t[0]-t[8]>1&&ao(t),x=g&&ho(t),A=t[23]&&po(t),C=mo(t),O=ko(t);return{c(){s.c(),i=S(),y&&y.c(),l=S(),x&&x.c(),r=S(),c=N("span"),a=T(m),d=S(),A&&A.c(),u=S(),C.c(),f=S(),O.c(),h=E(),L(c,"class","pagenumber")},m(n,t){b[e].m(n,t),_(n,i,t),y&&y.m(n,t),_(n,l,t),x&&x.m(n,t),_(n,r,t),_(n,c,t),q(c,a),_(n,d,t),A&&A.m(n,t),_(n,u,t),C.m(n,t),_(n,f,t),O.m(n,t),_(n,h,t),p=!0},p(t,c){let d=e;e=w(t),e===d?b[e].p(t,c):(bn(),xn(b[d],1,1,(()=>{b[d]=null})),wn(),s=b[e],s?s.p(t,c):(s=b[e]=k[e](t),s.c()),yn(s,1),s.m(i.parentNode,i)),!t[19]&&t[0]-t[8]>1?y?y.p(t,c):(y=ao(t),y.c(),y.m(l.parentNode,l)):y&&(y.d(1),y=null),528384&c[0]&&(g=!t[19]&&t[12].filter(yo).length),g?x?x.p(t,c):(x=ho(t),x.c(),x.m(r.parentNode,r)):x&&(x.d(1),x=null),(!p||512&c[0])&&m!==(m=t[9]+1+"")&&j(a,m),t[23]?A?A.p(t,c):(A=po(t),A.c(),A.m(u.parentNode,u)):A&&(A.d(1),A=null),32772&c[0]&&o(v,v=t[15]+t[2])?(bn(),xn(C,1,1,n),wn(),C=mo(t),C.c(),yn(C,1),C.m(f.parentNode,f)):C.p(t,c),16&c[0]&&o($,$=t[4])?(bn(),xn(O,1,1,n),wn(),O=ko(t),O.c(),yn(O,1),O.m(h.parentNode,h)):O.p(t,c)},i(n){p||(yn(s),yn(C),yn(O),p=!0)},o(n){xn(s),xn(C),xn(O),p=!1},d(n){n&&(I(i),I(l),I(r),I(c),I(d),I(u),I(f),I(h)),b[e].d(n),y&&y.d(n),x&&x.d(n),A&&A.d(n),C.d(n),O.d(n)}}}const wo="frames/blank.png",yo=n=>n.incache;function xo(n,t,e){let s,i,l,r,o,c,a,d,h,p,g,m,v,$,k,b,w,y,x,A;f(n,al,(n=>e(2,i=n))),f(n,zl,(n=>e(12,l=n))),f(n,dl,(n=>e(13,r=n))),f(n,gl,(n=>e(41,o=n))),f(n,pl,(n=>e(14,c=n))),f(n,il,(n=>e(37,a=n))),f(n,Dl,(n=>e(15,d=n))),f(n,Ql,(n=>e(16,h=n))),f(n,Rl,(n=>e(17,p=n))),f(n,xl,(n=>e(18,g=n))),f(n,sl,(n=>e(42,m=n))),f(n,$l,(n=>e(43,v=n))),f(n,bl,(n=>e(19,$=n))),f(n,fl,(n=>e(20,k=n))),f(n,kl,(n=>e(21,b=n))),f(n,jl,(n=>e(22,w=n))),f(n,Hl,(n=>e(23,y=n))),f(n,Kl,(n=>e(24,x=n))),f(n,ml,(n=>e(25,A=n)));let q,C,{onMainmenu:O=()=>{}}=t,{src:_}=t,I=[],P=[],N=!1,{totalpages:T=0}=t,{onTapText:S=function(){}}=t,E=1,z=0,L=0,M={};let j=1;const F=(n,t,e)=>{if(!C)return;e>=T?e=0:e<0&&(e=T-1),isNaN(e)&&(e=0);const s=(n=>{const t=["leftimage","middleimage","rightimage"][n];return document.getElementsByClassName(t)})(n);for(let n=0;n<s.length;n++){const i=new Blob([t.files[e].content]);s[n].src=URL.createObjectURL(i)}C.update()},B=n=>{if(!C)return;const t=m;let s=n-1;s<0&&(s=T-1);let i=n+1;i>=T&&(i=0),F((E+1)%3,t,s),F(E,t,n),F((E+2)%3,t,i),C.update(),e(9,z=n);const l=document.getElementsByClassName("middleimage")[0],r=l.clientHeight||M.height,o=l.clientWidth||M.width||.45*r;e(11,M={left:0,top:0,width:o,height:r})},R=()=>{e(6,N=!0),e(3,I=u(Al).folioPageText(i)),e(3,I=I.join("\n").replace(/【[^】]+】/,"").split("\n")),setTimeout((()=>{const n=Bl();e(6,N=!1),e(4,P=((n,t=5,e="「」『』。，；：、！？")=>{const s=[];for(let l=0;l<n.length;l++){let r=0,o=0,c=0,[a,d]=ct(n[l]);const u=!!d.filter((n=>"gatha"==n.name)).length;if(l>=t)break;u&&(a=a.replace(/[？；，。．]/g,"　"));const f=Xn(a);for(let n=0;n<f.length;n++){for(;o<d.length&&c>d[o].choff;)"ck"==d[o].name?s.push({line:l,ch:r,text:Bt(parseInt(d[o].attrs.id),"①")}):"n"==d[o].name&&s.push({line:l,ch:r,text:"n"+parseInt(d[o].attrs.id)}),o++;if(c+=f[n].length,~e.indexOf(f[n])){let t=(i=f[n],Qn[i]||i);s.push({line:l,ch:r,text:t})}(Dn(f[n])||"　"==f[n])&&r++}}var i;return s})(I,n))}),200)},H=(n=!1)=>{ur()&&!n||(Ql.set(!1),Yl.set(0))},U=()=>{let n=parseInt(i);n++,n>T&&(n=1),al.set(n)},W=()=>{let n=parseInt(i);n--,n<1&&(n=T),al.set(n)},D=(n,t)=>{const{left:e,top:s,width:i,height:l}=M;n-=e,t-=s;return[Bl()-Math.floor(n/i*Bl())-1,Math.floor(t/l*p)]},K=()=>{var n;L&&(clearTimeout(L),e(10,L=0)),J=!0;const t=i,s=null===(n=c[r])||void 0===n?void 0:n[t];if(s){const n=Object.assign({},c);for(let n in c[r]){c[r][n]==s&&parseInt(t)!==parseInt(n)&&delete c[r][n]}pl.set(Object.assign({},n))}};let J=!0;return n.$$set=n=>{"onMainmenu"in n&&e(34,O=n.onMainmenu),"src"in n&&e(35,_=n.src),"totalpages"in n&&e(0,T=n.totalpages),"onTapText"in n&&e(36,S=n.onTapText)},n.$$.update=()=>{64&n.$$.dirty[1]&&e(1,s=Js(a)),2&n.$$.dirty[0]|16&n.$$.dirty[1]&&s&&(async()=>{e(5,q=!1),ol.set(!0);let n="folio/";const t=new Vs(s);await t.load(r),Al.set(t);const l=lr(d);Ht()!==l&&Rt(l);const o=await Gr(Qi,n+_,(t=>{fl.set(n+_+" "+t)}));fl.set("");const c=await o.arrayBuffer(),a=new Ds(c);sl.set(a),e(0,T=a.files.length),e(9,z=parseInt(i)-1),z>=T&&e(9,z=0),e(5,q=!0),setTimeout((()=>{ul.set(T),ol.set(!1),B(z),R(),tl(r,zl,"on"==v)}),10)})(),4&n.$$.dirty[0]&&(async n=>{T&&C&&(R(),B(parseInt(n)-1))})(i)},[T,s,i,I,P,q,N,C,E,z,L,M,l,r,c,d,h,p,g,$,k,b,w,y,x,A,{autoplay:!1,delay:0,showIndicators:!1,transitionDuration:250,allow_infinite_swipe:!0},n=>{e(6,N=!0)},n=>{if(!q)return;const{active_item:t}=n.detail;e(8,E=t);let s=z;const i=m;j!=E?((j+3-E)%3==1?(s++,s>=T&&(s=0),F((j+1)%3,i,s+1)):(s--,s<0&&(s=T-1),F((j+2)%3,i,s-1)),j=E,e(9,z=s),al.set((z+1).toString()),C.update(),R(),H(),K()):e(6,N=!1)},n=>{"folio"===g&&q&&(n.ctrlKey||(e(6,N=!0),n.deltaY>0?U():W(),H(!0),n.preventDefault()))},n=>{const{x:t,y:s}=n.detail,[i,l]=D(t,s),r=Math.floor(p/2);e(6,N=!1),1==i||0==i?l>r?W():S("$toc"):i==Bl()-1||i==Bl()-2?l>r?U():S("$list"):S(l>r?"$audio":"$about")},n=>{if(h&&!ur())return void H(!0);e(6,N=!1);const{x:t,y:s}=n.detail,[l,r]=D(t,s);if(l>=Bl()!=l<0)return void S("");const o=d,c=[i,l,r];if(JSON.stringify(o)==JSON.stringify(c))return hl.set(!0),navigator.clipboard.writeText(hr()),void S("");hl.set(!1),Dl.set(c);const a=rr();localStorage.setItem(Ri+"homeurl",a);const f=u(Al);let{choff:p,linetext:g}=f.fromFolioPos(i,l,r);g=g.replace(/([。！？：、．；，「『（ ])/g,"　");const m=g.slice(0,p)+vr+g.slice(p).replace(/　.+/,"");let[v]=ct(m);for(;"　"==v.charAt(0);)v=v.slice(1);for(;"　"==v.charAt(v.length-1);)v=v.slice(0,v.length-1);S(v)},()=>{if("ylz-prjn"!==a&&"ylz-tg"!==a&&"ylz-vny"!==a&&"ylz-svk"!==a)return;clearTimeout(L),e(10,L=setTimeout((()=>{K()}),5e3));const n=Object.assign({},c);n[r]||(n[r]={});if(n[r][i])if(J)delete n[r][i],clearTimeout(L),e(10,L=0);else{let t=n[r][i]+1;t>=fr.length&&(t=1),n[r][i]=t,J=!1}else J=!1,n[r][i]=1;pl.set(Object.assign({},n))},()=>{if(u(jl))cr("");else{var n;if(l.length<2)return;const t=Math.floor(Math.random()*(l.length-1))+1,e=o[r]||(null===(n=l[t||1])||void 0===n?void 0:n.aid);cr(e)}},O,_,S,a,function(n){sn[n?"unshift":"push"]((()=>{C=n,e(7,C)}))}]}class Ao extends zn{constructor(n){super(),En(this,n,xo,bo,o,{onMainmenu:34,src:35,totalpages:0,onTapText:36},null,[-1,-1])}}window.matchMedia("(orientation: portrait)").addEventListener("change",(function(n){bl.set(!n.matches)})),window.addEventListener("deviceorientation",(()=>{bl.set(screen.availWidth>screen.availHeight)}),!0),bl.set(screen.availWidth>screen.availHeight);const qo=()=>{const n=document.documentElement,t=window.innerHeight*u(Ol);n.style.setProperty("--doc-height",`${t}px`)};window.addEventListener("resize",qo);const Co="㑔㑯\n㑇㑳\n㐹㑶\n刾㓨\n㘎㘚\n㚯㜄\n㛣㜏\n㟆㠏\n㤘㥮\n㨫㩜\n㧐㩳\n擜㩵\n㻪㻽\n䀥䁻\n鿎䃮\n䌶䊷\n䌺䋙\n䌻䋚\n䌿䋹\n䌾䋻\n䎬䎱\n䙌䙡\n䜧䜀\n䞍䝼\n䦂䥇\n鿏䥑\n䥾䥱\n䦶䦛\n䦷䦟\n䯅䯀\n鲃䰾\n䲣䱷\n䲝䱽\n鳚䲁\n鳤䲘\n鹮䴉\n丢丟\n并<併並\n干<幹>乾\n乱亂\n亚亞\n伫佇\n来來\n仑侖\n侣侶\n俣俁\n系<繫係\n伣俔\n侠俠\n伡俥\n伥倀\n俩倆\n俫倈\n仓倉\n个個\n们們\n伦倫\n㑈倲\n伟偉\n㐽偑\n侧側\n侦偵\n伪僞偽\n㐷傌\n杰<傑\n伧傖\n伞傘\n备備\n佣<傭\n偬傯\n传傳\n伛傴\n债債\n伤傷\n倾傾\n偻僂\n仅僅\n佥僉\n侨僑\n仆<僕\n侥僥\n偾僨\n价<價\n仪儀\n㑺儁\n侬儂\n亿億\n侩儈\n俭儉\n傧儐\n俦儔\n侪儕\n尽盡儘\n偿償\n优<優\n储儲\n俪儷\n㑩儸\n傩儺\n傥儻\n俨儼\n兑兌\n儿<兒\n兖兗\n内內\n两兩\n册冊\n幂冪\n净凈\n冻凍\n凛凜\n凯凱\n别別\n删刪\n刭剄\n则則\n克<剋\n刹剎\n刬剗\n刚剛\n剥剝\n剐剮\n剀剴\n创創\n划<劃\n剧劇\n刘劉\n刽劊\n刿劌\n剑劍\n㓥劏\n剂劑\n㔉劚\n劲勁\n动動\n务務\n勋勛\n胜<勝\n劳勞\n势勢\n勚勩\n劢勱\n励勵\n劝勸\n匀勻\n匦匭\n汇彙匯\n匮匱\n区區\n协協\n却卻\n厍厙\n厌厭\n厉厲\n厣厴\n参參\n叁叄\n丛叢\n咤>吒\n吴吳\n呐吶\n吕呂\n呙咼\n员員\n呗唄\n吣唚\n问問\n哑啞\n启啟\n唡啢\n㖞喎\n唤喚\n丧喪\n乔喬\n单單\n哟喲\n呛嗆\n啬嗇\n唝嗊\n吗嗎\n呜嗚\n唢嗩\n哔嗶\n叹嘆\n喽嘍\n啯嘓\n呕嘔\n啧嘖\n尝嘗\n唛嘜\n哗嘩\n唠嘮\n啸嘯\n叽嘰\n哓嘵\n呒嘸\n啴嘽\n嘘噓\n㖊噚\n咝噝\n哒噠\n哝噥\n哕噦\n嗳噯\n哙噲\n喷噴\n吨<噸\n当當噹\n咛嚀\n吓嚇\n哜嚌\n噜嚕\n啮嚙\n呖嚦\n咙嚨\n亸嚲\n喾嚳\n严嚴\n嘤嚶\n啭囀\n嗫囁\n嚣囂\n冁囅\n呓囈\n啰囉\n嘱囑\n囱囪\n囵圇\n国國\n围圍\n园園\n圆圓\n图圖\n团團\n埯垵\n垭埡\n采<採埰\n执執\n坚堅\n垩堊\n垴堖\n埚堝\n尧堯\n报報\n场場\n块塊\n茔塋\n垲塏\n埘塒\n涂<塗\n坞塢\n埙塤\n尘塵\n堑塹\n垫墊\n坠墜\n堕墮\n坟墳\n垯墶\n垦墾\n坛罈壇\n垱壋\n压壓\n垒壘\n圹壙\n垆壚\n坏<壞\n垄壟\n垅壠\n坜壢\n坝壩\n塆壪\n壮壯\n壶壺\n壸壼\n寿壽\n够夠\n梦夢\n夹夾\n奂奐\n奥奧\n奁奩\n夺奪\n奨奬\n奋奮\n姹奼\n妆妝\n姗姍\n奸<姦\n娱娛\n娄婁\n妇婦\n娅婭\n娲媧\n妫媯\n㛀媰\n媪媼\n妈媽\n妪嫗\n妩嫵\n娴嫻\n婳嫿\n媭嬃\n娆嬈\n婵嬋\n娇嬌\n嫱嬙\n嫒嬡\n嬷嬤\n嫔嬪\n婴嬰\n婶嬸\n㛤孋\n娈孌\n孙孫\n学學\n孪孿\n宫宮\n寝寢\n实實\n宁<寧\n审審\n写寫\n宽寬\n㝦寯\n宠寵\n宝寶\n将將\n专專\n寻尋\n对對\n导導\n尴尷\n届屆\n尸<屍\n屃屓\n屉屜\n屡屢\n层層\n屦屨\n属屬\n冈岡\n岘峴\n岛島\n峡峽\n崃崍\n岗崗\n峥崢\n岽崬\n岚嵐\n㟥嵾\n嵝嶁\n崭嶄\n岖嶇\n嵚嶔\n崂嶗\n峤嶠\n峣嶢\n峄嶧\n崄嶮\n岙嶴\n嵘嶸\n岭<嶺\n屿嶼\n岿巋\n峦巒\n巅巔\n巯巰\n帅帥\n师師\n帐帳\n带帶\n帧幀\n帏幃\n㡎幓\n帼幗\n帻幘\n帜幟\n币幣\n帮幫\n帱幬\n么<麼>幺>麽\n几<幾\n库庫\n厕廁\n厢廂\n厩廄\n厦廈\n厨廚\n厮廝\n庙廟\n厂<廠\n庑廡\n废廢\n广廣\n廪廩\n庐廬\n厅廳\n弑弒\n弪弳\n张張\n强強\n弹彈\n弥彌\n弯彎\n彝<彞\n彟彠\n彦彥\n彨彲\n后<>後\n径徑\n从從\n徕徠\n复<複復>覆\n征<>徵\n彻徹\n恒恆\n耻恥\n悦悅\n悮悞\n怅悵\n闷悶\n恶惡\n恼惱\n恽惲\n恻惻\n爱愛\n惬愜\n悫愨\n怆愴\n恺愷\n忾愾\n栗<慄\n态態\n愠慍\n惨慘\n惭慚\n恸慟\n惯慣\n怄慪\n怂慫\n虑慮\n悭慳\n庆慶\n㥪慺\n忧憂\n惫憊\n㤭憍\n怜<憐\n凭憑\n愦憒\n慭憖\n惮憚\n愤憤\n悯憫\n怃憮\n宪憲\n忆憶\n恳懇\n应應\n怿懌\n懔懍\n怼懟\n懑懣\n㤽懤\n㤖懧\n恹懨\n惩懲\n懒懶\n怀<懷\n悬懸\n忏<懺\n惧懼\n慑懾\n恋戀\n戆戇\n戋戔\n戗戧\n戬戩\n战戰\n戯戱\n戏戲\n户戶\n抛拋\n捝挩\n挟挾\n舍<捨\n扪捫\n扫掃\n抡掄\n㧏掆\n挜掗\n挣掙\n挂<掛\n拣揀\n扬揚\n换換\n挥揮\n损損\n摇搖\n捣搗\n揾搵\n抢搶\n掴摑\n掼摜\n搂摟\n挚摯\n抠摳\n抟摶\n掺摻\n捞撈\n挦撏\n撑撐\n挠撓\n㧑撝\n挢撟\n掸撣\n拨撥\n抚撫\n扑<撲\n揿撳\n挞撻\n挝撾\n捡撿\n拥擁\n掳擄\n择擇\n击擊\n挡擋\n㧟擓\n担擔\n据<據\n挤擠\n㧛擥\n拟擬\n摈擯\n拧擰\n搁擱\n掷擲\n扩擴\n撷擷\n摆擺\n擞擻\n撸擼\n㧰擽\n扰<擾\n摅攄\n撵攆\n拢攏\n拦攔\n撄攖\n搀攙\n撺攛\n携攜\n摄攝\n攒攢\n挛攣\n摊攤\n搅攪\n揽攬\n败敗\n叙敘\n敌敵\n数數\n敛斂\n毙斃\n敩斆\n斓斕\n斩斬\n断斷\n于<>於\n时時\n晋晉\n昼晝\n晕暈\n晖暉\n旸暘\n畅暢\n暂暫\n晔曄\n历歷曆\n昙曇\n晓曉\n向<曏\n暧曖\n旷曠\n昽曨\n晒<曬\n书書\n会會\n胧朧\n东東\n栅柵\n杆<桿\n栀梔\n枧梘\n条條\n枭梟\n棁梲\n弃棄\n枨棖\n枣棗\n栋棟\n㭎棡\n栈棧\n栖<棲\n梾棶\n桠椏\n㭏椲\n杨楊\n枫楓\n桢楨\n业業\n极<極\n杩榪\n荣榮\n榅榲\n桤榿\n构<構\n枪槍\n梿槤\n椠槧\n椁槨\n椮槮\n桨槳\n椢槶\n椝槼\n桩樁\n乐樂\n枞樅\n楼樓\n标標\n枢樞\n㭤樢\n样樣\n㭴樫\n桪樳\n朴<樸\n树樹\n桦樺\n椫樿\n桡橈\n桥橋\n机<機\n椭橢\n横橫\n檩檁\n柽檉\n档檔\n桧檜\n槚檟\n检檢\n樯檣\n梼檮\n台<颱臺檯\n槟檳\n柠檸\n槛檻\n柜<櫃\n橹櫓\n榈櫚\n栉櫛\n椟櫝\n橼櫞\n栎櫟\n橱櫥\n槠櫧\n栌櫨\n枥櫪\n橥櫫\n榇櫬\n蘖櫱\n栊櫳\n榉櫸\n樱櫻\n栏欄\n权權\n椤欏\n栾欒\n榄欖\n棂欞\n钦欽\n欧歐\n欤歟\n欢歡\n岁歲\n归歸\n殁歿\n残殘\n殒殞\n殇殤\n㱮殨\n殚殫\n殓殮\n殡殯\n㱩殰\n歼殲\n杀殺\n壳殼\n毁毀\n殴毆\n毵毿\n牦氂\n毡氈\n氇氌\n气<氣\n氢氫\n氩氬\n氲氳\n决決\n没沒\n冲衝沖\n况況\n汹洶\n浃浹\n泾涇\n凉涼\n泪淚\n渌淥\n沦淪\n渊淵\n涞淶\n浅淺\n涣渙\n减減\n沨渢\n涡渦\n测測\n浑渾\n凑湊\n浈湞\n汤湯\n沩溈\n准<準\n沟溝\n温溫\n浉溮\n涢溳\n沧滄\n灭滅\n涤滌\n荥滎\n沪滬\n滞滯\n渗滲\n浒滸\n浐滻\n滚滾\n满滿\n渔漁\n溇漊\n沤漚\n汉漢\n涟漣\n渍漬\n涨漲\n溆漵\n渐漸\n浆漿\n颍潁\n泼潑\n洁<潔\n㴋潚\n潜潛\n润潤\n浔潯\n溃潰\n滗潷\n涠潿\n涩澀\n浇澆\n涝澇\n涧澗\n渑澠\n泽澤\n滪澦\n泶澩\n浍澮\n淀<澱\n㳠澾\n浊濁\n浓濃\n㳡濄\n湿濕\n泞<濘\n溁濚\n浕濜\n济濟\n涛濤\n㳔濧\n滥濫\n潍濰\n滨濱\n溅濺\n泺濼\n滤濾\n澛瀂\n滢瀅\n渎瀆\n㲿瀇\n泻瀉\n沈<瀋\n浏瀏\n濒瀕\n泸瀘\n沥瀝\n潇瀟\n潆瀠\n潴瀦\n泷瀧\n濑瀨\n㳽瀰\n潋瀲\n澜瀾\n沣灃\n滠灄\n洒<灑\n漓<灕\n滩灘\n灏灝\n漤灠\n㳕灡\n湾灣\n滦灤\n滟灧\n灾災\n为為\n乌烏\n烃烴\n无無\n炼煉\n炜煒\n烟煙\n茕煢\n焕煥\n烦煩\n炀煬\n㶽煱\n煴熅\n荧熒\n炝熗\n热熱\n颎熲\n炽熾\n烨燁\n灯燈\n烧燒\n烫燙\n焖燜\n营營\n灿燦\n烛燭\n烩燴\n㶶燶\n烬燼\n焘燾\n烁爍\n炉爐\n烂爛\n争爭\n爷爺\n尔爾\n墙牆\n牍牘\n牵牽\n荦犖\n犊犢\n牺犧\n状狀\n狭狹\n狈狽\n狰猙\n犹猶\n狲猻\n犸獁\n狱獄\n狮獅\n奖獎\n独獨\n狯獪\n猃獫\n狝獮\n狞獰\n㺍獱\n获穫獲\n猎獵\n犷獷\n兽獸\n獭獺\n献獻\n猕獼\n猡玀\n现現\n珐琺\n珲琿\n玮瑋\n玚瑒\n琐瑣\n瑶瑤\n莹瑩\n玛瑪\n玱瑲\n琏璉\n琎璡\n玑璣\n瑷璦\n珰璫\n㻅璯\n环環\n玙璵\n瑸璸\n玺璽\n琼瓊\n珑瓏\n璎瓔\n瓒瓚\n瓯甌\n产產\n亩畝\n毕畢\n画畫\n异<異\n畴疇\n叠疊\n痉痙\n疴痾\n痖瘂\n疯瘋\n疡瘍\n痪瘓\n瘗瘞\n疮瘡\n疟瘧\n瘆瘮\n疭瘲\n瘘瘺\n疗療\n痨癆\n痫癇\n瘅癉\n疠癘\n瘪癟\n痒<癢\n疖癤\n症<癥\n疬癧\n癞癩\n癣癬\n瘿癭\n瘾癮\n痈癰\n瘫癱\n癫癲\n发髮發\n皑皚\n疱皰\n皲皸\n皱皺\n盗盜\n盏盞\n监監\n盘盤\n卢盧\n荡蕩盪\n眦眥\n众眾\n困<睏\n睁睜\n睐睞\n眍瞘\n䁖瞜\n瞒瞞\n瞆瞶\n睑瞼\n眬矓\n瞩矚\n矫矯\n硁硜\n硖硤\n砗硨\n砚硯\n硕碩\n砀碭\n砜碸\n确<確\n码碼\n䂵碽\n硙磑\n砖磚\n硵磠\n碜磣\n碛磧\n矶磯\n硗磽\n䃅磾\n硚礄\n硷鹼礆\n础礎\n碍礙\n矿礦\n砺礪\n砾礫\n矾礬\n砻礱\n禄祿\n祸禍\n祯禎\n祎禕\n祃禡\n御<禦\n禅禪\n礼禮\n祢禰\n祷禱\n秃禿\n籼秈\n税稅\n秆稈\n䅉稏\n禀稟\n种<種\n称稱\n谷<穀\n䅟穇\n稣穌\n积積\n颖穎\n秾穠\n穑穡\n秽穢\n稳穩\n稆穭\n窝窩\n洼<窪\n穷窮\n窑窯\n窎窵\n窭窶\n窥窺\n窜竄\n窍竅\n窦竇\n窃竊\n竞競\n笔筆\n笋筍\n笕筧\n䇲筴\n笺箋\n筝箏\n节節\n范<範\n筑<築\n箧篋\n筼篔\n笃篤\n筛篩\n筚篳\n箦簀\n篓簍\n箪簞\n简簡\n篑簣\n箫簫\n筜簹\n签簽\n帘<簾\n篮籃\n筹籌\n䉤籔\n箓籙\n篯籛\n箨籜\n籁籟\n笼籠\n笾籩\n簖籪\n篱<籬\n箩籮\n粤粵\n糁糝\n粪糞\n粮糧\n粝糲\n籴糴\n粜糶\n纟糹\n纠糾\n纪紀\n纣紂\n约約\n红紅\n纡紆\n纥紇\n纨紈\n纫紉\n纹紋\n纳納\n纽紐\n纾紓\n纯純\n纰紕\n纼紖\n纱紗\n纮紘\n纸紙\n级級\n纷紛\n纭紜\n纴紝\n纺紡\n䌷紬\n细細\n绂紱\n绁紲\n绅紳\n纻紵\n绍紹\n绀紺\n绋紼\n绐紿\n绌絀\n终終\n组組\n䌹絅\n绊絆\n绗絎\n结結\n绝絕\n绦縧絛\n绔絝\n绞絞\n络絡\n绚絢\n给給\n绒絨\n绖絰\n统統\n丝絲\n绛絳\n绢絹\n绑綁\n绡綃\n绠綆\n绨綈\n绤綌\n绥綏\n䌼綐\n经經\n综綜\n缍綞\n绿綠\n绸綢\n绻綣\n绶綬\n维維\n绹綯\n绾綰\n纲綱\n网<網\n缀綴\n䌽綵\n纶綸\n绺綹\n绮綺\n绽綻\n绰綽\n绫綾\n绵綿\n绲緄\n缁緇\n紧緊\n绯緋\n绪緒\n绬緓\n绱鞝緔\n缃緗\n缄緘\n缂緙\n线線\n缉緝\n缎緞\n缔締\n缗緡\n缘緣\n缌緦\n编編\n缓緩\n缅緬\n纬緯\n缑緱\n缈緲\n练練\n缏緶\n缇緹\n致<緻\n萦縈\n缙縉\n缢縊\n缒縋\n绉縐\n缣縑\n缊縕\n缞縗\n缚縛\n缜縝\n缟縞\n缛縟\n县縣\n缝縫\n缡縭\n缩縮\n纵縱\n缧縲\n䌸縳\n缦縵\n絷縶\n缕縷\n缥縹\n总總\n绩績\n绷繃\n缫繅\n缪繆\n缯繒\n织織\n缮繕\n缭繚\n绕繞\n绣繡\n缋繢\n绳繩\n绘繪\n茧<繭\n缰韁繮\n缳繯\n缲繰\n缴繳\n䍁繸\n绎繹\n继繼\n缤繽\n缱繾\n䍀繿\n颣纇\n缬纈\n纩纊\n续續\n累<纍\n缠纏\n缨纓\n纤纖\n缵纘\n缆纜\n钵缽\n罂罌\n罚罰\n骂罵\n罢罷\n罗羅\n罴羆\n羁羈\n芈羋\n羟羥\n义義\n习習\n翚翬\n翘翹\n翙翽\n耧耬\n耢耮\n圣<聖\n闻聞\n联聯\n聪聰\n声聲\n耸聳\n聩聵\n聂聶\n职職\n聍聹\n听<聽\n聋聾\n肃肅\n胁脅\n脉脈\n胫脛\n脱脫\n胀脹\n肾腎\n胨腖\n脶腡\n脑腦\n肿腫\n脚腳\n肠腸\n腽膃\n腘膕\n肤膚\n䏝膞\n胶膠\n腻膩\n胆膽\n脍膾\n脓膿\n䐪臇\n脸臉\n脐臍\n膑臏\n腊<臘\n胪臚\n脏髒臟\n脔臠\n臜臢\n临臨\n与<與\n兴興\n举舉\n旧舊\n舱艙\n舣艤\n舰艦\n舻艫\n艰艱\n艳艷\n刍芻\n苎苧\n兹茲\n荆荊\n庄<莊\n茎莖\n荚莢\n苋莧\n华華\n苌萇\n莱萊\n万<萬\n荝萴\n莴萵\n叶葉\n荭葒\n着>著\n荮葤\n苇葦\n荤葷\n莳蒔\n莅蒞\n苍蒼\n荪蓀\n盖蓋\n莲蓮\n苁蓯\n莼蓴\n荜蓽\n蒌蔞\n蒋蔣\n葱蔥\n茑蔦\n荫蔭\n荨蕁\n蒇蕆\n荞蕎\n荬蕒\n芸<蕓\n莸蕕\n荛蕘\n蒉蕢\n芜蕪\n萧蕭\n蓣蕷\n蕰薀\n荟薈\n蓟薊\n芗薌\n蔷薔\n荙薘\n莶薟\n荐<薦\n萨薩\n䓕薳\n苧<薴\n䓓薵\n荠薺\n蓝藍\n荩藎\n艺藝\n药藥\n薮藪\n苈藶\n蔼藹\n蔺藺\n萚蘀\n蕲蘄\n芦蘆\n苏蘇\n蕴蘊\n苹<蘋\n藓蘚\n蔹蘞\n茏蘢\n兰蘭\n蓠蘺\n萝蘿\n蔂<虆\n处處\n虚虛\n虏虜\n号號\n亏虧\n虬虯\n蛱蛺\n蜕蛻\n蚬蜆\n蚀蝕\n猬蝟\n虾蝦\n蜗蝸\n蛳螄\n蚂螞\n萤螢\n䗖螮\n蝼螻\n螀螿\n蛰蟄\n蝈蟈\n螨蟎\n虮<蟣\n蝉蟬\n蛲蟯\n虫<蟲\n蛏蟶\n蚁蟻\n蚃蠁\n蝇蠅\n虿蠆\n蛴蠐\n蝾蠑\n蜡<蠟\n蛎蠣\n蟏蠨\n蛊蠱\n蚕<蠶\n蛮蠻\n术術\n同<衕\n胡<鬍衚\n卫衛\n衮袞\n袅裊\n补補\n装裝\n里<裡\n制<製\n裈褌\n袆褘\n裤褲\n裢褳\n褛褸\n亵褻\n裥襇\n褝襌\n袯襏\n袄襖\n裣襝\n裆襠\n褴襤\n袜襪\n䙓襬\n衬襯\n袭襲\n襕襴\n见見\n觃覎\n规規\n觅覓\n视視\n觇覘\n觋覡\n觍覥\n觎覦\n亲親\n觊覬\n觏覯\n觐覲\n觑覷\n觉覺\n览覽\n觌覿\n观觀\n觞觴\n觯觶\n触<觸\n讠訁\n订訂\n讣訃\n计計\n讯訊\n讧訌\n讨討\n讦訐\n讱訒\n训訓\n讪訕\n讫訖\n讬託\n记記\n讹訛\n讶訝\n讼訟\n䜣訢\n诀訣\n讷訥\n讻訩\n访訪\n设設\n许許\n诉訴\n诃訶\n诊診\n注<註\n诂詁\n诋詆\n讵詎\n诈詐\n诒詒\n诏詔\n评評\n诐詖\n诇詗\n诎詘\n诅詛\n词詞\n咏詠\n诩詡\n询詢\n诣詣\n试試\n诗詩\n诧詫\n诟詬\n诡詭\n诠詮\n诘詰\n话話\n该該\n详詳\n诜詵\n诙詼\n诖詿\n诔誄\n诛誅\n诓誆\n夸<誇\n志<誌\n认認\n诳誑\n诶誒\n诞誕\n诱誘\n诮誚\n语語\n诚誠\n诫誡\n诬誣\n误誤\n诰誥\n诵誦\n诲誨\n说說\n谁誰\n课課\n谇誶\n诽誹\n谊誼\n訚誾\n调調\n谄諂\n谆諄\n谈談\n诿諉\n请請\n诤諍\n诹諏\n诼諑\n谅諒\n论論\n谂諗\n谀諛\n谍諜\n谞諝\n谝諞\n诨諢\n谔諤\n谛諦\n谐諧\n谏諫\n谕諭\n谘諮\n讳諱\n谙諳\n谌諶\n讽諷\n诸諸\n谚諺\n谖諼\n诺諾\n谋謀\n谒謁\n谓謂\n誊謄\n诌謅\n谎謊\n谜謎\n谧謐\n谑謔\n谡謖\n谤謗\n谦謙\n谥謚\n讲講\n谢謝\n谣謠\n谟謨\n谪謫\n谬謬\n谫譾謭\n讴謳\n谨謹\n谩謾\n证證\n谲譎\n讥譏\n谮譖\n识識\n谯譙\n谭譚\n谱譜\n谵譫\n译譯\n议議\n谴譴\n护護\n诪譸\n䛓譼\n誉譽\n读讀\n谉讅\n变變\n詟讋\n䜩讌\n雠讎\n谗讒\n让讓\n谰讕\n谶讖\n谠讜\n谳讞\n岂豈\n竖豎\n丰<豐\n猪豬\n豮豶\n猫貓\n䝙貙\n贝貝\n贞貞\n贠貟\n负負\n财財\n贡貢\n贫貧\n货貨\n贩販\n贪貪\n贯貫\n责責\n贮貯\n贳貰\n赀貲\n贰貳\n贵貴\n贬貶\n买買\n贷貸\n贶貺\n费費\n贴貼\n贻貽\n贸貿\n贺賀\n贲賁\n赂賂\n赁賃\n贿賄\n赅賅\n资資\n贾賈\n贼賊\n赈賑\n赊賒\n宾賓\n赇賕\n赒賙\n赉賚\n赐賜\n赏賞\n赔賠\n赓賡\n贤賢\n卖賣\n贱賤\n赋賦\n赕賧\n质質\n账賬\n赌賭\n䞐賰\n赖賴\n赗賵\n赚賺\n赙賻\n购購\n赛賽\n赜賾\n贽贄\n赘贅\n赟贇\n赠贈\n赞贊\n赝贗贋\n赡贍\n赢贏\n赆贐\n赃贓\n赑贔\n赎贖\n赣贛\n赪赬\n赶<趕\n赵趙\n趋趨\n趱趲\n迹跡\n践踐\n踊<踴\n跄蹌\n跸蹕\n蹒蹣\n踪蹤\n跷蹺\n跶躂\n趸躉\n踌躊\n跻躋\n跃躍\n䟢躎\n踯躑\n跞躒\n踬躓\n蹰躕\n跹躚\n蹑躡\n蹿躥\n躜躦\n躏躪\n躯軀\n车車\n轧軋\n轨軌\n军軍\n轪軑\n轩軒\n轫軔\n轭軛\n软軟\n轷軤\n轸軫\n轱軲\n轴軸\n轵軹\n轺軺\n轲軻\n轶軼\n轼軾\n较較\n辂輅\n辁輇\n辀輈\n载載\n轾輊\n辄輒\n挽<輓\n辅輔\n轻輕\n辆輛\n辎輜\n辉輝\n辋輞\n辍輟\n辊輥\n辇輦\n辈輩\n轮輪\n辌輬\n辑輯\n辏輳\n输輸\n辐輻\n辗輾\n舆輿\n辒轀\n毂轂\n辖轄\n辕轅\n辘轆\n转轉\n辙轍\n轿轎\n辚轔\n轰轟\n辔轡\n轹轢\n轳轤\n办辦\n辞辭\n辫辮\n辩辯\n农農\n迳逕\n这這\n连連\n进進\n运運\n过過\n达達\n违違\n遥遙\n逊遜\n递遞\n远遠\n适<適\n迟遲\n迁遷\n选選\n遗遺\n辽遼\n迈邁\n还還\n迩邇\n边邊\n逻邏\n逦邐\n郏郟\n邮郵\n郓鄆\n乡鄉\n邹鄒\n邬鄔\n郧鄖\n邓鄧\n郑鄭\n邻鄰\n郸鄲\n邺鄴\n郐鄶\n邝鄺\n酂酇\n郦酈\n丑<醜\n酝醞\n医醫\n酱醬\n酦醱\n酿釀\n衅釁\n酾釃\n酽釅\n释釋\n厘<釐\n钅釒\n钆釓\n钇釔\n钌釕\n钊釗\n钉釘\n钋釙\n针針\n钓釣\n钐釤\n钏釧\n钒釩\n钗釵\n钍釷\n钕釹\n钎釺\n䥺釾\n钯鈀\n钫鈁\n钘鈃\n钭鈄\n钚鈈\n钠鈉\n钝鈍\n钩鉤鈎\n钤鈐\n钣鈑\n钑鈒\n钞鈔\n钮鈕\n钧鈞\n钙鈣\n钬鈥\n钛鈦\n钪鈧\n铌鈮\n铈鈰\n钶鈳\n铃鈴\n钴鈷\n钹鈸\n铍鈹\n钰鈺\n钸鈽\n铀鈾\n钿鈿\n钾鉀\n钜鉅\n铊鉈\n铉鉉\n铇鉋\n铋鉍\n铂鉑\n钷鉕\n钳鉗\n铆鉚\n铅鉛\n钺鉞\n钲鉦\n鿭鑈鉨\n钼鉬\n钽鉭\n铏鉶\n铰鉸\n铒鉺\n铬鉻\n铪鉿\n银銀\n铳銃\n铜銅\n铚銍\n铣銑\n铨銓\n铢銖\n铭銘\n铫銚\n铦銛\n衔銜\n铑銠\n铷銣\n铱銥\n铟銦\n铵銨\n铥銩\n铕銪\n铯銫\n铐銬\n铞銱\n锐銳\n销銷\n锈鏽銹\n锑銻\n锉銼\n铝鋁\n锒鋃\n锌鋅\n钡鋇\n铤鋌\n铗鋏\n锋鋒\n铻鋙\n锊鋝\n锓鋟\n铘鋣\n锄鋤\n锃鋥\n锔鋦\n锇鋨\n铓鋩\n铺鋪\n铖鋮\n锆鋯\n锂鋰\n铽鋱\n锍鋶\n锯鋸\n钢鋼\n锞錁\n录錄\n锖錆\n锫錇\n锩錈\n铔錏\n锥錐\n锕錒\n锟錕\n锤錘\n锱錙\n铮錚\n锛錛\n锬錟\n锭錠\n锜錡\n钱錢\n锦錦\n锚錨\n锠錩\n锡錫\n锢錮\n错錯\n锰錳\n表<錶\n铼錸\n锝鍀\n锨鍁\n锪鍃\n钔鍆\n锴鍇\n锳鍈\n锅鍋\n镀鍍\n锷鍔\n铡鍘\n钖鍚\n锻鍛\n锽鍠\n锸鍤\n锲鍥\n锘鍩\n锹鍬\n锾鍰\n键鍵\n锶鍶\n锗鍺\n钟鐘鍾\n镁鎂\n锿鎄\n镅鎇\n镑鎊\n镕鎔\n锁鎖\n镉鎘\n镈鎛\n镃鎡\n钨鎢\n蓥鎣\n镏鎦\n铠鎧\n铩鎩\n锼鎪\n镐鎬\n镇鎮\n镒鎰\n镋鎲\n镍鎳\n镓鎵\n鿔鎶\n镎鎿\n镞鏃\n镟鏇\n链鏈\n镆鏌\n镙鏍\n镠鏐\n镝鏑\n铿鏗\n锵鏘\n镗鏜\n镘鏝\n镛鏞\n铲鏟\n镜鏡\n镖鏢\n镂鏤\n錾鏨\n镚鏰\n铧鏵\n镤鏷\n镪鏹\n䥽鏺\n铙鐃\n铴鐋\n镣鐐\n铹鐒\n镦鐓\n镡鐔\n镫鐙\n镢鐝\n镨鐠\n䦅鐥\n锎鐦\n锏鐧\n镄鐨\n镌鐫\n镰鐮\n䦃鐯\n镯鐲\n镭鐳\n铁鐵\n镮鐶\n铎鐸\n铛鐺\n镱鐿\n铸鑄\n镬鑊\n镔鑌\n鉴鑒\n镲鑔\n锧鑕\n镴鑞\n铄鑠\n镳鑣\n镥鑥\n镧鑭\n钥鑰\n镵鑱\n镶鑲\n镊鑷\n镩鑹\n锣鑼\n钻鑽\n銮鑾\n凿鑿\n䦆钁\n长長\n门門\n闩閂\n闪閃\n闫閆\n闬閈\n闭閉\n开開\n闶閌\n闳閎\n闰閏\n闲閒閑\n间間\n闵閔\n闸閘\n阂閡\n阁閣\n阀閥\n闺閨\n闽閩\n阃閫\n阆閬\n闾閭\n阅閱\n阊閶\n阉閹\n阎閻\n阏閼\n阍閽\n阈閾\n阌閿\n阒闃\n板<闆\n闱闈\n阔闊\n阕闋\n阑闌\n阇闍\n阗闐\n阘闒\n闿闓\n阖闔\n阙闕\n闯闖\n关關\n阚闞\n阓闠\n阐闡\n辟<闢\n阛闤\n闼闥\n坂>阪\n陉陘\n陕陝\n阵陣\n阴陰\n陈陳\n陆陸\n阳陽\n陧隉\n队隊\n阶階\n陨隕\n际際\n随隨\n险險\n陦隯\n隐隱\n陇隴\n隶隸\n只<隻\n隽雋\n虽雖\n双雙\n雏雛\n杂雜\n鸡雞\n离<離\n难難\n云<雲\n电電\n霡霢\n雾霧\n霁霽\n雳靂\n霭靄\n叇靆\n灵靈\n叆靉\n靓靚\n静靜\n䩄靦\n靥靨\n鼗鞀\n巩鞏\n鞒鞽\n鞑韃\n鞯韉\n韦韋\n韧韌\n韨韍\n韩韓\n韪韙\n韬韜\n韫韞\n韵韻\n响響\n页頁\n顶頂\n顷頃\n项項\n顺順\n顸頇\n须鬚須\n顼頊\n颂頌\n颀頎\n颃頏\n预預\n顽頑\n颁頒\n顿頓\n颇頗\n领領\n颌頜\n颉頡\n颐頤\n颏頦\n头頭\n颒頮\n颊頰\n颋頲\n颕頴\n颔頷\n颈頸\n颓頹\n频頻\n颗顆\n题題\n额額\n颚顎\n颜顏\n颙顒\n颛顓\n愿<願\n颡顙\n颠顛\n类類\n颟顢\n颢顥\n顾顧\n颤顫\n颥顬\n显顯\n颦顰\n颅顱\n颞顳\n颧顴\n风風\n飐颭\n飑颮\n飒颯\n刮<颳\n飓颶\n飔颸\n飏颺\n飖颻\n飕颼\n飗飀\n飘飄\n飙飆\n飚飈\n飞飛\n饣飠\n饥飢\n饤飣\n饦飥\n饨飩\n饪飪\n饫飫\n饬飭\n饭飯\n饮飲\n饴飴\n饲飼\n饱飽\n饰飾\n饳飿\n饺餃\n饸餄\n饼餅\n饷餉\n养養\n饵餌\n饹餎\n饻餏\n饽餑\n馁餒\n饿餓\n馂餕\n饾餖\n余<餘\n肴<餚\n馄餛\n馃餜\n饯餞\n馅餡\n馆館\n糇餱\n饧餳\n馉餶\n馇餷\n馎餺\n饩餼\n馏餾\n馊餿\n馌饁\n馍饃\n馒饅\n馐饈\n馑饉\n馓饊\n馈饋\n馔饌\n饶饒\n飨饗\n餍饜\n馋饞\n馕饢\n马馬\n驭馭\n冯馮\n驮馱\n驰馳\n驯馴\n驲馹\n驳駁\n驻駐\n驽駑\n驹駒\n驵駔\n驾駕\n骀駘\n驸駙\n驶駛\n驼駝\n驷駟\n骈駢\n骇駭\n骃駰\n骆駱\n骎駸\n骏駿\n骋騁\n骍騂\n骓騅\n骔騌\n骒騍\n骑騎\n骐騏\n骛騖\n骗騙\n骙騤\n䯄騧\n骞騫\n骘騭\n骝騮\n腾騰\n驺騶\n骚騷\n骟騸\n骡騾\n蓦驀\n骜驁\n骖驂\n骠驃\n骢驄\n驱驅\n骅驊\n骕驌\n骁驍\n骣驏\n骄驕\n验驗\n惊<驚\n驿驛\n骤驟\n驴驢\n骧驤\n骥驥\n骦驦\n骊驪\n骉驫\n肮<骯\n髅髏\n体<體\n髌髕\n髋髖\n松<鬆\n鬓鬢\n斗<鬥\n闹鬧\n阋鬩\n阄鬮\n郁<鬱\n鬶鬹\n魉魎\n魇魘\n鱼魚\n鱽魛\n鱾魢\n鲀魨\n鲁魯\n鲂魴\n鱿魷\n鲄魺\n鲅鮁\n鲆鮃\n鲌鮊\n鲉鮋\n鲏鮍\n鲇鮎\n鲐鮐\n鲍鮑\n鲋鮒\n鲊鮓\n鲒鮚\n鲘鮜\n鲕鮞\n䲟鮣\n鲖鮦\n鲔鮪\n鲛鮫\n鲑鮭\n鲜鮮\n鲓鮳\n鲪鮶\n鲝鮺\n鲧鯀\n鲠鯁\n鲩鯇\n鲤鯉\n鲨鯊\n鲬鯒\n鲻鯔\n鲯鯕\n鲭鯖\n鲞鯗\n鲷鯛\n鲴鯝\n鲱鯡\n鲵鯢\n鲲鯤\n鲳鯧\n鲸鯨\n鲮鯪\n鲰鯫\n鲶鯰\n鲺鯴\n鳀鯷\n鲫鯽\n鳊鯿\n鳈鰁\n鲗鰂\n鳂鰃\n䲠鰆\n鲽鰈\n鳇鰉\n䲡鰌\n鳅鰍\n鲾鰏\n鳄鱷鰐\n鳆鰒\n鳃鰓\n鳒鰜\n鳑鰟\n鳋鰠\n鲥鰣\n鳏鰥\n䲢鰧\n鳎鰨\n鳐鰩\n鳍鰭\n鳁鰮\n鲢鰱\n鳌鰲\n鳓鰳\n鳘鰵\n鲦鰷\n鲣鰹\n鲹鰺\n鳗鰻\n鳛鰼\n鳔鰾\n鳉鱂\n鳙鱅\n鳕鱈\n鳖鱉\n鳟鱒\n鳝鱔\n鳜鱖\n鳞鱗\n鲟鱘\n鲼鱝\n鲎鱟\n鲙鱠\n鳣鱣\n鳡鱤\n鳢鱧\n鲿鱨\n鲚鱭\n鳠鱯\n鲈鱸\n鲡鱺\n鸟鳥\n凫鳧\n鸠鳩\n鸤鳲\n凤鳳\n鸣鳴\n鸢鳶\n䴓鳾\n鸩鴆\n鸨鴇\n鸦鴉\n鸰鴒\n鸵鴕\n鸳鴛\n鸲鴝\n鸮鴞\n鸱鴟\n鸪鴣\n鸯鴦\n鸭鴨\n鸸鴯\n鸹鴰\n鸻鴴\n䴕鴷\n鸿鴻\n鸽鴿\n䴔鵁\n鸺鵂\n鸼鵃\n鹀鵐\n鹃鵑\n鹆鵒\n鹁鵓\n鹈鵜\n鹅鵝\n鹄鵠\n鹉鵡\n鹌鵪\n鹏鵬\n鹐鵮\n鹎鵯\n鹊鵲\n鹓鵷\n鹍鵾\n䴖鶄\n鸫鶇\n鹑鶉\n鹒鶊\n鹋鶓\n鹙鶖\n鹕鶘\n鹗鶚\n鹖鶡\n鹛鶥\n鹜鶩\n䴗鶪\n鸧鶬\n莺鶯\n鹟鶲\n鹤鶴\n鹠鶹\n鹡鶺\n鹘鶻\n鹣鶼\n鹚鷀\n鹢鷁\n鹞鷂\n䴘鷉鷈\n鹝鷊\n鹧鷓\n鹥鷖\n鸥鷗\n鸷鷙\n鹨鷚\n鸶鷥\n鹪鷦\n鹔鷫\n鹩鷯\n鹫鷲\n鹇鷳\n鹬鷸\n鹰鷹\n鹭鷺\n鸴鷽\n䴙鸊鷿\n㶉鸂\n鹯鸇\n鹱鸌\n鹲鸏\n鸬鸕\n鹴鸘\n鹦鸚\n鹳鸛\n鹂鸝\n鸾鸞\n卤鹵\n咸<鹹\n鹾鹺\n盐鹽\n丽麗\n麦麥\n麸麩\n曲<麯\n麹>麴\n面<麵\n黄黃\n黉黌\n点點\n党<黨\n黪黲\n黡黶\n黩黷\n黾黽\n鼋黿\n鼍鼉\n鼹鼴\n齐齊\n斋齋\n赍齎\n齑齏\n齿齒\n龀齔\n龁齕\n龂齗\n龅齙\n龇齜\n龃齟\n龆齠\n龄齡\n出<齣\n龈齦\n龊齪\n龉齬\n龋齲\n腭齶\n龌齷\n龙龍\n厐龎\n庞龐\n䶮龑\n龚龔\n龛龕\n龟龜\n䜤鿁\n䲤鿐\n鿓鿒".split(/\r?\n/);Co.push("“「"),Co.push("‘『"),Co.push("”」"),Co.push("’』");const Oo={"获":"獲穫","缰":"繮韁","赝":"贋贗","伪":"僞偽","汇":"匯彙","坛":"壇罈","台":"臺颱檯","冲":"沖衝","硷":"礆鹼","绱":"緔鞝","脏":"臟髒","谫":"謭譾","钩":"鈎鉤","鿭":"鉨鑈","锈":"銹鏽","闲":"閑閒","须":"須鬚","鳄":"鰐鱷"},_o={},Io={};Co.forEach(((n,t)=>{const e=n.match(/(.)(<?)(.+)/u);if(!e)throw"wrong data format "+t;let[s,i,l,r]=e,o=r;if(Oo[i]&&(r=Oo[i]),""==l)if(1==r.length)_o[r]=i;else if(">"==r[0])Io[r.substring(1)]=i;else{_o[r[0]]=i,r=r.substring(1);for(let n=0;n<r.length;n++){const t=r.codePointAt(n);if(!t)break;Io[String.fromCodePoint(t)]=i}}else if(1==r.length)Io[r]=i;else for(;r&&">"!==r[0];){const n=String.fromCodePoint(r.codePointAt(0));Io[n]=i,r=r.substring(n.length)}r=o.replace(/\>/g,""),"<"==l&&r.replace(i,"")}));const Po=(n,t)=>{const e=void 0===t?u(Pl):t;return parseInt(e)?((n,t=1)=>{if(!n)return n;let e="",s=0;if(!t)return n;for(;s<n.length;){const i=n.codePointAt(s),l=String.fromCodePoint(i);if(!l)break;let r=_o[l];2!=t||r||(r=Io[l]),e+=r||l,s++,i>65535&&s++}return e})(n,e):n};function No(n,t,e){const s=n.slice();return s[17]=t[e][0],s[18]=t[e][1],s[20]=e,s}function To(t){let e,s=Po("在要查詢的名詞長按一秒")+"";return{c(){e=T(s)},m(n,t){_(n,e,t)},p:n,d(n){n&&I(e)}}}function So(n){let t,e,s,i=qn(n[0]),l=[];for(let t=0;t<i.length;t+=1)l[t]=Ro(No(n,i,t));let r=n[5]&&Ho(n);return{c(){t=N("span");for(let n=0;n<l.length;n+=1)l[n].c();e=S(),r&&r.c(),s=E(),L(t,"class","header svelte-q5fwfc")},m(n,i){_(n,t,i);for(let n=0;n<l.length;n+=1)l[n]&&l[n].m(t,null);_(n,e,i),r&&r.m(n,i),_(n,s,i)},p(n,e){if(8159&e){let s;for(i=qn(n[0]),s=0;s<i.length;s+=1){const r=No(n,i,s);l[s]?l[s].p(r,e):(l[s]=Ro(r),l[s].c(),l[s].m(t,null))}for(;s<l.length;s+=1)l[s].d(1);l.length=i.length}n[5]?r?r.p(n,e):(r=Ho(n),r.c(),r.m(s.parentNode,s)):r&&(r.d(1),r=null)},d(n){n&&(I(t),I(e),I(s)),P(l,n),r&&r.d(n)}}}function Eo(n){let t,e,s,i,l,r,o,c,a,d=(n[3]||n[4])&&zo(n),u=n[2]&&jo(n);return{c(){d&&d.c(),t=S(),u&&u.c(),e=S(),s=N("a"),i=T("谷哥"),r=S(),o=N("a"),c=T("百度"),L(s,"target","_new"),L(s,"href",l=n[9](n[18])),L(o,"target","_new"),L(o,"href",a=n[10](n[18]))},m(n,l){d&&d.m(n,l),_(n,t,l),u&&u.m(n,l),_(n,e,l),_(n,s,l),q(s,i),_(n,r,l),_(n,o,l),q(o,c)},p(n,i){n[3]||n[4]?d?d.p(n,i):(d=zo(n),d.c(),d.m(t.parentNode,t)):d&&(d.d(1),d=null),n[2]?u?u.p(n,i):(u=jo(n),u.c(),u.m(e.parentNode,e)):u&&(u.d(1),u=null),1&i&&l!==(l=n[9](n[18]))&&L(s,"href",l),1&i&&a!==(a=n[10](n[18]))&&L(o,"href",a)},d(n){n&&(I(t),I(e),I(s),I(r),I(o)),d&&d.d(n),u&&u.d(n)}}}function zo(n){let t;function e(n,t){return"oneline"==n[6]?Mo:Lo}let s=e(n),i=s(n);return{c(){i.c(),t=E()},m(n,e){i.m(n,e),_(n,t,e)},p(n,l){s===(s=e(n))&&i?i.p(n,l):(i.d(1),i=s(n),i&&(i.c(),i.m(t.parentNode,t)))},d(n){n&&I(t),i.d(n)}}}function Lo(t){let e,s,i;return{c(){e=N("button"),e.textContent="一行"},m(n,l){_(n,e,l),s||(i=z(e,"click",t[12]),s=!0)},p:n,d(n){n&&I(e),s=!1,i()}}}function Mo(n){let t,e,s;return{c(){t=N("a"),e=T("一行"),L(t,"target","_new"),L(t,"href",s=n[8](n[18]))},m(n,s){_(n,t,s),q(t,e)},p(n,e){1&e&&s!==(s=n[8](n[18]))&&L(t,"href",s)},d(n){n&&I(t)}}}function jo(n){let t;function e(n,t){return"wikipedia"==n[6]?Bo:Fo}let s=e(n),i=s(n);return{c(){i.c(),t=E()},m(n,e){i.m(n,e),_(n,t,e)},p(n,l){s===(s=e(n))&&i?i.p(n,l):(i.d(1),i=s(n),i&&(i.c(),i.m(t.parentNode,t)))},d(n){n&&I(t),i.d(n)}}}function Fo(t){let e,s,i;return{c(){e=N("button"),e.textContent="維基"},m(n,l){_(n,e,l),s||(i=z(e,"click",t[11]),s=!0)},p:n,d(n){n&&I(e),s=!1,i()}}}function Bo(n){let t,e,s;return{c(){t=N("a"),e=T("維基"),L(t,"target","_new"),L(t,"href",s=n[7](n[18]))},m(n,s){_(n,t,s),q(t,e)},p(n,e){1&e&&s!==(s=n[7](n[18]))&&L(t,"href",s)},d(n){n&&I(t)}}}function Ro(n){let t,e,s,i,l,r,o,c,a,d=n[18]+"",u=n[20]==n[1]&&Eo(n);return o=M(n[14][0]),{c(){t=N("span"),e=N("label"),s=N("input"),i=T(d),l=S(),u&&u.c(),r=S(),L(s,"type","radio"),L(s,"name","dict"),s.__value=n[20],F(s,s.__value),U(t,"dictgroup",n[20]==n[1]),o.p(s)},m(o,d){_(o,t,d),q(t,e),q(e,s),s.checked=s.__value===n[1],q(e,i),q(t,l),u&&u.m(t,null),q(t,r),c||(a=z(s,"change",n[13]),c=!0)},p(n,e){3&e&&(s.checked=s.__value===n[1]),1&e&&d!==(d=n[18]+"")&&j(i,d),n[20]==n[1]?u?u.p(n,e):(u=Eo(n),u.c(),u.m(t,r)):u&&(u.d(1),u=null),2&e&&U(t,"dictgroup",n[20]==n[1])},d(n){n&&I(t),u&&u.d(),o.r(),c=!1,a()}}}function Ho(n){let t,e;return{c(){t=N("iframe"),B(t,"border","none"),L(t,"class","iframe svelte-q5fwfc"),L(t,"title","wiki"),a(t.src,e=n[5])||L(t,"src",e)},m(n,e){_(n,t,e)},p(n,s){32&s&&!a(t.src,e=n[5])&&L(t,"src",e)},d(n){n&&I(t)}}}function Uo(t){let e;function s(n,t){return n[0].length?So:To}let i=s(t),l=i(t);return{c(){e=N("div"),l.c(),L(e,"class","dictpopup bodytext svelte-q5fwfc")},m(n,t){_(n,e,t),l.m(e,null)},p(n,[t]){i===(i=s(n))&&l?l.p(n,t):(l.d(1),l=i(n),l&&(l.c(),l.m(e,null)))},i:n,o:n,d(n){n&&I(e),l.d()}}}function Wo(n,t,e){let s;f(n,il,(n=>e(15,s=n)));let i,l,r,{entries:o=[]}=t,c=0,a="",d="";const u=n=>"https://zh.wikipedia.org/w/index.php?action=render&title="+encodeURIComponent(n),h=n=>"https://buddhaspace.org/dict/index.php?keyword="+encodeURIComponent(n),p=()=>{o[c]||e(1,c=0);const n=o[c][1];e(6,d="wikipedia"),e(5,a=u(n))},g=()=>{o[c]||e(1,c=0);const n=o[c][1];e(6,d="oneline"),e(5,a=h(n))};return n.$$set=n=>{"entries"in n&&e(0,o=n.entries)},n.$$.update=()=>{3&n.$$.dirty&&(n=>{if(n>=o.length&&(n=0),!o[n])return;const t=o[n][2],c=Js(s).columns.entries.dict[t];e(2,i=1&c),e(3,l=2&c),e(4,r=4&c),l||r?g():i&&p()})(c)},[o,c,i,l,r,a,d,u,h,n=>"https://www.google.com/search?q="+encodeURIComponent(n),n=>"https://www.baidu.com/s?wd="+encodeURIComponent(n),p,g,function(){c=this.__value,e(1,c)},[[]]]}class Do extends zn{constructor(n){super(),En(this,n,Wo,Uo,o,{entries:0})}}function Ko(n,t,e){const s=n.slice();return s[7]=t[e][0],s[8]=t[e][1],s}function Jo(n){let t,e,s;function i(){return n[4](n[7])}return{c(){t=N("span"),t.textContent=`${fr[n[8]]}`,L(t,"aria-hidden","true")},m(n,l){_(n,t,l),e||(s=z(t,"click",i),e=!0)},p(t,e){n=t},d(n){n&&I(t),e=!1,s()}}}function Yo(t){let e,s=qn(t[0]),i=[];for(let n=0;n<s.length;n+=1)i[n]=Jo(Ko(t,s,n));return{c(){for(let n=0;n<i.length;n+=1)i[n].c();e=E()},m(n,t){for(let e=0;e<i.length;e+=1)i[e]&&i[e].m(n,t);_(n,e,t)},p(n,[t]){if(3&t){let l;for(s=qn(n[0]),l=0;l<s.length;l+=1){const r=Ko(n,s,l);i[l]?i[l].p(r,t):(i[l]=Jo(r),i[l].c(),i[l].m(e.parentNode,e))}for(;l<i.length;l+=1)i[l].d(1);i.length=s.length}},i:n,o:n,d(n){n&&I(e),P(i,n)}}}function Qo(n,t,e){let s;f(n,pl,(n=>e(5,s=n)));let{folioid:i}=t,{closePopup:l}=t,r=[];const o=s[i];for(let n in o)o[n]&&r.push([parseInt(n),o[n]]);const c=n=>{br(i,(()=>{al.set(n)})),l()};return n.$$set=n=>{"folioid"in n&&e(2,i=n.folioid),"closePopup"in n&&e(3,l=n.closePopup)},[r,c,i,l,n=>c(n)]}class Vo extends zn{constructor(n){super(),En(this,n,Qo,Yo,o,{folioid:2,closePopup:3})}}const Xo={FAWANG:{title:"法王講堂",www:"http://fawang.com.tw/main1_0.htm"},FAYUN:{title:"法雲寺",www:"https://dcm.org.tw/"},YAP:{title:"作者",www:"https://nissaya.cn/"},XIU:{title:"魏秀秀",www:"https://shutonggui.cn/"},HAIYIN:{title:"金門海印寺",www:"https://kinmen.travel/zh-tw/travel/attraction/401"}},Go=n=>(Xo[u(Il)]||{})[n]||"";function Zo(n){let t,e,s=Po("公眾版本")+"";return{c(){t=T(s),e=T("※※")},m(n,s){_(n,t,s),_(n,e,s)},d(n){n&&(I(t),I(e))}}}function nc(t){let e,s,i,l,r,o=Go("title",t[0])+"",c=!t[0]&&Zo();return{c(){e=N("div"),s=T("※"),i=N("a"),l=T(o),r=T("※\n"),c&&c.c(),L(i,"target","_new"),L(i,"href",Go("www")),L(e,"class","endmarker")},m(n,t){_(n,e,t),q(e,s),q(e,i),q(i,l),q(e,r),c&&c.m(e,null)},p(n,[t]){1&t&&o!==(o=Go("title",n[0])+"")&&j(l,o),n[0]?c&&(c.d(1),c=null):c||(c=Zo(),c.c(),c.m(e,null))},i:n,o:n,d(n){n&&I(e),c&&c.d()}}}function tc(n,t,e){let s;return f(n,Il,(n=>e(0,s=n))),[s]}class ec extends zn{constructor(n){super(),En(this,n,tc,nc,o,{})}}function sc(n,t,e){const s=n.slice();return s[32]=t[e][0],s[33]=t[e][1],s[34]=t[e][2],s}function ic(n,t,e){const s=n.slice();return s[37]=t[e],s}function lc(t){let e,s,i,l,r,o,c,a="ylz-vny"==t[1]&&oc();return{c(){e=N("div"),s=N("span"),i=T("安裝 "),l=T(t[2]),r=S(),a&&a.c(),L(s,"aria-hidden","true"),L(s,"class","clickable hyperlink"),L(e,"class","bodytext")},m(n,d){_(n,e,d),q(e,s),q(s,i),q(s,l),q(e,r),a&&a.m(e,null),o||(c=z(s,"click",t[25]),o=!0)},p(n,t){4&t[0]&&j(l,n[2]),"ylz-vny"==n[1]?a||(a=oc(),a.c(),a.m(e,null)):a&&(a.d(1),a=null)},i:n,o:n,d(n){n&&I(e),a&&a.d(),o=!1,c()}}}function rc(n){let t,e,s,i=n[4]&&cc(n),l=qn(n[3]),r=[];for(let t=0;t<l.length;t+=1)r[t]=gc(sc(n,l,t));const o=n=>xn(r[n],1,1,(()=>{r[n]=null}));return{c(){i&&i.c(),t=S();for(let n=0;n<r.length;n+=1)r[n].c();e=E()},m(n,l){i&&i.m(n,l),_(n,t,l);for(let t=0;t<r.length;t+=1)r[t]&&r[t].m(n,l);_(n,e,l),s=!0},p(n,s){if(n[4]?i?i.p(n,s):(i=cc(n),i.c(),i.m(t.parentNode,t)):i&&(i.d(1),i=null),129019&s[0]){let t;for(l=qn(n[3]),t=0;t<l.length;t+=1){const i=sc(n,l,t);r[t]?(r[t].p(i,s),yn(r[t],1)):(r[t]=gc(i),r[t].c(),yn(r[t],1),r[t].m(e.parentNode,e))}for(bn(),t=l.length;t<r.length;t+=1)o(t);wn()}},i(n){if(!s){for(let n=0;n<l.length;n+=1)yn(r[n]);s=!0}},o(n){r=r.filter(Boolean);for(let n=0;n<r.length;n+=1)xn(r[n]);s=!1},d(n){n&&(I(t),I(e)),i&&i.d(n),P(r,n)}}}function oc(n){let t,e,s=Po("包含聲聞戒律，在家居士閱讀應有充份理由。")+"";return{c(){t=N("br"),e=T(s)},m(n,s){_(n,t,s),_(n,e,s)},d(n){n&&(I(t),I(e))}}}function cc(n){let t,e,s,i,l;return{c(){t=T(n[4]),e=S(),s=N("span"),s.textContent="Cancel",L(s,"aria-hidden","true")},m(r,o){_(r,t,o),_(r,e,o),_(r,s,o),i||(l=z(s,"click",n[11]()),i=!0)},p(n,e){16&e[0]&&j(t,n[4])},d(n){n&&(I(t),I(e),I(s)),i=!1,l()}}}function ac(n){let t,e,s;return{c(){t=N("span"),t.textContent="Download All",L(t,"aria-hidden","true")},m(i,l){_(i,t,l),e||(s=z(t,"click",(function(){r(n[12](n[33]))&&n[12](n[33]).apply(this,arguments)})),e=!0)},p(t,e){n=t},d(n){n&&I(t),e=!1,s()}}}function uc(n){let t,e,s,i;t=new Vo({props:{folioid:n[33],closePopup:n[0]}});let l=qn(n[34]),r=[];for(let t=0;t<l.length;t+=1)r[t]=hc(ic(n,l,t));const o=n=>xn(r[n],1,1,(()=>{r[n]=null}));return{c(){Pn(t.$$.fragment),e=S();for(let n=0;n<r.length;n+=1)r[n].c();s=E()},m(n,l){Nn(t,n,l),_(n,e,l);for(let t=0;t<r.length;t+=1)r[t]&&r[t].m(n,l);_(n,s,l),i=!0},p(n,e){const i={};if(8&e[0]&&(i.folioid=n[33]),1&e[0]&&(i.closePopup=n[0]),t.$set(i),57801&e[0]){let t;for(l=qn(n[34]),t=0;t<l.length;t+=1){const i=ic(n,l,t);r[t]?(r[t].p(i,e),yn(r[t],1)):(r[t]=hc(i),r[t].c(),yn(r[t],1),r[t].m(s.parentNode,s))}for(bn(),t=l.length;t<r.length;t+=1)o(t);wn()}},i(n){if(!i){yn(t.$$.fragment,n);for(let n=0;n<l.length;n+=1)yn(r[n]);i=!0}},o(n){xn(t.$$.fragment,n),r=r.filter(Boolean);for(let n=0;n<r.length;n+=1)xn(r[n]);i=!1},d(n){n&&(I(e),I(s)),Tn(t,n),P(r,n)}}}function fc(n){let t,e,s,i,l,r,o,c=n[14](n[37])+"";function a(){return n[24](n[37])}return i=new Vo({props:{folioid:n[15](n[37]),closePopup:n[0]}}),{c(){t=N("span"),e=T(c),s=S(),Pn(i.$$.fragment),L(t,"aria-hidden","true"),L(t,"class","parallelfolio"),U(t,"dimmed",!n[7][n[15](n[37])]),U(t,"selecteditem",n[8]==n[15](n[37]))},m(n,c){_(n,t,c),q(t,e),_(n,s,c),Nn(i,n,c),l=!0,r||(o=z(t,"click",a),r=!0)},p(s,r){n=s,(!l||8&r[0])&&c!==(c=n[14](n[37])+"")&&j(e,c),(!l||32904&r[0])&&U(t,"dimmed",!n[7][n[15](n[37])]),(!l||33032&r[0])&&U(t,"selecteditem",n[8]==n[15](n[37]));const o={};8&r[0]&&(o.folioid=n[15](n[37])),1&r[0]&&(o.closePopup=n[0]),i.$set(o)},i(n){l||(yn(i.$$.fragment,n),l=!0)},o(n){xn(i.$$.fragment,n),l=!1},d(n){n&&(I(t),I(s)),Tn(i,n),r=!1,o()}}}function hc(n){let t,e,s=n[7][n[15](n[37])]||n[6],i=s&&fc(n);return{c(){i&&i.c(),t=E()},m(n,s){i&&i.m(n,s),_(n,t,s),e=!0},p(n,e){200&e[0]&&(s=n[7][n[15](n[37])]||n[6]),s?i?(i.p(n,e),200&e[0]&&yn(i,1)):(i=fc(n),i.c(),yn(i,1),i.m(t.parentNode,t)):i&&(bn(),xn(i,1,1,(()=>{i=null})),wn())},i(n){e||(yn(i),e=!0)},o(n){xn(i),e=!1},d(n){n&&I(t),i&&i.d(n)}}}function pc(n){let t,e,s,i,l,r,o,c,a=n[14](n[32])+"",d="YAP"==n[9]&&!n[4]&&n[16](n[8],n[33])&&mr(Js(n[1]),n[33]).length>1;function u(){return n[23](n[32])}let f=d&&ac(n),h="on"==n[10]&&uc(n);return{c(){t=N("span"),e=T(a),s=S(),f&&f.c(),i=S(),h&&h.c(),l=E(),L(t,"aria-hidden","true"),U(t,"dimmed",!n[7][n[33]]),U(t,"selecteditem",n[16](n[8],n[33]))},m(n,a){_(n,t,a),q(t,e),_(n,s,a),f&&f.m(n,a),_(n,i,a),h&&h.m(n,a),_(n,l,a),r=!0,o||(c=z(t,"click",u),o=!0)},p(s,o){n=s,(!r||8&o[0])&&a!==(a=n[14](n[32])+"")&&j(e,a),(!r||136&o[0])&&U(t,"dimmed",!n[7][n[33]]),(!r||65800&o[0])&&U(t,"selecteditem",n[16](n[8],n[33])),794&o[0]&&(d="YAP"==n[9]&&!n[4]&&n[16](n[8],n[33])&&mr(Js(n[1]),n[33]).length>1),d?f?f.p(n,o):(f=ac(n),f.c(),f.m(i.parentNode,i)):f&&(f.d(1),f=null),"on"==n[10]?h?(h.p(n,o),1024&o[0]&&yn(h,1)):(h=uc(n),h.c(),yn(h,1),h.m(l.parentNode,l)):h&&(bn(),xn(h,1,1,(()=>{h=null})),wn())},i(n){r||(yn(h),r=!0)},o(n){xn(h),r=!1},d(n){n&&(I(t),I(s),I(i),I(l)),f&&f.d(n),h&&h.d(n),o=!1,c()}}}function gc(t){let e,s,i,l=t[5],r=pc(t);return{c(){e=N("div"),r.c(),s=S(),L(e,"class","book")},m(n,t){_(n,e,t),r.m(e,null),q(e,s),i=!0},p(t,i){32&i[0]&&o(l,l=t[5])?(bn(),xn(r,1,1,n),wn(),r=pc(t),r.c(),yn(r,1),r.m(e,s)):r.p(t,i)},i(n){i||(yn(r),i=!0)},o(n){xn(r),i=!1},d(n){n&&I(e),r.d(n)}}}function mc(n){let t,e,s,i,r,o,c,a,d,u,f,h,p,g,m,v,$,k,b,w,y,x=Po("懺儀",n[5])+"",A=Po("聲聞",n[5])+"";const C=[rc,lc],O=[];function P(n,t){return n[3].length?0:1}return g=P(n),m=O[g]=C[g](n),k=new ec({}),{c(){t=N("div"),e=N("span"),e.textContent="唯名",s=S(),i=N("span"),i.textContent="唯心",r=S(),o=N("span"),c=T(x),a=S(),d=N("span"),u=T(A),f=S(),h=N("span"),h.textContent="戒律",p=S(),m.c(),v=S(),$=N("div"),Pn(k.$$.fragment),L(e,"aria-hidden","true"),L(e,"class","clickable"),U(e,"selected","ylz-prjn"==n[1]),L(i,"aria-hidden","true"),L(i,"class","clickable"),U(i,"selected","ylz-tg"==n[1]),L(o,"aria-hidden","true"),L(o,"class","clickable"),U(o,"selected","ylz-rite"==n[1]),L(d,"aria-hidden","true"),L(d,"class","clickable"),U(d,"selected","ylz-svk"==n[1]),L(h,"aria-hidden","true"),L(h,"class","clickable"),U(h,"selected","ylz-vny"==n[1]),L(t,"class","tabs"),L($,"class","bodytext")},m(l,m){_(l,t,m),q(t,e),q(t,s),q(t,i),q(t,r),q(t,o),q(o,c),q(t,a),q(t,d),q(d,u),q(t,f),q(t,h),_(l,p,m),O[g].m(l,m),_(l,v,m),_(l,$,m),Nn(k,$,null),b=!0,w||(y=[z(e,"click",n[18]),z(i,"click",n[19]),z(o,"click",n[20]),z(d,"click",n[21]),z(h,"click",n[22])],w=!0)},p(n,t){(!b||2&t[0])&&U(e,"selected","ylz-prjn"==n[1]),(!b||2&t[0])&&U(i,"selected","ylz-tg"==n[1]),(!b||32&t[0])&&x!==(x=Po("懺儀",n[5])+"")&&j(c,x),(!b||2&t[0])&&U(o,"selected","ylz-rite"==n[1]),(!b||32&t[0])&&A!==(A=Po("聲聞",n[5])+"")&&j(u,A),(!b||2&t[0])&&U(d,"selected","ylz-svk"==n[1]),(!b||2&t[0])&&U(h,"selected","ylz-vny"==n[1]);let s=g;g=P(n),g===s?O[g].p(n,t):(bn(),xn(O[s],1,1,(()=>{O[s]=null})),wn(),m=O[g],m?m.p(n,t):(m=O[g]=C[g](n),m.c()),yn(m,1),m.m(v.parentNode,v))},i(n){b||(yn(m),yn(k.$$.fragment,n),b=!0)},o(n){xn(m),xn(k.$$.fragment,n),b=!1},d(n){n&&(I(t),I(p),I(v),I($)),O[g].d(n),Tn(k),w=!1,l(y)}}}function vc(n,t,e){let s,i,l,r,o,c;f(n,Pl,(n=>e(5,s=n))),f(n,el,(n=>e(6,i=n))),f(n,ll,(n=>e(7,l=n))),f(n,dl,(n=>e(8,r=n))),f(n,Il,(n=>e(9,o=n))),f(n,kl,(n=>e(10,c=n)));let{closePopup:a=function(){}}=t,d="",u=[],h="";const p=async n=>{const t=await Gr(Qi,n+".ptk",(t=>{e(2,d=n+".ptk "+t)})),s=await t.arrayBuffer(),i=await Ks(n,new Uint8Array(s));return ji(i),i};let g=(()=>{const n=r;let t="ylz-prjn";const e=Ae();for(let s=0;s<e.length;s++){const i=e[s].defines.folio;i&&(~i.fields.id.values.indexOf(n)&&(t=e[s].name))}return t})();const m=async n=>{if(!~(await(async()=>{const n=await caches.open(Qi);return(await n.keys()).filter((n=>~n.url.indexOf(".ptk"))).map((n=>n.url.match(/([a-z\-_]+)\.ptk/)[1]))})()).indexOf(n))return void e(3,u=[]);const t=await p(n),s=t.defines.folio,i=[];for(let n=0;n<s.linepos.length;n++){const e=s.fields.id.values[n],l=e.match(/(\d+)$/),r=e.indexOf("_");~r&&e.slice(0,r),~r||l&&"1"!=l[1]||i.push([n,e,or(t,e)])}e(3,u=i)},v=n=>{const t=Js(g).defines.folio.fields.id.values[n];il.set(g),(l[t]||i)&&(nr(),br(t,(function(){Sl.set("toc"),al.set("1")})),a())};let $=!1;const k=async n=>{if($)return;$=!0,e(2,d="try to download "+n+".ptk");const t=await p(n);return $=!1,e(2,d=""),m(n),t};return n.$$set=n=>{"closePopup"in n&&e(0,a=n.closePopup)},n.$$.update=()=>{2&n.$$.dirty[0]&&m(g)},[a,g,d,u,h,s,i,l,r,o,c,()=>{},async function(n){const t=mr(Js(g),n);for(let n of t){const t=n+".zip";console.log("downloading",t),await Gr(Qi,"folio/"+t,(n=>{e(4,h=t+" "+n),console.log(n)}))}e(4,h="")},v,n=>{const t=Js(g).defines.folio;return Po(t._innertext.get(n),s)},n=>Js(g).defines.folio.fields.id.values[n],(n,t)=>n.replace(/\d+$/,"")==t.replace(/\d+$/,""),k,()=>e(1,g="ylz-prjn"),()=>e(1,g="ylz-tg"),()=>e(1,g="ylz-rite"),()=>e(1,g="ylz-svk"),()=>e(1,g="ylz-vny"),n=>v(n),n=>v(n),()=>k(g)]}class $c extends zn{constructor(n){super(),En(this,n,vc,mc,o,{closePopup:0},null,[-1,-1])}}function kc(n){const t=function(n){const t=function(n){const t=n.parentNode;return function(e){const{left:s,width:i}=t.getBoundingClientRect(),l="touches"in e?e.touches[0].clientX:e.clientX,r=Math.min(Math.max((l-s)/i,0),1)||0;n.dispatchEvent(new CustomEvent("drag",{detail:r}))}}(n);return function(e){e.preventDefault(),n.dispatchEvent(new CustomEvent("dragstart"));const s="touches"in e?"touchmove":"mousemove",i="touches"in e?"touchend":"mouseup";function l(e){e.stopPropagation(),document.removeEventListener(s,t),document.removeEventListener(i,l),n.dispatchEvent(new CustomEvent("dragend"))}document.addEventListener(s,t),document.addEventListener(i,l)}}(n);return n.addEventListener("touchstart",t),n.addEventListener("mousedown",t),{destroy(){n.removeEventListener("touchstart",t),n.removeEventListener("mousedown",t)}}}function bc(t){let e,s,i,o,c,a;const d=t[4].default,u=h(d,t,t[3],null);return{c(){e=N("div"),s=N("div"),u&&u.c(),L(s,"class","thumb-content svelte-8w8x88"),U(s,"active",t[1]),L(e,"class","thumb svelte-8w8x88"),L(e,"style",i=`left: ${100*t[0]}%;`)},m(i,l){var d;_(i,e,l),q(e,s),u&&u.m(s,null),o=!0,c||(a=[(d=kc.call(null,e),d&&r(d.destroy)?d.destroy:n),z(e,"dragstart",t[5]),z(e,"drag",t[6]),z(e,"dragend",t[7])],c=!0)},p(n,[t]){u&&u.p&&(!o||8&t)&&m(u,d,n,n[3],o?g(d,n[3],t,null):v(n[3]),null),(!o||2&t)&&U(s,"active",n[1]),(!o||1&t&&i!==(i=`left: ${100*n[0]}%;`))&&L(e,"style",i)},i(n){o||(yn(u,n),o=!0)},o(n){xn(u,n),o=!1},d(n){n&&I(e),u&&u.d(n),c=!1,l(a)}}}function wc(n,t,e){let{$$slots:s={},$$scope:i}=t;const l=tn();let r,{pos:o}=t;return n.$$set=n=>{"pos"in n&&e(0,o=n.pos),"$$scope"in n&&e(3,i=n.$$scope)},[o,r,l,i,s,()=>(e(1,r=!0),l("active",!0)),({detail:n})=>e(0,o=n),()=>(e(1,r=!1),l("active",!1))]}class yc extends zn{constructor(n){super(),En(this,n,wc,bc,o,{pos:0})}}const xc=n=>({}),Ac=n=>({}),qc=n=>({}),Cc=n=>({});function Oc(t){let e;const s=t[11].default,i=h(s,t,t[14],null),l=i||function(){let t;return{c(){t=N("div"),L(t,"class","thumb svelte-giohkn")},m(n,e){_(n,t,e)},p:n,d(n){n&&I(t)}}}();return{c(){l&&l.c()},m(n,t){l&&l.m(n,t),e=!0},p(n,t){i&&i.p&&(!e||16384&t)&&m(i,s,n,n[14],e?g(s,n[14],t,null):v(n[14]),null)},i(n){e||(yn(l,n),e=!0)},o(n){xn(l,n),e=!1},d(n){l&&l.d(n)}}}function _c(n){let t;const e=n[11].left,s=h(e,n,n[14],Cc),i=s||Oc(n);return{c(){i&&i.c()},m(n,e){i&&i.m(n,e),t=!0},p(n,l){s?s.p&&(!t||16384&l)&&m(s,e,n,n[14],t?g(e,n[14],l,qc):v(n[14]),Cc):i&&i.p&&(!t||16384&l)&&i.p(n,t?l:-1)},i(n){t||(yn(i,n),t=!0)},o(n){xn(i,n),t=!1},d(n){i&&i.d(n)}}}function Ic(n){let t,e,s,i,l,r,o,c,a,d,u,f,p,$;function k(t){n[12](t)}let b={$$slots:{default:[_c]},$$scope:{ctx:n}};void 0!==n[2][0]&&(b.pos=n[2][0]),a=new yc({props:b}),sn.push((()=>In(a,"pos",k))),a.$on("active",n[13]);const w=n[11].caption,y=h(w,n,n[14],Ac);return{c(){t=N("div"),e=N("input"),l=S(),r=N("div"),o=N("div"),c=S(),Pn(a.$$.fragment),u=S(),y&&y.c(),L(e,"type","number"),e.value=s=n[0][0],L(e,"name",i=n[1][0]),L(e,"class","svelte-giohkn"),L(o,"class","progress svelte-giohkn"),L(o,"style",n[4]),L(r,"aria-hidden","true"),L(r,"class","track svelte-giohkn")},m(s,i){_(s,t,i),q(t,e),q(t,l),q(t,r),q(r,o),q(r,c),Nn(a,r,null),q(r,u),y&&y.m(r,null),f=!0,p||($=z(r,"click",n[5]),p=!0)},p(n,[t]){(!f||1&t&&s!==(s=n[0][0])&&e.value!==s)&&(e.value=s),(!f||2&t&&i!==(i=n[1][0]))&&L(e,"name",i),(!f||16&t)&&L(o,"style",n[4]);const l={};16384&t&&(l.$$scope={dirty:t,ctx:n}),!d&&4&t&&(d=!0,l.pos=n[2][0],dn((()=>d=!1))),a.$set(l),y&&y.p&&(!f||16384&t)&&m(y,w,n,n[14],f?g(w,n[14],t,xc):v(n[14]),Ac)},i(n){f||(yn(a.$$.fragment,n),yn(y,n),f=!0)},o(n){xn(a.$$.fragment,n),xn(y,n),f=!1},d(n){n&&I(t),Tn(a),y&&y.d(n),p=!1,$()}}}function Pc(n,t,e){let s,{$$slots:i={},$$scope:l}=t;const r=tn();let{name:o=[]}=t,{range:c=!1}=t,{min:a=0}=t,{max:d=100}=t,{step:u=1}=t,{value:f=[a,d]}=t,h=[0,0],p=!1,{order:g=!1}=t;function m(n){console.log("setvalue",n),n&&2===n.length&&Array.isArray(n)||(n=[a,d]);const t=a%u,s=d-a;e(0,f=n.map((n=>a+n*s)).map((n=>Math.round((n-t)/u)*u+t))),r("input",f)}function v(n){n&&2===n.length&&Array.isArray(n)||(n=[a,d]),e(2,h=n.map((n=>Math.min(Math.max(n,a),d))).map((n=>(n-a)/(d-a))))}return n.$$set=n=>{"name"in n&&e(1,o=n.name),"range"in n&&e(6,c=n.range),"min"in n&&e(7,a=n.min),"max"in n&&e(8,d=n.max),"step"in n&&e(9,u=n.step),"value"in n&&e(0,f=n.value),"order"in n&&e(10,g=n.order),"$$scope"in n&&e(14,l=n.$$scope)},n.$$.update=()=>{1100&n.$$.dirty&&c&&g&&p&&e(2,h=function(n){return[Math.min(...n),Math.max(...n)]}(h)),12&n.$$.dirty&&p&&m(h),9&n.$$.dirty&&(p||v(f)),68&n.$$.dirty&&e(4,s=`\n    left: ${c?100*Math.min(h[0],h[1]):0}%;\n    right: ${100-100*Math.max(h[0],c?h[1]:h[0])||100}%;\n  `)},[f,o,h,p,s,function(n){"progress"==n.target.classList[0]?(v([(f[0]||a)-u,f[1]]),m(h)):"track"==n.target.classList[0]&&(v([(f[0]||a)+u,f[1]]),m(h))},c,a,d,u,g,i,function(t){n.$$.not_equal(h[0],t)&&(h[0]=t,e(2,h),e(6,c),e(10,g),e(3,p))},({detail:n})=>e(3,p=n),l]}class Nc extends zn{constructor(n){super(),En(this,n,Pc,Ic,o,{name:1,range:6,min:7,max:8,step:9,value:0,order:10})}}function Tc(n,t,e){const s=n.slice();return s[9]=t[e],s}function Sc(n){let t,e,s,i,l,r=qn(n[3]),o=[];for(let t=0;t<r.length;t+=1)o[t]=Lc(Tc(n,r,t));return{c(){t=N("span"),e=N("span"),s=N("span"),i=T(n[1]),l=S();for(let n=0;n<o.length;n+=1)o[n].c();L(s,"class","legend"),L(s,"id",`label-${n[5]}`),L(e,"role","radiogroup"),L(e,"class","group-container svelte-jwpg1d"),L(e,"aria-labelledby",`label-${n[5]}`),L(e,"id",`group-${n[5]}`),L(t,"class","s s--multi svelte-jwpg1d")},m(n,r){_(n,t,r),q(t,e),q(e,s),q(s,i),q(e,l);for(let n=0;n<o.length;n+=1)o[n]&&o[n].m(e,null)},p(n,t){if(2&t&&j(i,n[1]),41&t){let s;for(r=qn(n[3]),s=0;s<r.length;s+=1){const i=Tc(n,r,s);o[s]?o[s].p(i,t):(o[s]=Lc(i),o[s].c(),o[s].m(e,null))}for(;s<o.length;s+=1)o[s].d(1);o.length=r.length}},d(n){n&&I(t),P(o,n)}}}function Ec(n){let t,e,s,i,l,r,o;return{c(){t=N("span"),e=N("span"),s=T(n[1]),i=S(),l=N("button"),L(e,"id",`switch-${n[5]}`),L(l,"role","switch"),L(l,"aria-checked",n[4]),L(l,"aria-labelledby",`switch-${n[5]}`),L(l,"class","svelte-jwpg1d"),L(t,"class","s s--slider svelte-jwpg1d")},m(c,a){_(c,t,a),q(t,e),q(e,s),q(t,i),q(t,l),r||(o=z(l,"click",n[6]),r=!0)},p(n,t){2&t&&j(s,n[1]),16&t&&L(l,"aria-checked",n[4])},d(n){n&&I(t),r=!1,o()}}}function zc(n){let t,e,s,i,l,r,o,c,a,d;return{c(){t=N("div"),e=N("span"),s=T(n[1]),i=S(),l=N("button"),r=N("span"),r.textContent="on",o=S(),c=N("span"),c.textContent="off",L(e,"id",`switch-${n[5]}`),L(e,"class","svelte-jwpg1d"),L(r,"class","svelte-jwpg1d"),L(c,"class","svelte-jwpg1d"),L(l,"role","switch"),L(l,"aria-checked",n[4]),L(l,"aria-labelledby",`switch-${n[5]}`),L(l,"class","svelte-jwpg1d"),L(t,"class","s s--inner svelte-jwpg1d")},m(u,f){_(u,t,f),q(t,e),q(e,s),q(t,i),q(t,l),q(l,r),q(l,o),q(l,c),a||(d=z(l,"click",n[6]),a=!0)},p(n,t){2&t&&j(s,n[1]),16&t&&L(l,"aria-checked",n[4])},d(n){n&&I(t),a=!1,d()}}}function Lc(n){let t,e,s,i,l,r,o,c,a,d,u,f=!1,h=n[9]+"";return a=M(n[8][0]),{c(){t=N("input"),i=S(),l=N("label"),r=T(h),o=S(),L(t,"type","radio"),L(t,"id",e=`${n[9]}-${n[5]}`),t.__value=s=n[9],F(t,t.__value),L(t,"class","svelte-jwpg1d"),L(l,"for",c=`${n[9]}-${n[5]}`),L(l,"class","svelte-jwpg1d"),a.p(t)},m(e,s){_(e,t,s),t.checked=t.__value===n[0],_(e,i,s),_(e,l,s),q(l,r),q(l,o),d||(u=z(t,"change",n[7]),d=!0)},p(n,i){8&i&&e!==(e=`${n[9]}-${n[5]}`)&&L(t,"id",e),8&i&&s!==(s=n[9])&&(t.__value=s,F(t,t.__value),f=!0),(f||9&i)&&(t.checked=t.__value===n[0]),8&i&&h!==(h=n[9]+"")&&j(r,h),8&i&&c!==(c=`${n[9]}-${n[5]}`)&&L(l,"for",c)},d(n){n&&(I(t),I(i),I(l)),a.r(),d=!1,u()}}}function Mc(t){let e;function s(n,t){return"inner"==n[2]?zc:"slider"==n[2]?Ec:Sc}let i=s(t),l=i(t);return{c(){l.c(),e=E()},m(n,t){l.m(n,t),_(n,e,t)},p(n,[t]){i===(i=s(n))&&l?l.p(n,t):(l.d(1),l=i(n),l&&(l.c(),l.m(e.parentNode,e)))},i:n,o:n,d(n){n&&I(e),l.d(n)}}}function jc(n,t,e){let{label:s}=t,{design:i="inner label"}=t,{options:l=[]}=t,{value:r="on"}=t,o="on"==r;const c=Math.floor(100*Math.random());return n.$$set=n=>{"label"in n&&e(1,s=n.label),"design"in n&&e(2,i=n.design),"options"in n&&e(3,l=n.options),"value"in n&&e(0,r=n.value)},[r,s,i,l,o,c,function(n){const t=n.target.getAttribute("aria-checked");e(4,o="true"!==t),e(0,r=!0===o?"on":"off")},function(){r=this.__value,e(0,r)},[[]]]}class Fc extends zn{constructor(n){super(),En(this,n,jc,Mc,o,{label:1,design:2,options:3,value:0})}}function Bc(n,t,e){const s=n.slice();return s[37]=t[e],s[39]=e,s}function Rc(n){let t,e,s,i,l,r,o,c,a,d,u,f=Po(n[37].performer)+" ",h=Po("下載")+"";function p(){return n[21](n[37])}let g=n[5]==n[37].aid&&Uc(n),m=n[0]==n[37].vid&&n[0]&&Wc(n);return{c(){t=N("span"),e=T(f),s=N("span"),i=new D(!1),l=T(h),r=S(),g&&g.c(),o=S(),m&&m.c(),c=S(),a=N("br"),L(t,"class","uncache"),i.a=l,L(s,"aria-hidden","true"),L(s,"class","clickable")},m(n,f){_(n,t,f),q(t,e),_(n,s,f),i.m('<svg width="32px" height="32px" viewBox="0 0 24 24" fill="none"><path d="M12 16L12 8" stroke="#323232" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="M9 13L11.913 15.913V15.913C11.961 15.961 12.039 15.961 12.087 15.913V15.913L15 13" stroke="#323232" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="M3 15L3 16L3 19C3 20.1046 3.89543 21 5 21L19 21C20.1046 21 21 20.1046 21 19L21 16L21 15" stroke="#323232" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>',s),q(s,l),_(n,r,f),g&&g.m(n,f),_(n,o,f),m&&m.m(n,f),_(n,c,f),_(n,a,f),d||(u=z(s,"click",p),d=!0)},p(t,s){n=t,512&s[0]&&f!==(f=Po(n[37].performer)+" ")&&j(e,f),n[5]==n[37].aid?g?g.p(n,s):(g=Uc(n),g.c(),g.m(o.parentNode,o)):g&&(g.d(1),g=null),n[0]==n[37].vid&&n[0]?m?m.p(n,s):(m=Wc(n),m.c(),m.m(c.parentNode,c)):m&&(m.d(1),m=null)},d(n){n&&(I(t),I(s),I(r),I(o),I(c),I(a)),g&&g.d(n),m&&m.d(n),d=!1,u()}}}function Hc(n){let t,e,s,i,l,r,o,c=Po(n[37].performer)+"",a=n[39]&&n[37].aid==n[0]?"♫":"";function d(){return n[20](n[37])}return{c(){t=N("span"),e=T(c),s=T(a),i=S(),l=N("br"),L(t,"aria-hidden","true"),L(t,"class","clickable"),U(t,"selected",n[37].aid==n[0])},m(n,c){_(n,t,c),q(t,e),q(t,s),_(n,i,c),_(n,l,c),r||(o=z(t,"click",d),r=!0)},p(i,l){n=i,512&l[0]&&c!==(c=Po(n[37].performer)+"")&&j(e,c),513&l[0]&&a!==(a=n[39]&&n[37].aid==n[0]?"♫":"")&&j(s,a),513&l[0]&&U(t,"selected",n[37].aid==n[0])},d(n){n&&(I(t),I(i),I(l)),r=!1,o()}}}function Uc(n){let t;return{c(){t=T(n[6])},m(n,e){_(n,t,e)},p(n,e){64&e[0]&&j(t,n[6])},d(n){n&&I(t)}}}function Wc(n){let t,e=n[11](n[12](n[0]))+"";return{c(){t=T(e)},m(n,e){_(n,t,e)},p(n,s){1&s[0]&&e!==(e=n[11](n[12](n[0]))+"")&&j(t,e)},d(n){n&&I(t)}}}function Dc(n){let t;function e(n,t){return n[37].incache||!n[37].aid?Hc:n[10]?Rc:void 0}let s=e(n),i=s&&s(n);return{c(){i&&i.c(),t=E()},m(n,e){i&&i.m(n,e),_(n,t,e)},p(n,l){s===(s=e(n))&&i?i.p(n,l):(i&&i.d(1),i=s&&s(n),i&&(i.c(),i.m(t.parentNode,t)))},d(n){n&&I(t),i&&i.d(n)}}}function Kc(n){let t,e,s=n[1][0]/100+Po(" 播放速度")+"";return{c(){t=N("span"),e=T(s),L(t,"slot","caption"),B(t,"float","right")},m(n,s){_(n,t,s),q(t,e)},p(n,t){2&t[0]&&s!==(s=n[1][0]/100+Po(" 播放速度")+"")&&j(e,s)},d(n){n&&I(t)}}}function Jc(t){let e,s,i;return{c(){e=N("span"),e.textContent=`${Po("恢復正常速度")}`,L(e,"aria-hidden","true"),L(e,"class","clickable")},m(n,l){_(n,e,l),s||(i=z(e,"click",t[18]),s=!0)},p:n,d(n){n&&I(e),s=!1,i()}}}function Yc(n){let t,e=n[16](n[2][0]*n[12](n[0]))+"";return{c(){t=T(e)},m(n,e){_(n,t,e)},p(n,s){5&s[0]&&e!==(e=n[16](n[2][0]*n[12](n[0]))+"")&&j(t,e)},d(n){n&&I(t)}}}function Qc(n){let t,e,s;function i(t){n[24](t)}let l={label:Po("自動播放下一卷"),design:"slider"};return void 0!==n[8]&&(l.value=n[8]),t=new Fc({props:l}),sn.push((()=>In(t,"value",i))),{c(){Pn(t.$$.fragment)},m(n,e){Nn(t,n,e),s=!0},p(n,s){const i={};!e&&256&s[0]&&(e=!0,i.value=n[8],dn((()=>e=!1))),t.$set(i)},i(n){s||(yn(t.$$.fragment,n),s=!0)},o(n){xn(t.$$.fragment,n),s=!1},d(n){Tn(t,n)}}}function Vc(n){let t,e,s,i,l,r,o,c,a,d,u,f,h,p,g,m,v,$,k,b,w,y,x,A,C,O,E,z=Po("重播次數")+"",M=(n[2][0]>0?n[2][0]:Po("無限"))+"",F=n[7]&&wr(n[7]).length>1,B=Po(n[13](n[4]))+"",R=Po(n[13](n[3]))+"",H=qn(n[9]),U=[];for(let t=0;t<H.length;t+=1)U[t]=Dc(Bc(n,H,t));function W(t){n[22](t)}let D={max:300,min:30,$$slots:{caption:[Kc]},$$scope:{ctx:n}};void 0!==n[1]&&(D.value=n[1]),l=new Nc({props:D}),sn.push((()=>In(l,"value",W))),l.$on("input",Mt(n[17],300));let K=100!==n[1][0]&&Jc(n),J=n[2][0]>0&&Yc(n);function Y(t){n[23](t)}let Q={min:"0",max:"10"};void 0!==n[2]&&(Q.value=n[2]),m=new Nc({props:Q}),sn.push((()=>In(m,"value",Y))),m.$on("input",n[15]);let V=F&&Qc(n);return O=new ec({}),{c(){t=N("div");for(let n=0;n<U.length;n+=1)U[n].c();e=S(),s=N("br"),i=S(),Pn(l.$$.fragment),o=S(),c=N("br"),a=S(),K&&K.c(),d=S(),u=T(z),f=T("："),h=T(M),p=S(),J&&J.c(),g=S(),Pn(m.$$.fragment),$=S(),V&&V.c(),k=S(),b=N("hr"),w=S(),y=N("div"),x=S(),A=N("div"),C=S(),Pn(O.$$.fragment),L(y,"class","subtitle"),L(A,"class","subtitle"),L(t,"class","bodytext")},m(n,r){_(n,t,r);for(let n=0;n<U.length;n+=1)U[n]&&U[n].m(t,null);q(t,e),q(t,s),q(t,i),Nn(l,t,null),q(t,o),q(t,c),q(t,a),K&&K.m(t,null),q(t,d),q(t,u),q(t,f),q(t,h),q(t,p),J&&J.m(t,null),q(t,g),Nn(m,t,null),q(t,$),V&&V.m(t,null),q(t,k),q(t,b),q(t,w),q(t,y),y.innerHTML=B,q(t,x),q(t,A),A.innerHTML=R,q(t,C),Nn(O,t,null),E=!0},p(n,s){if(24161&s[0]){let i;for(H=qn(n[9]),i=0;i<H.length;i+=1){const l=Bc(n,H,i);U[i]?U[i].p(l,s):(U[i]=Dc(l),U[i].c(),U[i].m(t,e))}for(;i<U.length;i+=1)U[i].d(1);U.length=H.length}const i={};2&s[0]|512&s[1]&&(i.$$scope={dirty:s,ctx:n}),!r&&2&s[0]&&(r=!0,i.value=n[1],dn((()=>r=!1))),l.$set(i),100!==n[1][0]?K?K.p(n,s):(K=Jc(n),K.c(),K.m(t,d)):K&&(K.d(1),K=null),(!E||4&s[0])&&M!==(M=(n[2][0]>0?n[2][0]:Po("無限"))+"")&&j(h,M),n[2][0]>0?J?J.p(n,s):(J=Yc(n),J.c(),J.m(t,g)):J&&(J.d(1),J=null);const o={};!v&&4&s[0]&&(v=!0,o.value=n[2],dn((()=>v=!1))),m.$set(o),128&s[0]&&(F=n[7]&&wr(n[7]).length>1),F?V?(V.p(n,s),128&s[0]&&yn(V,1)):(V=Qc(n),V.c(),yn(V,1),V.m(t,k)):V&&(bn(),xn(V,1,1,(()=>{V=null})),wn()),(!E||16&s[0])&&B!==(B=Po(n[13](n[4]))+"")&&(y.innerHTML=B),(!E||8&s[0])&&R!==(R=Po(n[13](n[3]))+"")&&(A.innerHTML=R)},i(n){E||(yn(l.$$.fragment,n),yn(m.$$.fragment,n),yn(V),yn(O.$$.fragment,n),E=!0)},o(n){xn(l.$$.fragment,n),xn(m.$$.fragment,n),xn(V),xn(O.$$.fragment,n),E=!1},d(n){n&&I(t),P(U,n),Tn(l),K&&K.d(),J&&J.d(),Tn(m),V&&V.d(),Tn(O)}}}function Xc(n,t,e){let s,i,l,r,o,c,a,d,h,p;f(n,Wl,(n=>e(8,i=n))),f(n,jl,(n=>e(0,l=n))),f(n,$l,(n=>e(31,r=n))),f(n,dl,(n=>e(32,o=n))),f(n,Kl,(n=>e(33,c=n))),f(n,Tl,(n=>e(34,a=n))),f(n,il,(n=>e(19,d=n))),f(n,zl,(n=>e(9,h=n))),f(n,el,(n=>e(10,p=n)));let g,m=[a||100,0],v=[c,0],$=[],k=[],b="",w="",y=0;nn((()=>{clearInterval(g)}));let x=[];Z((()=>{g=setInterval((()=>{if(!l)return;const n=El.currentTime;for(;n>=x[y]&&y<x.length;)e(3,b=$[y]||b||""),e(4,w=k[y]||w||""),y++;y>=x.length&&(y=0)}),500)}));let A="",q="";const C=async n=>{var t;e(5,A=n),await Gr(Qi,Zi+n+".mp3",(n=>{e(6,q=n)})),await(t=1e3,new Promise((n=>{setTimeout((()=>n()),t)})));const s=await tl(o,zl,"on"==r);zl.set(s),e(5,A=""),e(6,q="")};return n.$$.update=()=>{524288&n.$$.dirty[0]&&e(7,s=Js(d)),1&n.$$.dirty[0]&&(async n=>{var t;if(e(4,w=e(3,b="")),k=[],$=[],!n)return;if(x=(null===(t=Zl(n,"timestamp_sanskrit"))||void 0===t?void 0:t.timestamp)||[],!(null==x?void 0:x.length))return;const i=Js("dc_sanskrit");k=await i.fetchAddress("bk#"+o),$=await s.fetchAddress("bk#"+o),y=0})(l)},[l,m,v,b,w,A,q,s,i,h,p,n=>{if(!n)return"";const t=Math.floor(n/60);return`${t}:${n-60*t}`},n=>{var t;const e=null===(t=Zl(n))||void 0===t?void 0:t.timestamp;return e?e[e.length-1]-e[0]:0},n=>ct(n)[0].replace(/[【《〔](.+?)[】》〕]/g,"<span class=bracket>$1 </span>"),C,()=>{const n=v[0];n&&u(Kl)==v[0]||0==n&&-1==u(Kl)||(0==n?Kl.set(-1):Kl.set(n))},n=>!n||"on"==i&&wr(s).length>1?"":new Date(Date.now()+1e3*n).toLocaleTimeString()+"停止",n=>{const t=n.detail[0];El.playbackRate=t/100,Tl.set(t)},()=>{e(1,m=[100,0]),El.playbackRate=1,Tl.set(100)},d,n=>!A&&cr(n.aid,!0),n=>!A&&C(n.aid),function(n){m=n,e(1,m)},function(n){v=n,e(2,v)},function(n){i=n,Wl.set(i)}]}class Gc extends zn{constructor(n){super(),En(this,n,Xc,Vc,o,{},null,[-1,-1])}}function Zc(t){let e;return{c(){e=N("table"),e.innerHTML='<tr class="svelte-qmgp5w"><td class="svelte-qmgp5w"><strong>經名</strong></td> <td class="svelte-qmgp5w"><strong>卷</strong></td> <td class="svelte-qmgp5w"><strong>譯者</strong></td> <td class="svelte-qmgp5w"><strong>費用</strong></td></tr> <tr class="svelte-qmgp5w"><td class="svelte-qmgp5w">大般若經</td> <td class="svelte-qmgp5w">600</td> <td class="svelte-qmgp5w">玄奘</td> <td class="svelte-qmgp5w">300,000</td></tr> <tr class="svelte-qmgp5w"><td class="svelte-qmgp5w">放光般若經</td> <td class="svelte-qmgp5w">30</td> <td class="svelte-qmgp5w">無羅叉</td> <td class="svelte-qmgp5w">15,000</td></tr> <tr class="svelte-qmgp5w"><td class="svelte-qmgp5w">大寶積經</td> <td class="svelte-qmgp5w">120</td> <td class="svelte-qmgp5w">菩提流志</td> <td class="svelte-qmgp5w">60,000</td></tr> <tr class="svelte-qmgp5w"><td class="svelte-qmgp5w">八十華嚴</td> <td class="svelte-qmgp5w">80</td> <td class="svelte-qmgp5w">實叉難陀</td> <td class="svelte-qmgp5w">40,000</td></tr> <tr class="svelte-qmgp5w"><td class="svelte-qmgp5w">六十華嚴</td> <td class="svelte-qmgp5w">60</td> <td class="svelte-qmgp5w">佛陀跋陀羅</td> <td class="svelte-qmgp5w">30,000</td></tr> <tr class="svelte-qmgp5w"><td class="svelte-qmgp5w">四十華嚴</td> <td class="svelte-qmgp5w">40</td> <td class="svelte-qmgp5w">般若</td> <td class="svelte-qmgp5w">20,000</td></tr> <tr class="svelte-qmgp5w"><td class="svelte-qmgp5w">大般涅槃經</td> <td class="svelte-qmgp5w">40</td> <td class="svelte-qmgp5w">曇無讖</td> <td class="svelte-qmgp5w">20,000</td></tr> <tr class="svelte-qmgp5w"><td class="svelte-qmgp5w">南本大般涅槃經</td> <td class="svelte-qmgp5w">36</td> <td class="svelte-qmgp5w">曇無讖</td> <td class="svelte-qmgp5w">18,000</td></tr> <tr class="svelte-qmgp5w"><td class="svelte-qmgp5w">大般涅槃經</td> <td class="svelte-qmgp5w">3</td> <td class="svelte-qmgp5w">法顯</td> <td class="svelte-qmgp5w">1,500</td></tr> <tr class="svelte-qmgp5w"><td class="svelte-qmgp5w">大集經</td> <td class="svelte-qmgp5w">30</td> <td class="svelte-qmgp5w">曇無讖</td> <td class="svelte-qmgp5w">15,000</td></tr> <tr class="svelte-qmgp5w"><td class="svelte-qmgp5w">添品妙法蓮華經</td> <td class="svelte-qmgp5w">8</td> <td class="svelte-qmgp5w">闍那崛多</td> <td class="svelte-qmgp5w">4,000</td></tr> <tr class="svelte-qmgp5w"><td class="svelte-qmgp5w">正法華經</td> <td class="svelte-qmgp5w">10</td> <td class="svelte-qmgp5w">法護</td> <td class="svelte-qmgp5w">5,000</td></tr> <tr class="svelte-qmgp5w"><td class="svelte-qmgp5w">悲華經</td> <td class="svelte-qmgp5w">10</td> <td class="svelte-qmgp5w">曇無讖</td> <td class="svelte-qmgp5w">5,000</td></tr> <tr class="svelte-qmgp5w"><td class="svelte-qmgp5w">無量義經</td> <td class="svelte-qmgp5w">5</td> <td class="svelte-qmgp5w">曇摩迦陀耶舍</td> <td class="svelte-qmgp5w">2,500</td></tr> <tr class="svelte-qmgp5w"><td class="svelte-qmgp5w">地藏十輪經</td> <td class="svelte-qmgp5w">10</td> <td class="svelte-qmgp5w">玄奘</td> <td class="svelte-qmgp5w">5,000</td></tr> <tr class="svelte-qmgp5w"><td class="svelte-qmgp5w">六度集經</td> <td class="svelte-qmgp5w">8</td> <td class="svelte-qmgp5w">康僧會</td> <td class="svelte-qmgp5w">4,000</td></tr> <tr class="svelte-qmgp5w"><td class="svelte-qmgp5w">楞嚴經</td> <td class="svelte-qmgp5w">10</td> <td class="svelte-qmgp5w">般若密諦</td> <td class="svelte-qmgp5w">5,000</td></tr> <tr class="svelte-qmgp5w"><td class="svelte-qmgp5w">首楞嚴三昧經</td> <td class="svelte-qmgp5w">3</td> <td class="svelte-qmgp5w">鳩摩羅什</td> <td class="svelte-qmgp5w">1,500</td></tr> <tr class="svelte-qmgp5w"><td class="svelte-qmgp5w">金光明最勝王經</td> <td class="svelte-qmgp5w">10</td> <td class="svelte-qmgp5w">義淨</td> <td class="svelte-qmgp5w">5,000</td></tr> <tr class="svelte-qmgp5w"><td class="svelte-qmgp5w">金光明經</td> <td class="svelte-qmgp5w">4</td> <td class="svelte-qmgp5w">曇無讖</td> <td class="svelte-qmgp5w">2,000</td></tr> <tr class="svelte-qmgp5w"><td class="svelte-qmgp5w">合部金光明經</td> <td class="svelte-qmgp5w">8</td> <td class="svelte-qmgp5w">寶貴、志德</td> <td class="svelte-qmgp5w">4,000</td></tr> <tr class="svelte-qmgp5w"><td class="svelte-qmgp5w">仁王護國般若波羅蜜經</td> <td class="svelte-qmgp5w">2</td> <td class="svelte-qmgp5w">鳩摩羅什</td> <td class="svelte-qmgp5w">1,000</td></tr> <tr class="svelte-qmgp5w"><td class="svelte-qmgp5w">仁王護國般若波羅蜜多經</td> <td class="svelte-qmgp5w">2</td> <td class="svelte-qmgp5w">不空</td> <td class="svelte-qmgp5w">1,000</td></tr> <tr class="svelte-qmgp5w"><td class="svelte-qmgp5w">入楞伽經</td> <td class="svelte-qmgp5w">10</td> <td class="svelte-qmgp5w">菩提流支</td> <td class="svelte-qmgp5w">5,000</td></tr> <tr class="svelte-qmgp5w"><td class="svelte-qmgp5w">入楞伽經</td> <td class="svelte-qmgp5w">7</td> <td class="svelte-qmgp5w">實叉難陀</td> <td class="svelte-qmgp5w">3,500</td></tr> <tr class="svelte-qmgp5w"><td class="svelte-qmgp5w">楞伽阿跋多羅寶經</td> <td class="svelte-qmgp5w">4</td> <td class="svelte-qmgp5w">求那跋陀羅</td> <td class="svelte-qmgp5w">2,000</td></tr> <tr class="svelte-qmgp5w"><td class="svelte-qmgp5w">優婆塞戒經</td> <td class="svelte-qmgp5w">10</td> <td class="svelte-qmgp5w">曇無讖</td> <td class="svelte-qmgp5w">5,000</td></tr> <tr class="svelte-qmgp5w"><td class="svelte-qmgp5w">解深密經</td> <td class="svelte-qmgp5w">10</td> <td class="svelte-qmgp5w">玄奘</td> <td class="svelte-qmgp5w">5,000</td></tr> <tr class="svelte-qmgp5w"><td class="svelte-qmgp5w">維摩詰所說經</td> <td class="svelte-qmgp5w">3</td> <td class="svelte-qmgp5w">鳩摩羅什</td> <td class="svelte-qmgp5w">1,500</td></tr> <tr class="svelte-qmgp5w"><td class="svelte-qmgp5w">維摩詰經</td> <td class="svelte-qmgp5w">3</td> <td class="svelte-qmgp5w">支謙</td> <td class="svelte-qmgp5w">1,500</td></tr> <tr class="svelte-qmgp5w"><td class="svelte-qmgp5w">說無垢稱經</td> <td class="svelte-qmgp5w">6</td> <td class="svelte-qmgp5w">玄奘</td> <td class="svelte-qmgp5w">3,000</td></tr> <tr class="svelte-qmgp5w"><td class="svelte-qmgp5w">央掘魔羅經</td> <td class="svelte-qmgp5w">4</td> <td class="svelte-qmgp5w">求那跋陀羅</td> <td class="svelte-qmgp5w">2,000</td></tr> <tr class="svelte-qmgp5w"><td class="svelte-qmgp5w">安般守意經</td> <td class="svelte-qmgp5w">3</td> <td class="svelte-qmgp5w">安世高</td> <td class="svelte-qmgp5w">1,500</td></tr> <tr class="svelte-qmgp5w"><td class="svelte-qmgp5w">造像功德經</td> <td class="svelte-qmgp5w">2</td> <td class="svelte-qmgp5w">提雲般若</td> <td class="svelte-qmgp5w">1,000</td></tr> <tr class="svelte-qmgp5w"><td class="svelte-qmgp5w">圓覺經</td> <td class="svelte-qmgp5w">1</td> <td class="svelte-qmgp5w">佛陀多羅</td> <td class="svelte-qmgp5w">500</td></tr> <tr class="svelte-qmgp5w"><td class="svelte-qmgp5w">六祖壇經</td> <td class="svelte-qmgp5w">1</td> <td class="svelte-qmgp5w">法海</td> <td class="svelte-qmgp5w">500</td></tr> <tr class="svelte-qmgp5w"><td class="svelte-qmgp5w">四十二章經</td> <td class="svelte-qmgp5w">1</td> <td class="svelte-qmgp5w">迦葉摩騰</td> <td class="svelte-qmgp5w">500</td></tr> <tr class="svelte-qmgp5w"><td class="svelte-qmgp5w">十善業道經</td> <td class="svelte-qmgp5w">1</td> <td class="svelte-qmgp5w">實叉難陀</td> <td class="svelte-qmgp5w">500</td></tr> <tr class="svelte-qmgp5w"><td class="svelte-qmgp5w">稻稈經</td> <td class="svelte-qmgp5w">1</td> <td class="svelte-qmgp5w">竺法護</td> <td class="svelte-qmgp5w">500</td></tr> <tr class="svelte-qmgp5w"><td class="svelte-qmgp5w">百福莊嚴相經</td> <td class="svelte-qmgp5w">1</td> <td class="svelte-qmgp5w">地婆訶羅</td> <td class="svelte-qmgp5w">500</td></tr> <tr class="svelte-qmgp5w"><td class="svelte-qmgp5w">百福相經</td> <td class="svelte-qmgp5w">1</td> <td class="svelte-qmgp5w">地婆訶羅</td> <td class="svelte-qmgp5w">500</td></tr> <tr class="svelte-qmgp5w"><td class="svelte-qmgp5w">佛說浴像功德經</td> <td class="svelte-qmgp5w">1</td> <td class="svelte-qmgp5w">義淨</td> <td class="svelte-qmgp5w">500</td></tr> <tr class="svelte-qmgp5w"><td class="svelte-qmgp5w">浴像功德經</td> <td class="svelte-qmgp5w">1</td> <td class="svelte-qmgp5w">寶思惟</td> <td class="svelte-qmgp5w">500</td></tr> <tr class="svelte-qmgp5w"><td class="svelte-qmgp5w">父母恩重難報經</td> <td class="svelte-qmgp5w">1</td> <td class="svelte-qmgp5w">沮渠京聲</td> <td class="svelte-qmgp5w">500</td></tr> <tr class="svelte-qmgp5w"><td class="svelte-qmgp5w">觀藥王藥上二菩薩經</td> <td class="svelte-qmgp5w">1</td> <td class="svelte-qmgp5w">畺良耶舍</td> <td class="svelte-qmgp5w">500</td></tr>',L(e,"class","svelte-qmgp5w")},m(n,t){_(n,e,t)},p:n,i:n,o:n,d(n){n&&I(e)}}}class na extends zn{constructor(n){super(),En(this,n,null,Zc,o,{})}}function ta(t){let e,s,i,l,r,o,c,a,d,u,f,h,p,g,m,v,$,k,b,w,y,x,A,C,O,P,T,E,z,M,j,F,B,R,H,U,W,D,K,J,Y,Q,V,X,G,Z,nn,tn,en,sn,ln,rn,on,cn,an,dn,un,fn,hn,pn,gn,mn,vn,$n,kn,bn,wn,An;return wn=new ec({}),{c(){e=N("div"),s=N("div"),s.textContent=`${Po("捐獻記錄。祈願諸護持者以此功德，獲得無量的利益。")}`,i=S(),l=N("div"),l.textContent="2023年",r=S(),o=N("table"),c=N("tr"),c.innerHTML="<td>陳碧吟</td><td>1.12</td><td>美元 1,000</td>",a=S(),d=N("tr"),u=N("td"),u.textContent="甯耀南",f=N("td"),f.textContent="5.21",h=N("td"),h.textContent=`${Po("台幣")}  10,000`,p=S(),g=N("tr"),m=N("td"),m.textContent=`${Po("葉雅柏")}`,v=N("td"),v.textContent="8.19",$=N("td"),$.textContent=`${Po("泰銖")}40,000`,k=S(),b=N("tr"),w=N("td"),w.textContent="李玉媚 ",y=N("td"),y.textContent="8.19 ",x=N("td"),x.textContent=`${Po("馬幣")} 5,000`,A=S(),C=N("tr"),O=N("td"),O.textContent="林嘉雯",P=N("td"),P.textContent="8.27 ",T=N("td"),T.textContent=`${Po("台幣")} 1,000`,E=S(),z=N("tr"),M=N("td"),M.textContent="法王講堂",j=N("td"),j.textContent="9.9 ",F=N("td"),F.textContent=`${Po("台幣")} 50,000`,B=S(),R=N("tr"),H=N("td"),H.textContent="施郁芳",U=N("td"),U.textContent="9.13",W=N("td"),W.textContent=`${Po("台幣")} 5,000`,D=S(),K=N("tr"),J=N("td"),J.textContent="香港天台精舍",Y=N("td"),Y.textContent="12.30",Q=N("td"),Q.textContent=`${Po("人民幣")} 5,000`,V=S(),X=N("br"),G=N("div"),G.textContent="2024年",Z=S(),nn=N("table"),tn=N("tr"),en=N("td"),en.textContent="金門福慧寺",sn=N("td"),sn.textContent="3.15",ln=N("td"),ln.textContent=`${Po("台幣")} 6,000`,rn=S(),on=N("br"),cn=N("div"),cn.textContent="2025年",an=S(),dn=N("table"),un=N("tr"),fn=N("td"),fn.textContent=`${Po("紅坊老黃")} `,hn=N("td"),hn.textContent="3.5",pn=N("td"),pn.textContent=`${Po("人民幣")} 2,000`,gn=S(),mn=N("br"),vn=N("div"),vn.textContent="2026年",$n=S(),kn=N("table"),kn.innerHTML="<tr><td>等著你</td><td></td><td></td></tr>",bn=S(),Pn(wn.$$.fragment),L(m,"class","deceased")},m(n,t){_(n,e,t),q(e,s),q(e,i),q(e,l),q(e,r),q(e,o),q(o,c),q(o,a),q(o,d),q(d,u),q(d,f),q(d,h),q(o,p),q(o,g),q(g,m),q(g,v),q(g,$),q(o,k),q(o,b),q(b,w),q(b,y),q(b,x),q(o,A),q(o,C),q(C,O),q(C,P),q(C,T),q(o,E),q(o,z),q(z,M),q(z,j),q(z,F),q(o,B),q(o,R),q(R,H),q(R,U),q(R,W),q(o,D),q(o,K),q(K,J),q(K,Y),q(K,Q),q(e,V),q(e,X),q(e,G),q(e,Z),q(e,nn),q(nn,tn),q(tn,en),q(tn,sn),q(tn,ln),q(e,rn),q(e,on),q(e,cn),q(e,an),q(e,dn),q(dn,un),q(un,fn),q(un,hn),q(un,pn),q(e,gn),q(e,mn),q(e,vn),q(e,$n),q(e,kn),q(e,bn),Nn(wn,e,null),An=!0},p:n,i(n){An||(yn(wn.$$.fragment,n),An=!0)},o(n){xn(wn.$$.fragment,n),An=!1},d(n){n&&I(e),Tn(wn)}}}class ea extends zn{constructor(n){super(),En(this,n,null,ta,o,{})}}function sa(t){let e,s,i,l,r,o,c,a,d,u,f,h,p,g,m,v,$,k,b,w,y,x=Po("在豎排經文畫面，點擊：")+"",A=Po("左上方：選經，右上方：目次")+"",q=Po("左下方：下頁，右下方：上頁")+"",C=Po("中間上方：設置")+"",O=Po("中間下方：選擇音頻")+"",P=Po("長按文字查字典")+"";return{c(){e=T(x),s=S(),i=N("br"),l=S(),r=T(A),o=S(),c=N("br"),a=S(),d=T(q),u=S(),f=N("br"),h=S(),p=T(C),g=S(),m=N("br"),v=S(),$=T(O),k=S(),b=N("br"),w=S(),y=T(P)},m(n,t){_(n,e,t),_(n,s,t),_(n,i,t),_(n,l,t),_(n,r,t),_(n,o,t),_(n,c,t),_(n,a,t),_(n,d,t),_(n,u,t),_(n,f,t),_(n,h,t),_(n,p,t),_(n,g,t),_(n,m,t),_(n,v,t),_(n,$,t),_(n,k,t),_(n,b,t),_(n,w,t),_(n,y,t)},p:n,i:n,o:n,d(n){n&&(I(e),I(s),I(i),I(l),I(r),I(o),I(c),I(a),I(d),I(u),I(f),I(h),I(p),I(g),I(m),I(v),I($),I(k),I(b),I(w),I(y))}}}class ia extends zn{constructor(n){super(),En(this,n,null,sa,o,{})}}function la(t){let e,s,i,l,r,o,c,a,d,u,f,h,p,g,m=Po("圖版裁切：釋通泉　張淑楨")+"",v=Po("分句標記：䆁常明　謝宇恆")+"",$=Po("時間戳記：林煴如　永航（韓語）")+"",k=Po("系統測試：")+"";return{c(){e=T(m),s=S(),i=N("hr"),l=S(),r=T(v),o=S(),c=N("hr"),a=S(),d=T($),u=S(),f=N("hr"),h=S(),p=T(k),g=T("桜井悟志(サトシ．サクライ)")},m(n,t){_(n,e,t),_(n,s,t),_(n,i,t),_(n,l,t),_(n,r,t),_(n,o,t),_(n,c,t),_(n,a,t),_(n,d,t),_(n,u,t),_(n,f,t),_(n,h,t),_(n,p,t),_(n,g,t)},p:n,i:n,o:n,d(n){n&&(I(e),I(s),I(i),I(l),I(r),I(o),I(c),I(a),I(d),I(u),I(f),I(h),I(p),I(g))}}}class ra extends zn{constructor(n){super(),En(this,n,null,la,o,{})}}function oa(t){let e,s,i,l,r,o,c,d,u,f,h,p,g,m,v,$,k,b,w,y,x,A,q,C,O,P,E,z,M,j,F,B,R,H,U;return{c(){e=N("h2"),e.textContent="YongLeBeiZang Mending Project",s=S(),i=N("br"),l=T("的永樂北藏總共6675卷：\r\n"),r=N("br"),o=T("山東圖書館藏公布圖檔4999，缺1676卷，\r\n"),c=N("br"),d=T("缺少的卷很多是常見經典，\r\n"),u=N("br"),f=T("如阿彌陀經、法華經缺第三卷，\r\n"),h=N("br"),p=T("六十華嚴缺22卷，八十華嚴缺12卷，四十華嚴缺17卷。\r\n"),g=N("br"),m=T("目前手機版完成16部經，283卷。缺32卷，暫時以南藏補。\r\n"),v=N("br"),$=T("在現存的4999卷中，有些卷字跡不清，或缺少若干頁。如\r\n"),k=N("br"),b=T("無量壽經73~75折。以龍藏補。\r\n"),w=N("br"),y=T("中阿含13 卷 82~88折 。以龍藏補。\r\n"),x=N("br"),A=T("雜阿含32卷 67,68折 （北藏、南藏皆無）\r\n"),q=N("br"),C=S(),O=N("br"),P=T("無量壽經 支讖譯本卷二  101 頁\r\n"),E=N("br"),z=N("img"),j=S(),F=N("br"),B=T("四分律第33卷最後一折\r\n"),R=N("br"),H=N("img"),a(z.src,M="mending1.png")||L(z,"src","mending1.png"),L(z,"alt","無量壽經"),a(H.src,U="mending2.png")||L(H,"src","mending2.png"),L(H,"alt","四分律")},m(n,t){_(n,e,t),_(n,s,t),_(n,i,t),_(n,l,t),_(n,r,t),_(n,o,t),_(n,c,t),_(n,d,t),_(n,u,t),_(n,f,t),_(n,h,t),_(n,p,t),_(n,g,t),_(n,m,t),_(n,v,t),_(n,$,t),_(n,k,t),_(n,b,t),_(n,w,t),_(n,y,t),_(n,x,t),_(n,A,t),_(n,q,t),_(n,C,t),_(n,O,t),_(n,P,t),_(n,E,t),_(n,z,t),_(n,j,t),_(n,F,t),_(n,B,t),_(n,R,t),_(n,H,t)},p:n,i:n,o:n,d(n){n&&(I(e),I(s),I(i),I(l),I(r),I(o),I(c),I(d),I(u),I(f),I(h),I(p),I(g),I(m),I(v),I($),I(k),I(b),I(w),I(y),I(x),I(A),I(q),I(C),I(O),I(P),I(E),I(z),I(j),I(F),I(B),I(R),I(H))}}}class ca extends zn{constructor(n){super(),En(this,n,null,oa,o,{})}}function aa(t){let e,s,i,l,r,o,c,a,d,u,f,h,p,g,m,v,$,k,b,w,y,x,A,q,C,O,P,S,E,M,j,F,B,R,H,U,W,D,K,J,Y,Q,V,X,G,Z,nn,tn,en,sn,ln,rn,on,cn,an,dn,un,fn,hn,pn,gn,mn,vn,$n,kn,bn,wn,yn,xn,An,qn,Cn;return{c(){e=N("button"),e.textContent="補版計劃",s=T("\n佛法是中華文明的三大組成部份(儒釋道)中唯一的非原生文明，佛經的翻譯和編修是大規模的文化交流工程，其在文明史的地位，不亞於阿拉伯的百年翻譯運動。\n"),i=N("br"),l=T("因此，以佛法為依托的文化符號，能夠將中華文明以較小的阻力，散播至儒家文化圈以外。\n"),r=N("br"),o=T("漢傳佛教徒素有勇於嘗試新科技的傳統，公元868年（唐咸通九年），在雕版印刷術萌芽之初，印行了金剛經（敦煌唐刻本），比歐洲早五百年。\n"),c=N("br"),a=T("日本於一百年前編修的大正藏，是近代較為齊全、廣為流通的版本。由於大正藏，以及收錄大量中國祖師著作的，卍續藏之成就，日本人可以自豪地宣稱，漢傳佛教的研究重心，已由中土轉移到東瀛。\n\n"),d=N("br"),u=T("生為炎黃子孫、身為三寶弟子，感謝日本為保存漢文佛經投入的努力，但以佛法流傳的角度而言，這是歷史的異常及脫軌(Abberation)，理由是：\n"),f=N("br"),h=T("一）大正藏係由學者主導，而自二千五百年前，佛陀入滅不久後的王舍城七葉窟結集以來，古今中外歷代翻譯編修佛經皆由僧團主持。\n"),p=N("br"),g=N("a"),g.textContent="大蔵出版株式会社",m=T("以編製校勘產生的法律保障，不許他人販售該版佛經，這違反佛經自古以來自由公開的天然屬性。\n"),v=N("br"),$=T("而CBETA的大正藏授權來自於日本，換言之，任何在其上的加工與加值，都受相關著作權法的"),k=N("a"),k.textContent="制約",b=T("。\n"),w=N("br"),y=T("二）佛經不能只是學者的研究材料，也不該是燙金精印、絲綢包裹但卻束之高閣的文物，必須是任何人都容易親近的結緣品。\n"),x=N("br"),A=T("我們無法容忍一家日本書商限制佛經流通方式，我們必須捍衛佛經「三根普被」的自由。\n"),q=N("br"),C=N("br"),O=T("如今我們擁有幾項前人難以想像的技術條件，正是打破這個尷尬局面的大好機會。\n"),P=N("br"),S=T("一）大正藏考察了多個佛經版本，將經文的差異製成校勘，節省了學者蒐集資料的時間，這是大正藏的核心價值。因為在紙本時代，不可能人人坐擁所有版本的佛經，校勘在某個意義上起到，同時參照多個版本的作用。\n"),E=N("br"),M=T("但校勘畢竟是二手資料，保真度遠不如原始文物，如今所有經文掃圖檔（公有財產）得以納入行動載具，只要建立了圖檔之間的對照關係，從任何一段經文可輕易地調閱所有版本的原始圖檔，校勘之重要性大減。\n"),j=N("br"),F=T("二）古代佛經主要是印度文明和中華文明（以及兩者幅射區域）的結晶，但受限於彼此高昂的交流成本（當年取經本身就是九死一生的冒險），其編製體例不可能有事先商議好的規範，這就造成各種版本和語系的佛經很難彼此參照驗證，也讓魚目混珠的現象難以杜絕與防犯。\n"),B=N("br"),R=T("三）將所有版本和譯本的佛經整合，統一參照系統的工作，我們稱之為「經同軌」，不止是經文目錄層級的對照（目錄提供某標題的各種版本和譯本的收錄情況及所在位置），而是更進一步做到每個句子的精準對應。\n"),H=N("br"),U=T("舉例來說，給定任何一句經文，電腦將有能力告知對應的原文以及各種譯文，反之亦然。即所謂的「平行語料庫」，這也是自然語言處理（如機器翻譯）的基礎材料。\n"),W=N("br"),D=T("四）「經同軌」，即佛經句子層級的對應，提供了比辭典更有效的學習材料，也可以化解辭典無法處理的語境(context)和多義(ambiguity) 關係。\n"),K=N("br"),J=T("閱讀古文難點不在查字典本身，而是查到之後，義項(senses)太多，挑選困難，一個句子只要有幾個生字，每個生字又有幾個可能的解釋，產生歧義的現象將呈指數上升。\n"),Y=N("br"),Q=T("五）近年來電腦越來越快，即使是手機也能以不到一秒以查找整部大藏經。於是瓶頸是使用者輸入文字的速度，以前是人等電腦，如今則是反過來。\n"),V=N("br"),X=T("因此，軟件的重點應該盡量掌握讀者所在的語境，做一些背景工作。舉例而言，讀者卡停在某個頁面，背景程式就開始搜羅彙整該頁的相關訊息，\n"),G=N("br"),Z=T("即：這一頁有哪些艱澀名詞？哪些法師講過這段經文？哪些其他經文可以幫助閱讀理解這頁經文？\n"),nn=N("br"),tn=T("六）古代藏經雕刻耗費的人力物力極為驚人，從譯經、編輯團隊，到媒材的準備，抄寫刻字工，印刷及發行流通，是非常龐大的生產鏈。\n"),en=N("br"),sn=N("br"),ln=T("成功的藏經，至少有兩個必要條件，一是政權的同意，二是足夠的經費。皇帝未必真心信佛，和尚也未必服膺統治，但佛經想要存活，卷首少不了歌功頌德。\n"),rn=N("br"),on=T("贊助刻經的，婦女是主力，後宮妃女的捐獻記錄，在藏經中保留很多。\n"),cn=N("br"),an=T("台灣第一部大正藏，是孫張清揚（孫立人將軍夫人）變賣首飾，從日本運來的。\n"),dn=N("br"),un=T("如今我們做手機版，也應該比照古人的辦法，將緇素二眾的護持事蹟編入藏經，我們這一代也作出了無愧先人、讓後人感念的貢獻。\n"),fn=N("br"),hn=N("br"),pn=T("因此，我們決心以已成為人類公共財產的中土大藏經為基礎材料，從頭做起，初步計劃是：\n"),gn=N("br"),mn=T("一）以山東圖書館公布之十七萬拍「高清永樂北藏彩圖」為基礎，裁切成適合手機閱讀的50萬折（每拍三折）。每折5行，每行17字，共85個字。\n"),vn=N("br"),$n=T("二）以CBETA校對過的大正藏文字檔為工作底本，按永樂北藏的版式逐句重排，這樣就完全擺脫大正藏的製版權。加工成品採用最寬鬆的授權方式(CC0)，還佛經以最大的自由。\n"),kn=N("br"),bn=T("三）使用者點擊的圖檔任何一處、立即由軟體換算為對應的文字，可搜尋、查字典、連結原文、誦讀、顯示相關的開示錄影等。\n"),wn=N("br"),yn=T("四）取得諸山長老的祝福，我們的目標是只要會按手機，都可以悠遊法海。\n"),xn=N("br"),An=T("五）由於沒有版權的限制，可以將此成果與置入商品平板電腦，贈與經濟欠發達地區的僧人，以做為國際文化交流的拌手禮。"),L(g,"href","https://www.daizoshuppan.jp/"),L(g,"target","_new"),L(k,"href","https://www.cbeta.org/copyright.php"),L(k,"target","_new")},m(n,I){_(n,e,I),_(n,s,I),_(n,i,I),_(n,l,I),_(n,r,I),_(n,o,I),_(n,c,I),_(n,a,I),_(n,d,I),_(n,u,I),_(n,f,I),_(n,h,I),_(n,p,I),_(n,g,I),_(n,m,I),_(n,v,I),_(n,$,I),_(n,k,I),_(n,b,I),_(n,w,I),_(n,y,I),_(n,x,I),_(n,A,I),_(n,q,I),_(n,C,I),_(n,O,I),_(n,P,I),_(n,S,I),_(n,E,I),_(n,M,I),_(n,j,I),_(n,F,I),_(n,B,I),_(n,R,I),_(n,H,I),_(n,U,I),_(n,W,I),_(n,D,I),_(n,K,I),_(n,J,I),_(n,Y,I),_(n,Q,I),_(n,V,I),_(n,X,I),_(n,G,I),_(n,Z,I),_(n,nn,I),_(n,tn,I),_(n,en,I),_(n,sn,I),_(n,ln,I),_(n,rn,I),_(n,on,I),_(n,cn,I),_(n,an,I),_(n,dn,I),_(n,un,I),_(n,fn,I),_(n,hn,I),_(n,pn,I),_(n,gn,I),_(n,mn,I),_(n,vn,I),_(n,$n,I),_(n,kn,I),_(n,bn,I),_(n,wn,I),_(n,yn,I),_(n,xn,I),_(n,An,I),qn||(Cn=z(e,"click",t[3]),qn=!0)},p:n,i:n,o:n,d(n){n&&(I(e),I(s),I(i),I(l),I(r),I(o),I(c),I(a),I(d),I(u),I(f),I(h),I(p),I(g),I(m),I(v),I($),I(k),I(b),I(w),I(y),I(x),I(A),I(q),I(C),I(O),I(P),I(S),I(E),I(M),I(j),I(F),I(B),I(R),I(H),I(U),I(W),I(D),I(K),I(J),I(Y),I(Q),I(V),I(X),I(G),I(Z),I(nn),I(tn),I(en),I(sn),I(ln),I(rn),I(on),I(cn),I(an),I(dn),I(un),I(fn),I(hn),I(pn),I(gn),I(mn),I(vn),I($n),I(kn),I(bn),I(wn),I(yn),I(xn),I(An)),qn=!1,Cn()}}}function da(t){let e,s,i,l,r,o;return i=new ca({}),{c(){e=N("button"),e.textContent="項目介紹",s=S(),Pn(i.$$.fragment)},m(n,c){_(n,e,c),_(n,s,c),Nn(i,n,c),l=!0,r||(o=z(e,"click",t[2]),r=!0)},p:n,i(n){l||(yn(i.$$.fragment,n),l=!0)},o(n){xn(i.$$.fragment,n),l=!1},d(n){n&&(I(e),I(s)),Tn(i,n),r=!1,o()}}}function ua(n){let t,e,s,i,l,r;const o=[da,aa],c=[];function a(n,t){return n[0]?0:1}return e=a(n),s=c[e]=o[e](n),l=new ec({}),{c(){t=N("div"),s.c(),i=S(),Pn(l.$$.fragment)},m(n,s){_(n,t,s),c[e].m(t,null),q(t,i),Nn(l,t,null),r=!0},p(n,[l]){let r=e;e=a(n),e===r?c[e].p(n,l):(bn(),xn(c[r],1,1,(()=>{c[r]=null})),wn(),s=c[e],s?s.p(n,l):(s=c[e]=o[e](n),s.c()),yn(s,1),s.m(t,i))},i(n){r||(yn(s),yn(l.$$.fragment,n),r=!0)},o(n){xn(s),xn(l.$$.fragment,n),r=!1},d(n){n&&I(t),c[e].d(),Tn(l)}}}function fa(n,t,e){let s=!1;const i=n=>{e(0,s=n)};return[s,i,()=>i(!1),()=>i(!0)]}class ha extends zn{constructor(n){super(),En(this,n,fa,ua,o,{})}}function pa(n,t,e){const s=n.slice();return s[2]=t[e],s}function ga(n){let t,e,s=n[2]+"";return{c(){t=N("div"),e=T(s)},m(n,s){_(n,t,s),q(t,e)},p(n,t){1&t&&s!==(s=n[2]+"")&&j(e,s)},d(n){n&&I(t)}}}function ma(t){let e,s=qn(t[0]),i=[];for(let n=0;n<s.length;n+=1)i[n]=ga(pa(t,s,n));return{c(){e=N("div");for(let n=0;n<i.length;n+=1)i[n].c()},m(n,t){_(n,e,t);for(let n=0;n<i.length;n+=1)i[n]&&i[n].m(e,null)},p(n,[t]){if(1&t){let l;for(s=qn(n[0]),l=0;l<s.length;l+=1){const r=pa(n,s,l);i[l]?i[l].p(r,t):(i[l]=ga(r),i[l].c(),i[l].m(e,null))}for(;l<i.length;l+=1)i[l].d(1);i.length=s.length}},i:n,o:n,d(n){n&&I(e),P(i,n)}}}function va(n,t,e){let s,i;return f(n,Pl,(n=>e(1,i=n))),n.$$.update=()=>{2&n.$$.dirty&&e(0,s=Po("永樂藏：只是產品名稱，並非文獻學的藏經版本名。\n圖版：以山東圖書館藏永樂北藏為主，整卷缺漏或嚴重錯版（如增壹阿含卷23）改用同館永樂南藏，缺漏幾頁以乾隆大藏經補之。\n文字：以CBETA為底本，只有字數不一致的情況才會修改，不保證與圖版一致。\n不是永樂北藏、也不是大正藏的電子版，只是為了方便搜尋，不適合學術引用。\n標點：使用CBETA bookcase_v074_20221027 版經文的標點。\n唯名：性空唯名系經典。\n唯心：真常唯心系經典。\n經號：四部阿含使用大正藏經號。外連巴利藏使用緬甸版編號。\n文件結構：\n書號：英文字，agmm （中阿含經）\n卷號：英文字加卷數，如agmm1。每卷對應一個圖版壓縮檔。\n項號：對應到目次的一個項目。\n段號：一段經文。也是雜阿含的一經。\n文字檔的一行為一句經文、搜尋結果的最小顯示單元。\n\n無量壽經句子對齊未完成。",i).split(/\r?\n/))},[s,i]}class $a extends zn{constructor(n){super(),En(this,n,va,ma,o,{})}}function ka(t){let e,s,i,l,r,o,c,a,d,u,f,h,p,g,m,v,$,k,b,w,y,x,A,q,C,O,P,E,z,M,j,F,B,R,H,U,W,D,K,J,Y,Q,V,X,G,Z,nn,tn,en,sn,ln,rn,on,cn,an=Po("基於以下公開素材：")+"",dn=Po("永樂北藏、南藏圖檔(山東省圖書館)")+"",un=Po("經文及新式標點(CBETA)")+"",fn=Po("金剛經集註(朱棣)")+"",hn=Po("梵漢佛經對勘叢書(黃寶生，中國社會科學出版社)")+"",pn=Po("四部阿含相似經文對照表")+"",gn=Po("一行佛學詞典之詞條")+"",mn=Po("網路公開誦經影片")+"",vn=Po("進行以下加工：")+"",$n=Po("按手機比例裁圖及修圖")+"",kn=Po("文字與圖片逐頁逐行對齊")+"",bn=Po("原文及各種譯本逐句對齊")+"",wn=Po("誦經與圖片同步時間軸")+"",An=Po("成品數據庫分享方式")+"";return on=new ec({}),{c(){e=T(an),s=S(),i=N("br"),l=T(dn),r=S(),o=N("br"),c=T(un),a=S(),d=N("br"),u=T(fn),f=S(),h=N("br"),p=T("梵文原典 "),g=N("a"),g.textContent="Digital Sanskrit Buddhist Canon",m=S(),v=N("br"),$=T(hn),k=S(),b=N("br"),w=T(pn),y=N("a"),y.textContent="SuttaCentral",x=S(),A=N("br"),q=T(gn),C=S(),O=N("br"),P=T(mn),E=S(),z=N("hr"),M=S(),j=T(vn),F=S(),B=N("br"),R=T($n),H=S(),U=N("br"),W=T(kn),D=S(),K=N("br"),J=T(bn),Y=S(),Q=N("br"),V=T(wn),X=S(),G=N("hr"),Z=S(),nn=N("br"),tn=T(An),en=S(),sn=N("br"),ln=N("a"),ln.textContent=`${Po("CC0 1.0 通用公共領域貢獻")}`,rn=S(),Pn(on.$$.fragment),L(g,"target","_new"),L(g,"href","https://www.dsbcproject.org/"),L(y,"target","_new"),L(y,"href","https://suttacentral.net/"),L(ln,"target","_new"),L(ln,"href","https://creativecommons.org/publicdomain/zero/1.0/deed.zh")},m(n,t){_(n,e,t),_(n,s,t),_(n,i,t),_(n,l,t),_(n,r,t),_(n,o,t),_(n,c,t),_(n,a,t),_(n,d,t),_(n,u,t),_(n,f,t),_(n,h,t),_(n,p,t),_(n,g,t),_(n,m,t),_(n,v,t),_(n,$,t),_(n,k,t),_(n,b,t),_(n,w,t),_(n,y,t),_(n,x,t),_(n,A,t),_(n,q,t),_(n,C,t),_(n,O,t),_(n,P,t),_(n,E,t),_(n,z,t),_(n,M,t),_(n,j,t),_(n,F,t),_(n,B,t),_(n,R,t),_(n,H,t),_(n,U,t),_(n,W,t),_(n,D,t),_(n,K,t),_(n,J,t),_(n,Y,t),_(n,Q,t),_(n,V,t),_(n,X,t),_(n,G,t),_(n,Z,t),_(n,nn,t),_(n,tn,t),_(n,en,t),_(n,sn,t),_(n,ln,t),_(n,rn,t),Nn(on,n,t),cn=!0},p:n,i(n){cn||(yn(on.$$.fragment,n),cn=!0)},o(n){xn(on.$$.fragment,n),cn=!1},d(n){n&&(I(e),I(s),I(i),I(l),I(r),I(o),I(c),I(a),I(d),I(u),I(f),I(h),I(p),I(g),I(m),I(v),I($),I(k),I(b),I(w),I(y),I(x),I(A),I(q),I(C),I(O),I(P),I(E),I(z),I(M),I(j),I(F),I(B),I(R),I(H),I(U),I(W),I(D),I(K),I(J),I(Y),I(Q),I(V),I(X),I(G),I(Z),I(nn),I(tn),I(en),I(sn),I(ln),I(rn)),Tn(on,n)}}}class ba extends zn{constructor(n){super(),En(this,n,null,ka,o,{})}}function wa(n,t,e){const s=n.slice();return s[8]=t[e][0],s[9]=t[e][1],s[11]=e,s}function ya(n){let t,e,s,i,l=Po("更新",n[2])+n[8]+"";function r(){return n[5](n[11])}return{c(){t=N("span"),e=T(l),L(t,"aria-hidden","true"),L(t,"class","clickable hyperlink needupdate")},m(n,l){_(n,t,l),q(t,e),s||(i=z(t,"click",r),s=!0)},p(t,s){n=t,5&s&&l!==(l=Po("更新",n[2])+n[8]+"")&&j(e,l)},d(n){n&&I(t),s=!1,i()}}}function xa(n){let t,e="hasupdate"==n[9]&&ya(n);return{c(){e&&e.c(),t=E()},m(n,s){e&&e.m(n,s),_(n,t,s)},p(n,s){"hasupdate"==n[9]?e?e.p(n,s):(e=ya(n),e.c(),e.m(t.parentNode,t)):e&&(e.d(1),e=null)},d(n){n&&I(t),e&&e.d(n)}}}function Aa(n){let t,e=Po("數據庫是最新版",n[2])+"";return{c(){t=T(e)},m(n,e){_(n,t,e)},p(n,s){4&s&&e!==(e=Po("數據庫是最新版",n[2])+"")&&j(t,e)},d(n){n&&I(t)}}}function qa(t){let e,s,i,l,r=qn(t[0]),o=[];for(let n=0;n<r.length;n+=1)o[n]=xa(wa(t,r,n));let c=!t[3]&&Aa(t);return{c(){for(let n=0;n<o.length;n+=1)o[n].c();e=S(),s=T(t[1]),i=S(),c&&c.c(),l=E()},m(n,t){for(let e=0;e<o.length;e+=1)o[e]&&o[e].m(n,t);_(n,e,t),_(n,s,t),_(n,i,t),c&&c.m(n,t),_(n,l,t)},p(n,[t]){if(21&t){let s;for(r=qn(n[0]),s=0;s<r.length;s+=1){const i=wa(n,r,s);o[s]?o[s].p(i,t):(o[s]=xa(i),o[s].c(),o[s].m(e.parentNode,e))}for(;s<o.length;s+=1)o[s].d(1);o.length=r.length}2&t&&j(s,n[1]),n[3]?c&&(c.d(1),c=null):c?c.p(n,t):(c=Aa(n),c.c(),c.m(l.parentNode,l))},i:n,o:n,d(n){n&&(I(e),I(s),I(i),I(l)),P(o,n),c&&c.d(n)}}}function Ca(n,t,e){let s,i;f(n,Pl,(n=>e(2,s=n))),f(n,Nl,(n=>e(3,i=n)));let l=[],r=0;Z((async()=>{e(0,l=Xl.map((n=>[n,"checking"]))),r=Xl.length;for(let n=0;n<Xl.length;n++){const t=await Xr(Xl[n]+".ptk",Qi);e(0,l[n][1]=t?"":"hasupdate",l),t&&r--}Nl.set(r>0),e(0,l)}));let o=!1,c="";const a=async n=>{const t=l[n][0];if(o)return;o=!0;const s=await Gr(Qi,t+".ptk?"+(new Date).toISOString(),(n=>{e(1,c=n)}));xe(t);const i=await s.arrayBuffer(),a=await Ks(t,new Uint8Array(i));ji(a),o=!1,e(0,l[n][1]="",l),e(0,l),e(1,c=""),r--,Nl.set(r>0)};return[l,c,s,i,a,n=>a(n)]}class Oa extends zn{constructor(n){super(),En(this,n,Ca,qa,o,{})}}function _a(t){let e,s,i,l,r=t[4](t[1],t[0])+"";return{c(){e=N("span"),s=N("span"),L(e,"class","statebutton"),L(e,"title",t[3]),L(e,"aria-hidden",!0),U(e,"disabled",t[2]),U(e,"unselected",-1==t[0])},m(n,o){_(n,e,o),q(e,s),s.innerHTML=r,i||(l=z(e,"click",t[5]),i=!0)},p(n,[t]){3&t&&r!==(r=n[4](n[1],n[0])+"")&&(s.innerHTML=r),8&t&&L(e,"title",n[3]),4&t&&U(e,"disabled",n[2]),1&t&&U(e,"unselected",-1==n[0])},i:n,o:n,d(n){n&&I(e),i=!1,l()}}}function Ia(n,t,e){let{onclick:s=null}=t,{disabled:i=!1}=t,{title:l=""}=t,{states:r={}}=t,{storeid:o=null}=t,{styles:c=null}=t,{caption:a=""}=t,d=a,{unselectable:f=!1}=t;const h=Object.keys(r);let{selectedIndex:p=o&&h.indexOf(u(o).toString())||-1}=t;-1!=p||f||(p=0,o&&u(o).toString()!==h[p]&&o.set(h[p]));const g=()=>{e(1,a=o?r[u(o)]:-1==p?d:r[p])};return Z((()=>g())),n.$$set=n=>{"onclick"in n&&e(6,s=n.onclick),"disabled"in n&&e(2,i=n.disabled),"title"in n&&e(3,l=n.title),"states"in n&&e(7,r=n.states),"storeid"in n&&e(8,o=n.storeid),"styles"in n&&e(9,c=n.styles),"caption"in n&&e(1,a=n.caption),"unselectable"in n&&e(10,f=n.unselectable),"selectedIndex"in n&&e(0,p=n.selectedIndex)},n.$$.update=()=>{1&n.$$.dirty&&g()},[p,a,i,l,(n,t)=>c?n.replace(/\$(\w+)/g,((n,t)=>"string"==typeof c[t]?c[t]:"function"==typeof c?c(t):u(c[t])||"auto")):n,n=>{i||(e(0,p++,p),p>=h.length&&e(0,p=f?-1==p?0:-1:0),o&&o.set(h[p]),s&&s(p))},s,r,o,c,f]}class Pa extends zn{constructor(n){super(),En(this,n,Ia,_a,o,{onclick:6,disabled:2,title:3,states:7,storeid:8,styles:9,caption:1,unselectable:10,selectedIndex:0})}}function Na(n){let t,e,s;return{c(){t=N("span"),t.textContent=`${Po("說明")}`,L(t,"aria-hidden","true"),L(t,"class","clickable"),U(t,"selected",1==n[0])},m(i,l){_(i,t,l),e||(s=z(t,"click",n[10]),e=!0)},p(n,e){1&e&&U(t,"selected",1==n[0])},d(n){n&&I(t),e=!1,s()}}}function Ta(n){let t,e,s;return{c(){t=N("span"),t.textContent=`${Po("項目")}`,L(t,"aria-hidden","true"),L(t,"class","clickable"),U(t,"selected",6==n[0])},m(i,l){_(i,t,l),e||(s=z(t,"click",n[15]),e=!0)},p(n,e){1&e&&U(t,"selected",6==n[0])},d(n){n&&I(t),e=!1,s()}}}function Sa(n){let t,e,s;return{c(){t=N("span"),t.textContent="伙伴",L(t,"aria-hidden","true"),L(t,"class","clickable"),U(t,"selected",3==n[0])},m(i,l){_(i,t,l),e||(s=z(t,"click",n[12]),e=!0)},p(n,e){1&e&&U(t,"selected",3==n[0])},d(n){n&&I(t),e=!1,s()}}}function Ea(n){let t,e,s;return{c(){t=N("span"),t.textContent=`${Po("贊助")}`,L(t,"aria-hidden","true"),L(t,"class","clickable"),U(t,"selected",7==n[0])},m(i,l){_(i,t,l),e||(s=z(t,"click",n[16]),e=!0)},p(n,e){1&e&&U(t,"selected",7==n[0])},d(n){n&&I(t),e=!1,s()}}}function za(n){let t,e,s,i,r,o,c,a,d,u,f;function h(n,e){return 16&e&&(t=null),null==t&&(t=!(!n[4]||!Go("title"))),t?Ta:Na}let p=h(n,-1),g=p(n);function m(n,t){return 16&t&&(r=null),null==r&&(r=!(!n[4]||!Go("title"))),r?Ea:Sa}let v=m(n,-1),$=v(n);return{c(){g.c(),e=S(),s=N("span"),s.textContent="芳名",i=S(),$.c(),o=S(),c=N("span"),c.textContent="素材",a=S(),d=N("span"),d.textContent=`${Po("關於")}`,L(s,"aria-hidden","true"),L(s,"class","clickable"),U(s,"selected",2==n[0]),L(c,"aria-hidden","true"),L(c,"class","clickable"),U(c,"selected",4==n[0]),L(d,"aria-hidden","true"),L(d,"class","clickable"),U(d,"selected",5==n[0])},m(t,l){g.m(t,l),_(t,e,l),_(t,s,l),_(t,i,l),$.m(t,l),_(t,o,l),_(t,c,l),_(t,a,l),_(t,d,l),u||(f=[z(s,"click",n[11]),z(c,"click",n[13]),z(d,"click",n[14])],u=!0)},p(n,t){p===(p=h(n,t))&&g?g.p(n,t):(g.d(1),g=p(n),g&&(g.c(),g.m(e.parentNode,e))),1&t&&U(s,"selected",2==n[0]),v===(v=m(n,t))&&$?$.p(n,t):($.d(1),$=v(n),$&&($.c(),$.m(o.parentNode,o))),1&t&&U(c,"selected",4==n[0]),1&t&&U(d,"selected",5==n[0])},d(n){n&&(I(e),I(s),I(i),I(o),I(c),I(a),I(d)),g.d(n),$.d(n),u=!1,l(f)}}}function La(t){let e,s,i,l,r,c,a,d,u,f,h,p,g,m,v,$,k,b,w,y,x,A,C=Po("永樂藏",t[5])+"",O=t[5],P=Po("看不到圖版最底下的行才需要調整",t[5])+"",E=t[5];l=new Oa({});let z=Wa(t);function M(n){t[21](n)}let F={max:250,min:80,$$slots:{caption:[Da]},$$scope:{ctx:t}};function B(n){t[22](n)}void 0!==t[3]&&(F.value=t[3]),u=new Nc({props:F}),sn.push((()=>In(u,"value",M))),u.$on("input",Mt(t[18],300));let R={max:100,min:1,$$slots:{caption:[Ka]},$$scope:{ctx:t}};void 0!==t[2]&&(R.value=t[2]),v=new Nc({props:R}),sn.push((()=>In(v,"value",B))),v.$on("input",Mt(t[17],300));let H=Ja(t);return x=new ec({}),{c(){e=N("span"),s=T(C),i=S(),Pn(l.$$.fragment),r=S(),z.c(),c=S(),a=N("hr"),d=S(),Pn(u.$$.fragment),h=S(),p=N("br"),g=T(P),m=S(),Pn(v.$$.fragment),k=S(),b=N("br"),w=S(),H.c(),y=S(),Pn(x.$$.fragment),L(e,"class","logotitle")},m(n,t){_(n,e,t),q(e,s),_(n,i,t),Nn(l,n,t),_(n,r,t),z.m(n,t),_(n,c,t),_(n,a,t),_(n,d,t),Nn(u,n,t),_(n,h,t),_(n,p,t),_(n,g,t),_(n,m,t),Nn(v,n,t),_(n,k,t),_(n,b,t),_(n,w,t),H.m(n,t),_(n,y,t),Nn(x,n,t),A=!0},p(t,e){(!A||32&e)&&C!==(C=Po("永樂藏",t[5])+"")&&j(s,C),32&e&&o(O,O=t[5])?(bn(),xn(z,1,1,n),wn(),z=Wa(t),z.c(),yn(z,1),z.m(c.parentNode,c)):z.p(t,e);const i={};1073741864&e&&(i.$$scope={dirty:e,ctx:t}),!f&&8&e&&(f=!0,i.value=t[3],dn((()=>f=!1))),u.$set(i),(!A||32&e)&&P!==(P=Po("看不到圖版最底下的行才需要調整",t[5])+"")&&j(g,P);const l={};1073741828&e&&(l.$$scope={dirty:e,ctx:t}),!$&&4&e&&($=!0,l.value=t[2],dn((()=>$=!1))),v.$set(l),32&e&&o(E,E=t[5])?(bn(),xn(H,1,1,n),wn(),H=Ja(t),H.c(),yn(H,1),H.m(y.parentNode,y)):H.p(t,e)},i(n){A||(yn(l.$$.fragment,n),yn(z),yn(u.$$.fragment,n),yn(v.$$.fragment,n),yn(H),yn(x.$$.fragment,n),A=!0)},o(n){xn(l.$$.fragment,n),xn(z),xn(u.$$.fragment,n),xn(v.$$.fragment,n),xn(H),xn(x.$$.fragment,n),A=!1},d(n){n&&(I(e),I(i),I(r),I(c),I(a),I(d),I(h),I(p),I(g),I(m),I(k),I(b),I(w),I(y)),Tn(l,n),z.d(n),Tn(u,n),Tn(v,n),H.d(n),Tn(x,n)}}}function Ma(t){let e,s;return e=new na({}),{c(){Pn(e.$$.fragment)},m(n,t){Nn(e,n,t),s=!0},p:n,i(n){s||(yn(e.$$.fragment,n),s=!0)},o(n){xn(e.$$.fragment,n),s=!1},d(n){Tn(e,n)}}}function ja(t){let e,s;return e=new ha({}),{c(){Pn(e.$$.fragment)},m(n,t){Nn(e,n,t),s=!0},p:n,i(n){s||(yn(e.$$.fragment,n),s=!0)},o(n){xn(e.$$.fragment,n),s=!1},d(n){Tn(e,n)}}}function Fa(t){let e,s;return e=new $a({}),{c(){Pn(e.$$.fragment)},m(n,t){Nn(e,n,t),s=!0},p:n,i(n){s||(yn(e.$$.fragment,n),s=!0)},o(n){xn(e.$$.fragment,n),s=!1},d(n){Tn(e,n)}}}function Ba(t){let e,s;return e=new ba({}),{c(){Pn(e.$$.fragment)},m(n,t){Nn(e,n,t),s=!0},p:n,i(n){s||(yn(e.$$.fragment,n),s=!0)},o(n){xn(e.$$.fragment,n),s=!1},d(n){Tn(e,n)}}}function Ra(t){let e,s;return e=new ra({}),{c(){Pn(e.$$.fragment)},m(n,t){Nn(e,n,t),s=!0},p:n,i(n){s||(yn(e.$$.fragment,n),s=!0)},o(n){xn(e.$$.fragment,n),s=!1},d(n){Tn(e,n)}}}function Ha(t){let e,s;return e=new ea({}),{c(){Pn(e.$$.fragment)},m(n,t){Nn(e,n,t),s=!0},p:n,i(n){s||(yn(e.$$.fragment,n),s=!0)},o(n){xn(e.$$.fragment,n),s=!1},d(n){Tn(e,n)}}}function Ua(t){let e,s;return e=new ia({}),{c(){Pn(e.$$.fragment)},m(n,t){Nn(e,n,t),s=!0},p:n,i(n){s||(yn(e.$$.fragment,n),s=!0)},o(n){xn(e.$$.fragment,n),s=!1},d(n){Tn(e,n)}}}function Wa(n){let t,e,s,i,r,o,c,a,d,u,f,h,p,g,m,v,$,k,b,w,y,x,A,q,C=Po("漢字顯示")+"",O=(Go("title",n[4])||(n[4]?Po("查無此碼"):""))+"",P=Po("VIP碼 ")+"",E=Po("點焦點文字（紅色背景）分享")+"";return i=new Pa({props:{states:{0:"原貌",1:Po("简體（「乾後發」等不變）"),2:"简体"},storeid:Pl}}),{c(){t=N("br"),e=T(C),s=T("："),Pn(i.$$.fragment),r=S(),o=N("br"),c=T("版本 "),a=T(Vi),d=T(O),u=S(),f=N("br"),h=T(P),p=N("input"),g=S(),m=N("br"),v=T("微信 Sukhanika\n"),$=N("br"),k=N("a"),k.textContent="sukhanika[at]gmail.com",b=S(),w=N("br"),y=T(E),L(p,"placeholder",Po("沒有也可正常使用")),L(p,"size","12"),L(p,"type","text"),L(k,"href","mailto:sukhanika@gmail.com")},m(l,C){_(l,t,C),_(l,e,C),_(l,s,C),Nn(i,l,C),_(l,r,C),_(l,o,C),_(l,c,C),_(l,a,C),_(l,d,C),_(l,u,C),_(l,f,C),_(l,h,C),_(l,p,C),F(p,n[1]),_(l,g,C),_(l,m,C),_(l,v,C),_(l,$,C),_(l,k,C),_(l,b,C),_(l,w,C),_(l,y,C),x=!0,A||(q=[z(p,"keyup",n[19]),z(p,"input",n[20])],A=!0)},p(n,t){(!x||16&t)&&O!==(O=(Go("title",n[4])||(n[4]?Po("查無此碼"):""))+"")&&j(d,O),2&t&&p.value!==n[1]&&F(p,n[1])},i(n){x||(yn(i.$$.fragment,n),x=!0)},o(n){xn(i.$$.fragment,n),x=!1},d(n){n&&(I(t),I(e),I(s),I(r),I(o),I(c),I(a),I(d),I(u),I(f),I(h),I(p),I(g),I(m),I(v),I($),I(k),I(b),I(w),I(y)),Tn(i,n),A=!1,l(q)}}}function Da(n){let t,e,s,i,l=n[3][0]+"",r=Po("字體大小",n[5])+"";return{c(){t=N("span"),e=T(l),s=T("% "),i=T(r),L(t,"slot","caption"),B(t,"float","right")},m(n,l){_(n,t,l),q(t,e),q(t,s),q(t,i)},p(n,t){8&t&&l!==(l=n[3][0]+"")&&j(e,l),32&t&&r!==(r=Po("字體大小",n[5])+"")&&j(i,r)},d(n){n&&I(t)}}}function Ka(n){let t,e,s,i=n[2][0]+"";return{c(){t=N("span"),e=T(i),s=T("% 全屏高度"),L(t,"slot","caption"),B(t,"float","right")},m(n,i){_(n,t,i),q(t,e),q(t,s)},p(n,t){4&t&&i!==(i=n[2][0]+"")&&j(e,i)},d(n){n&&I(t)}}}function Ja(n){let t,e,s,i,l,r,o,c,a,d,u,f;function h(t){n[23](t)}let p={label:Po("我的最愛"),design:"slider"};function g(t){n[24](t)}void 0!==n[6]&&(p.value=n[6]),t=new Fc({props:p}),sn.push((()=>In(t,"value",h)));let m={label:Po("顯示經變圖"),design:"slider"};function v(t){n[25](t)}void 0!==n[7]&&(m.value=n[7]),i=new Fc({props:m}),sn.push((()=>In(i,"value",g)));let $={label:Po("顯示標點符號"),design:"slider"};function k(t){n[26](t)}void 0!==n[8]&&($.value=n[8]),o=new Fc({props:$}),sn.push((()=>In(o,"value",v)));let b={label:Po("啟動時顯示歡迎畫面"),design:"slider"};return void 0!==n[9]&&(b.value=n[9]),d=new Fc({props:b}),sn.push((()=>In(d,"value",k))),{c(){Pn(t.$$.fragment),s=S(),Pn(i.$$.fragment),r=S(),Pn(o.$$.fragment),a=S(),Pn(d.$$.fragment)},m(n,e){Nn(t,n,e),_(n,s,e),Nn(i,n,e),_(n,r,e),Nn(o,n,e),_(n,a,e),Nn(d,n,e),f=!0},p(n,s){const r={};!e&&64&s&&(e=!0,r.value=n[6],dn((()=>e=!1))),t.$set(r);const a={};!l&&128&s&&(l=!0,a.value=n[7],dn((()=>l=!1))),i.$set(a);const f={};!c&&256&s&&(c=!0,f.value=n[8],dn((()=>c=!1))),o.$set(f);const h={};!u&&512&s&&(u=!0,h.value=n[9],dn((()=>u=!1))),d.$set(h)},i(n){f||(yn(t.$$.fragment,n),yn(i.$$.fragment,n),yn(o.$$.fragment,n),yn(d.$$.fragment,n),f=!0)},o(n){xn(t.$$.fragment,n),xn(i.$$.fragment,n),xn(o.$$.fragment,n),xn(d.$$.fragment,n),f=!1},d(n){n&&(I(s),I(r),I(a)),Tn(t,n),Tn(i,n),Tn(o,n),Tn(d,n)}}}function Ya(n){let t,e,s,i,l,r,c=n[5],a=za(n);const d=[Ua,Ha,Ra,Ba,Fa,ja,Ma,La],u=[];function f(n,t){return 1==n[0]?0:2==n[0]?1:3==n[0]?2:4==n[0]?3:5==n[0]?4:6==n[0]?5:7==n[0]?6:7}return i=f(n),l=u[i]=d[i](n),{c(){t=N("div"),a.c(),e=S(),s=N("div"),l.c(),L(t,"class","tabs"),L(s,"class","bodytext")},m(n,l){_(n,t,l),a.m(t,null),_(n,e,l),_(n,s,l),u[i].m(s,null),r=!0},p(n,[e]){32&e&&o(c,c=n[5])?(a.d(1),a=za(n),a.c(),a.m(t,null)):a.p(n,e);let r=i;i=f(n),i===r?u[i].p(n,e):(bn(),xn(u[r],1,1,(()=>{u[r]=null})),wn(),l=u[i],l?l.p(n,e):(l=u[i]=d[i](n),l.c()),yn(l,1),l.m(s,null))},i(n){r||(yn(l),r=!0)},o(n){xn(l),r=!1},d(n){n&&(I(t),I(e),I(s)),a.d(n),u[i].d()}}}function Qa(n,t,e){let s,i,l,r,o,c,a,d;f(n,_l,(n=>e(28,s=n))),f(n,Ol,(n=>e(29,i=n))),f(n,Il,(n=>e(4,l=n))),f(n,Pl,(n=>e(5,r=n))),f(n,kl,(n=>e(6,o=n))),f(n,vl,(n=>e(7,c=n))),f(n,ml,(n=>e(8,a=n))),f(n,Jl,(n=>e(9,d=n)));let u=0,h=l,p=[Math.floor(10*(100*i-90)),0],g=[s,0];let m=0;return[u,h,p,g,l,r,o,c,a,d,()=>e(0,u=1==u?0:1),()=>e(0,u=2==u?0:2),()=>e(0,u=3==u?0:3),()=>e(0,u=4==u?0:4),()=>e(0,u=5==u?0:5),()=>e(0,u=6==u?0:6),()=>e(0,u=7==u?0:7),n=>{const t=n.detail[0]||100;Ol.set((t/10+90)/100),qo()},n=>{const t=n.detail[0]||100;_l.set(t)},n=>{const t=n.target,e=t.selectionStart,s=t.selectionEnd;t.value=t.value.toUpperCase().replace(/[^a-zA-Z\d]/g,""),t.setSelectionRange(e,s),clearTimeout(m),m=setTimeout((()=>{Il.set(t.value)}),1e3)},function(){h=this.value,e(1,h)},function(n){g=n,e(3,g)},function(n){p=n,e(2,p)},function(n){o=n,kl.set(o)},function(n){c=n,vl.set(c)},function(n){a=n,ml.set(a)},function(n){d=n,Jl.set(d)}]}class Va extends zn{constructor(n){super(),En(this,n,Qa,Ya,o,{})}}function Xa(n){let t,e=(n[3][n[2]+1]||"empty")+"";return{c(){t=N("span"),L(t,"class","arrow svelte-5h9ge")},m(n,s){_(n,t,s),t.innerHTML=e},p(n,s){4&s&&e!==(e=(n[3][n[2]+1]||"empty")+"")&&(t.innerHTML=e)},d(n){n&&I(t)}}}function Ga(n){let t,e,s,i,r,o,c,a,d=1==n[1]&&n[2]&&Xa(n);const u=n[12].default,f=h(u,n,n[11],null);return{c(){d&&d.c(),t=S(),e=N("div"),s=N("span"),i=T(n[0]),r=S(),f&&f.c(),L(s,"aria-hidden","true"),L(e,"name","swipeview"),B(e,"height","100%")},m(l,u){d&&d.m(l,u),_(l,t,u),_(l,e,u),q(e,s),q(s,i),q(e,r),f&&f.m(e,null),o=!0,c||(a=[z(s,"click",n[8]),z(e,"touchstart",n[4],{passive:!0}),z(e,"touchmove",n[5],{passive:!0}),z(e,"touchend",n[6],{passive:!0}),z(e,"wheel",n[13])],c=!0)},p(n,[e]){1==n[1]&&n[2]?d?d.p(n,e):(d=Xa(n),d.c(),d.m(t.parentNode,t)):d&&(d.d(1),d=null),(!o||1&e)&&j(i,n[0]),f&&f.p&&(!o||2048&e)&&m(f,u,n,n[11],o?g(u,n[11],e,null):v(n[11]),null)},i(n){o||(yn(f,n),o=!0)},o(n){xn(f,n),o=!1},d(n){n&&(I(t),I(e)),d&&d.d(n),f&&f.d(n),c=!1,l(a)}}}function Za(n,t,e){let{$$slots:s={},$$scope:i}=t,{onSwipe:l}=t,{caption:r=""}=t,{reverse:o=!1}=t;const c=['<svg width="150px" height="150px" viewBox="0 0 1024 1024" fill="#cfcfcf" color="#000000" ><path d="M768 903.232l-50.432 56.768L256 512l461.568-448 50.432 56.768L364.928 512z" ></path></svg>',,'<svg width="150px" height="150px" viewBox="0 0 1024 1024" fill="#cfcfcf" color="#000000"><path d="M256 120.768L306.432 64 768 512l-461.568 448L256 903.232 659.072 512z"></path></svg>'];let a=-1,d=0,u=0,f=0,h=0,p=0;const g=(n,t)=>{if(!n.altKey)return;n.deltaY>0?l&&l(1):l&&l(-1),n.preventDefault()};return n.$$set=n=>{"onSwipe"in n&&e(9,l=n.onSwipe),"caption"in n&&e(0,r=n.caption),"reverse"in n&&e(10,o=n.reverse),"$$scope"in n&&e(11,i=n.$$scope)},[r,a,p,c,n=>{e(2,p=0),1==n.touches.length&&(f=n.touches[0].pageX,h=n.touches[0].pageY,d=f,u=h,e(1,a=1))},n=>{-1!=a&&a>-1&&(d=n.touches[0].pageX,u=n.touches[0].pageY,e(2,p=(()=>{const n=d-f,t=u-h;let e=0;return n>window.innerWidth/10&&Math.abs(t)<Math.abs(n)/2?e=1:n<-window.innerWidth/10&&Math.abs(t)<Math.abs(n)/2&&(e=-1),o?-e:e})()))},n=>{-1!==a&&0!==p&&l&&l(p),e(1,a=-1),e(2,p=0)},g,()=>{l&&l(1)},l,o,i,s,n=>g(n)]}class nd extends zn{constructor(n){super(),En(this,n,Za,Ga,o,{onSwipe:9,caption:0,reverse:10})}}const td=n=>({active:18&n,caption:16&n,idx:16&n,id:16&n}),ed=n=>({active:n[4].idx==n[1],caption:n[4].caption+"]",idx:n[4].idx,id:n[4].id});function sd(n,t,e){const s=n.slice();return s[16]=t[e],s}const id=n=>({active:10&n,caption:8&n,idx:8&n,id:8&n}),ld=n=>({active:n[16].idx==n[1],caption:n[16].caption+" ",idx:n[16].idx,id:n[16].id}),rd=n=>({active:3&n,caption:1&n,id:1&n}),od=n=>({active:n[0][0].idx==n[1],caption:"["+n[0][0].caption,idx:"0",id:n[0][0].id});function cd(n){let t;const e=n[10].default,s=h(e,n,n[11],od);return{c(){s&&s.c()},m(n,e){s&&s.m(n,e),t=!0},p(n,i){s&&s.p&&(!t||2051&i)&&m(s,e,n,n[11],t?g(e,n[11],i,rd):v(n[11]),od)},i(n){t||(yn(s,n),t=!0)},o(n){xn(s,n),t=!1},d(n){s&&s.d(n)}}}function ad(n){let t;const e=n[10].default,s=h(e,n,n[11],ld);return{c(){s&&s.c()},m(n,e){s&&s.m(n,e),t=!0},p(n,i){s&&s.p&&(!t||2058&i)&&m(s,e,n,n[11],t?g(e,n[11],i,id):v(n[11]),ld)},i(n){t||(yn(s,n),t=!0)},o(n){xn(s,n),t=!1},d(n){s&&s.d(n)}}}function dd(n){let t;const e=n[10].default,s=h(e,n,n[11],ed);return{c(){s&&s.c()},m(n,e){s&&s.m(n,e),t=!0},p(n,i){s&&s.p&&(!t||2066&i)&&m(s,e,n,n[11],t?g(e,n[11],i,td):v(n[11]),ed)},i(n){t||(yn(s,n),t=!0)},o(n){xn(s,n),t=!1},d(n){s&&s.d(n)}}}function ud(n){let t,e,s,i,l=n[0].length&&cd(n),r=qn(n[3]),o=[];for(let t=0;t<r.length;t+=1)o[t]=ad(sd(n,r,t));const c=n=>xn(o[n],1,1,(()=>{o[n]=null}));let a=n[4]&&dd(n);return{c(){l&&l.c(),t=S();for(let n=0;n<o.length;n+=1)o[n].c();e=S(),a&&a.c(),s=E()},m(n,r){l&&l.m(n,r),_(n,t,r);for(let t=0;t<o.length;t+=1)o[t]&&o[t].m(n,r);_(n,e,r),a&&a.m(n,r),_(n,s,r),i=!0},p(n,i){if(n[0].length?l?(l.p(n,i),1&i&&yn(l,1)):(l=cd(n),l.c(),yn(l,1),l.m(t.parentNode,t)):l&&(bn(),xn(l,1,1,(()=>{l=null})),wn()),2058&i){let t;for(r=qn(n[3]),t=0;t<r.length;t+=1){const s=sd(n,r,t);o[t]?(o[t].p(s,i),yn(o[t],1)):(o[t]=ad(s),o[t].c(),yn(o[t],1),o[t].m(e.parentNode,e))}for(bn(),t=r.length;t<o.length;t+=1)c(t);wn()}n[4]?a?(a.p(n,i),16&i&&yn(a,1)):(a=dd(n),a.c(),yn(a,1),a.m(s.parentNode,s)):a&&(bn(),xn(a,1,1,(()=>{a=null})),wn())},i(n){if(!i){yn(l);for(let n=0;n<r.length;n+=1)yn(o[n]);yn(a),i=!0}},o(n){xn(l),o=o.filter(Boolean);for(let n=0;n<o.length;n+=1)xn(o[n]);xn(a),i=!1},d(n){n&&(I(t),I(e),I(s)),l&&l.d(n),P(o,n),a&&a.d(n)}}}function fd(n){let t,e;return t=new nd({props:{onSwipe:n[5],caption:n[2]?"→"+n[2]:"",$$slots:{default:[ud]},$$scope:{ctx:n}}}),{c(){Pn(t.$$.fragment)},m(n,s){Nn(t,n,s),e=!0},p(n,[e]){const s={};4&e&&(s.caption=n[2]?"→"+n[2]:""),2075&e&&(s.$$scope={dirty:e,ctx:n}),t.$set(s)},i(n){e||(yn(t.$$.fragment,n),e=!0)},o(n){xn(t.$$.fragment,n),e=!1},d(n){Tn(t,n)}}}function hd(n,t,e){let{$$slots:s={},$$scope:i}=t,{pages:l=[]}=t,{count:r=0}=t,{now:o=0}=t,{previtems:c=1}=t,{nextitems:a=3}=t,{onselect:d}=t,{caption:u=""}=t,f=o-c,h=o+a+1;const p=[];let g=null;const m=()=>{e(1,o=parseInt(o)),o>=l.length&&e(1,o=0),f=o-c,h=o+a+1,f<2&&(f=1),h>=l.length&&(h=l.length-1),e(3,p.length=0,p);for(let n=f;n<h;n++)p.push(l[n]);h+=10,h<l.length-2&&p.push(l[h]),h+=30,h<l.length-2&&p.push(l[h]),l.length>1?e(4,g=l[l.length-1]):e(4,g=null)};return n.$$set=n=>{"pages"in n&&e(0,l=n.pages),"count"in n&&e(6,r=n.count),"now"in n&&e(1,o=n.now),"previtems"in n&&e(7,c=n.previtems),"nextitems"in n&&e(8,a=n.nextitems),"onselect"in n&&e(9,d=n.onselect),"caption"in n&&e(2,u=n.caption),"$$scope"in n&&e(11,i=n.$$scope)},n.$$.update=()=>{3&n.$$.dirty&&m(),65&n.$$.dirty&&(()=>{if(r&&l.length!==r){e(0,l.length=0,l);for(let n=0;n<r;n++)l.push({caption:n+1,id:n+1,idx:n});m()}})()},[l,o,u,p,g,n=>{e(1,o+=n),o<0&&e(1,o=0),o>=l.length-1&&e(1,o=l.length-1),d&&d(o)},r,c,a,d,s,i]}class pd extends zn{constructor(n){super(),En(this,n,hd,fd,o,{pages:0,count:6,now:1,previtems:7,nextitems:8,onselect:9,caption:2})}}function gd(n){let t,e,s,i,l=Po(n[2])+"";function r(){return n[6](n[10])}return{c(){t=N("span"),e=T(l),L(t,"aria-hidden","true"),L(t,"class","clickable"),U(t,"selected",n[9])},m(n,l){_(n,t,l),q(t,e),s||(i=z(t,"click",r),s=!0)},p(s,i){n=s,4&i&&l!==(l=Po(n[2])+"")&&j(e,l),512&i&&U(t,"selected",n[9])},d(n){n&&I(t),s=!1,i()}}}function md(n){let t,e;return t=new pd({props:{caption:n[2],count:n[1],nextitems:5,previtems:4,now:n[0],onselect:n[3],$$slots:{default:[gd,({active:n,caption:t,idx:e})=>({9:n,2:t,10:e}),({active:n,caption:t,idx:e})=>(n?512:0)|(t?4:0)|(e?1024:0)]},$$scope:{ctx:n}}}),{c(){Pn(t.$$.fragment)},m(n,s){Nn(t,n,s),e=!0},p(n,[e]){const s={};4&e&&(s.caption=n[2]),2&e&&(s.count=n[1]),1&e&&(s.now=n[0]),3588&e&&(s.$$scope={dirty:e,ctx:n}),t.$set(s)},i(n){e||(yn(t.$$.fragment,n),e=!0)},o(n){xn(t.$$.fragment,n),e=!1},d(n){Tn(t,n)}}}function vd(n,t,e){let s,i;f(n,Dl,(n=>e(5,s=n))),f(n,Al,(n=>e(7,i=n)));let{ptk:l}=t,r=0;const o=n=>{if(!i)return;const t=i.toFolioPos(null==i?void 0:i.fromFolioPos(s).ckid,n);al.set(t[0]),Dl.set(t),e(0,r=n)};let c=0,a="";return n.$$set=n=>{"ptk"in n&&e(4,l=n.ptk)},n.$$.update=()=>{32&n.$$.dirty&&(()=>{const n=i;if(!n||!n.fromFolioPos)return;const t=n.fromFolioPos(s);if(!t||!t.ckid)return"";e(1,c=t.linecount||0);const r=parseInt(t.ckid).toString()==t.ckid?Bt(parseInt(t.ckid),"①"):(t.ckid||"")+".";e(2,a=r+l.caption(t.at))})()},[r,c,a,o,l,s,n=>o(n)]}class $d extends zn{constructor(n){super(),En(this,n,vd,md,o,{ptk:4})}}function kd(n,t,e){const s=n.slice();return s[13]=t[e],s}function bd(n){var t,e;let s,i,l,r,o,c,a,d,u=Po(n[3](n[13].ptk,null===(e=n[13].heading)||void 0===e||null===(t=e.bk)||void 0===t?void 0:t.at))+"",f=n[5](n[13].ptk)?"←":" ",h=Po(n[6](n[13].linetext))+"";function p(){return n[10](n[13])}return{c(){var t;s=N("div"),i=N("span"),l=T(u),r=S(),o=T(f),c=T(h),L(i,"aria-hidden","true"),L(i,"class","clickable author"),U(s,"selecteditem",(null===(t=n[13].heading)||void 0===t?void 0:t.bkid)==n[2])},m(n,t){_(n,s,t),q(s,i),q(i,l),q(i,r),q(i,o),q(s,c),a||(d=z(i,"click",p),a=!0)},p(t,e){var i,r,a;(n=t,2&e&&u!==(u=Po(n[3](n[13].ptk,null===(r=n[13].heading)||void 0===r||null===(i=r.bk)||void 0===i?void 0:i.at))+"")&&j(l,u),2&e&&f!==(f=n[5](n[13].ptk)?"←":" ")&&j(o,f),2&e&&h!==(h=Po(n[6](n[13].linetext))+"")&&j(c,h),6&e)&&U(s,"selecteditem",(null===(a=n[13].heading)||void 0===a?void 0:a.bkid)==n[2])},d(n){n&&I(s),a=!1,d()}}}function wd(n){var t,e;let s,i,l=!~(null===(e=n[13].heading)||void 0===e||null===(t=e.bkid)||void 0===t?void 0:t.indexOf("_variorum")),r=l&&bd(n);return{c(){r&&r.c(),s=S(),i=N("div"),L(i,"class","hr")},m(n,t){r&&r.m(n,t),_(n,s,t),_(n,i,t)},p(n,t){var e,i;2&t&&(l=!~(null===(i=n[13].heading)||void 0===i||null===(e=i.bkid)||void 0===e?void 0:e.indexOf("_variorum"))),l?r?r.p(n,t):(r=bd(n),r.c(),r.m(s.parentNode,s)):r&&(r.d(1),r=null)},d(n){n&&(I(s),I(i)),r&&r.d(n)}}}function yd(n){let t,e,s,i,l,r,o,c;e=new $d({props:{ptk:n[0]}});let a=qn(n[1]),d=[];for(let t=0;t<a.length;t+=1)d[t]=wd(kd(n,a,t));return o=new ec({}),{c(){t=N("div"),Pn(e.$$.fragment),s=S(),i=N("div"),l=S();for(let n=0;n<d.length;n+=1)d[n].c();r=S(),Pn(o.$$.fragment),L(i,"class","hr"),L(t,"class","bodytext")},m(n,a){_(n,t,a),Nn(e,t,null),q(t,s),q(t,i),q(t,l);for(let n=0;n<d.length;n+=1)d[n]&&d[n].m(t,null);q(t,r),Nn(o,t,null),c=!0},p(n,[s]){const i={};if(1&s&&(i.ptk=n[0]),e.$set(i),126&s){let e;for(a=qn(n[1]),e=0;e<a.length;e+=1){const i=kd(n,a,e);d[e]?d[e].p(i,s):(d[e]=wd(i),d[e].c(),d[e].m(t,r))}for(;e<d.length;e+=1)d[e].d(1);d.length=a.length}},i(n){c||(yn(e.$$.fragment,n),yn(o.$$.fragment,n),c=!0)},o(n){xn(e.$$.fragment,n),xn(o.$$.fragment,n),c=!1},d(n){n&&I(t),Tn(e),P(d,n),Tn(o)}}}function xd(n,t,e){let s,i,l,r;f(n,rl,(n=>e(8,s=n))),f(n,Dl,(n=>e(9,i=n))),f(n,Al,(n=>e(11,l=n))),f(n,dl,(n=>e(2,r=n)));let{closePopup:o=function(){}}=t,{ptk:c}=t,a=[];const d=(n,t)=>{const e=n.defines.pb,s=n.defines.folio;if(!e)return;const i=n.nearestTag(t,"pb"),l=n.nearestTag(t,"folio"),r=e.fields.id.values[i],c=s.fields.id.values[l];br(c,(()=>{il.set(n.name),al.set((parseInt(r)||1)-1),marktap(r,t)})),o()};return n.$$set=n=>{"closePopup"in n&&e(7,o=n.closePopup),"ptk"in n&&e(0,c=n.ptk)},n.$$.update=()=>{768&n.$$.dirty&&(async(n,t)=>{if(t)return[];const s=null==l?void 0:l.fromFolioPos(n);s&&e(1,a=await Fi(c,s.ptkline,null,{local:!0,remote:!1}))})(i,s)},[c,a,r,(n,t)=>{const e=n.defines.bk,s=e.linepos[t],i=n.defines.folio,l=ht(i.linepos,s+1)-1;return i.linepos[l]!==s?e._innertext.get(t):~l?i._innertext.get(l):e._innertext.get(t)},d,(n,t)=>n.nearestTag(t+1,"folio")>-1,n=>{const[t]=ct(n);return t},o,s,i,n=>d(n.ptk,n.line)]}class Ad extends zn{constructor(n){super(),En(this,n,xd,yd,o,{closePopup:7,ptk:0})}}function qd(n){let t,e,s,i,l=Po(n[10])+"";function r(){return n[5](n[11])}return{c(){t=N("span"),e=T(l),L(t,"aria-hidden","true"),L(t,"class","clickable"),U(t,"selected",n[9])},m(n,l){_(n,t,l),q(t,e),s||(i=z(t,"click",r),s=!0)},p(s,i){n=s,1024&i&&l!==(l=Po(n[10])+"")&&j(e,l),512&i&&U(t,"selected",n[9])},d(n){n&&I(t),s=!1,i()}}}function Cd(n){let t,e;return t=new pd({props:{onselect:n[2],pages:n[1],nextitems:2,now:n[0],$$slots:{default:[qd,({active:n,caption:t,idx:e})=>({9:n,10:t,11:e}),({active:n,caption:t,idx:e})=>(n?512:0)|(t?1024:0)|(e?2048:0)]},$$scope:{ctx:n}}}),{c(){Pn(t.$$.fragment)},m(n,s){Nn(t,n,s),e=!0},p(n,[e]){const s={};2&e&&(s.pages=n[1]),1&e&&(s.now=n[0]),7680&e&&(s.$$scope={dirty:e,ctx:n}),t.$set(s)},i(n){e||(yn(t.$$.fragment,n),e=!0)},o(n){xn(t.$$.fragment,n),e=!1},d(n){Tn(t,n)}}}function Od(n,t,e){let s,i,l;f(n,Dl,(n=>e(4,s=n))),f(n,dl,(n=>e(6,i=n))),f(n,Al,(n=>e(7,l=n)));let{ptk:r}=t,o=0;const c=[],a=n=>{const t=c[n].id,s=r.defines.ck.fields.id.values[t];((n,t,e,s=0)=>{const i=u(Al);if(0!==s){const i=n.defines.ck,[l,r]=n.rangeOfAddress("bk#"+t),[o,c]=n.rangeOfAddress("bk#"+t+".ck#"+e),a=n.nearestChunk(o+1).at+s,d=i.linepos[a];d<r&&d>=l&&(e=i.fields.id.values[a])}if(-1==i.chunks.indexOf(e)){const t=xr(n,u(dl),e);br(t,(()=>yr(e)))}else yr(e)})(r,Ml(i),s),e(0,o=n)};return n.$$set=n=>{"ptk"in n&&e(3,r=n.ptk)},n.$$.update=()=>{16&n.$$.dirty&&(()=>{const n=l;if(!n||!n.fromFolioPos)return;const{ckid:t}=n.fromFolioPos(s),a=Ml(i),[d,u]=r.rangeOfAddress("bk#"+a),[f,h]=r.tagInRange("ck",d,u),p=r.defines.ck;let g=0;e(1,c.length=0,c);const m=t;for(let n=f;n<=h;n++){const t=p.fields.id.values[n],s=parseInt(t)?Bt(parseInt(t),"①"):t+".";c.push({caption:s+p._innertext.get(n),idx:g,id:n,ckid:t}),t==m&&e(0,o=g),g++}})()},[o,c,a,r,s,n=>a(n)]}class _d extends zn{constructor(n){super(),En(this,n,Od,Cd,o,{ptk:3})}}function Id(n,t,e){const s=n.slice();return s[23]=t[e],s[25]=e,s}function Pd(n){let t,e,s;function i(t){n[15](t)}let l={max:n[4].length-2,min:0,$$slots:{caption:[Nd]},$$scope:{ctx:n}};return void 0!==n[3]&&(l.value=n[3]),t=new Nc({props:l}),sn.push((()=>In(t,"value",i))),t.$on("input",Mt(n[12],100)),{c(){Pn(t.$$.fragment)},m(n,e){Nn(t,n,e),s=!0},p(n,s){const i={};16&s&&(i.max=n[4].length-2),67108968&s&&(i.$$scope={dirty:s,ctx:n}),!e&&8&s&&(e=!0,i.value=n[3],dn((()=>e=!1))),t.$set(i)},i(n){s||(yn(t.$$.fragment,n),s=!0)},o(n){xn(t.$$.fragment,n),s=!1},d(n){Tn(t,n)}}}function Nd(n){let t,e,s,i,l,r=(n[5]+n[3][0]||0)+"";return{c(){t=N("span"),e=T("經"),s=T(r),i=T("/"),l=T(n[6]),L(t,"slot","caption"),B(t,"float","right")},m(n,r){_(n,t,r),q(t,e),q(t,s),q(t,i),q(t,l)},p(n,t){40&t&&r!==(r=(n[5]+n[3][0]||0)+"")&&j(s,r),64&t&&j(l,n[6])},d(n){n&&I(t)}}}function Td(n){let t,e,s,i=n[8](n[23])+"";function l(){return n[16](n[25])}return{c(){t=N("div"),L(t,"aria-hidden","true"),U(t,"activeline",n[7]==n[25])},m(n,r){_(n,t,r),t.innerHTML=i,e||(s=z(t,"click",l),e=!0)},p(e,s){n=e,4&s&&i!==(i=n[8](n[23])+"")&&(t.innerHTML=i),128&s&&U(t,"activeline",n[7]==n[25])},d(n){n&&I(t),e=!1,s()}}}function Sd(n){let t,e=qn(n[2]),s=[];for(let t=0;t<e.length;t+=1)s[t]=Td(Id(n,e,t));return{c(){for(let n=0;n<s.length;n+=1)s[n].c();t=E()},m(n,e){for(let t=0;t<s.length;t+=1)s[t]&&s[t].m(n,e);_(n,t,e)},p(n,i){if(902&i){let l;for(e=qn(n[2]),l=0;l<e.length;l+=1){const r=Id(n,e,l);s[l]?s[l].p(r,i):(s[l]=Td(r),s[l].c(),s[l].m(t.parentNode,t))}for(;l<s.length;l+=1)s[l].d(1);s.length=e.length}},d(n){n&&I(t),P(s,n)}}}function Ed(n){let t,e,s,i,r,c,a,d,u,f,h,p,g,m,v,$=n[7];c=new _d({props:{ptk:n[0]}});let k=n[4].length&&Pd(n),b=Sd(n);return p=new ec({}),{c(){t=N("div"),e=N("span"),e.textContent="↑",s=S(),i=N("span"),i.textContent="▃",r=S(),Pn(c.$$.fragment),a=S(),k&&k.c(),d=S(),u=N("hr"),f=S(),b.c(),h=S(),Pn(p.$$.fragment),L(e,"aria-hidden","true"),L(e,"class","clickable gotop"),L(i,"aria-hidden","true"),L(i,"class","clickable goactiveline"),L(t,"class","bodytext")},m(l,o){_(l,t,o),q(t,e),q(t,s),q(t,i),q(t,r),Nn(c,t,null),q(t,a),k&&k.m(t,null),q(t,d),q(t,u),q(t,f),b.m(t,null),q(t,h),Nn(p,t,null),g=!0,m||(v=[z(e,"click",n[11]),z(i,"click",n[10])],m=!0)},p(n,[e]){const s={};1&e&&(s.ptk=n[0]),c.$set(s),n[4].length?k?(k.p(n,e),16&e&&yn(k,1)):(k=Pd(n),k.c(),yn(k,1),k.m(t,d)):k&&(bn(),xn(k,1,1,(()=>{k=null})),wn()),128&e&&o($,$=n[7])?(b.d(1),b=Sd(n),b.c(),b.m(t,h)):b.p(n,e)},i(n){g||(yn(c.$$.fragment,n),yn(k),yn(p.$$.fragment,n),g=!0)},o(n){xn(c.$$.fragment,n),xn(k),xn(p.$$.fragment,n),g=!1},d(n){n&&I(t),Tn(c),k&&k.d(),b.d(n),Tn(p),m=!1,l(v)}}}function zd(n,t,e){let s,i,l;f(n,rl,(n=>e(13,i=n))),f(n,Dl,(n=>e(14,l=n)));let r,{ptk:o}=t,c=0,a=!1,d=[],h=[],p=[0,0],g=[],m=0,v=0;const $=()=>{g.length?(g.push(d.length-1),e(2,h=d.slice(g[0],g[1]))):e(2,h=d)},k=n=>{const t=u(Al);if(!t||!t.fromFolioPos)return;const[i,l,o]=t.toFolioPos(r,n);$r(i,r),a=!0,Dl.set([i,l,o]),e(7,s=n-c),Rt(rr())};return n.$$set=n=>{"ptk"in n&&e(0,o=n.ptk)},n.$$.update=()=>{24576&n.$$.dirty&&((n,t)=>{if(t)return;const i=u(Al);if(!i||!i.fromFolioPos)return;let l=0;const{ckid:o,lineoff:f}=i.fromFolioPos(n);if(a&&r==o)a=!1;else{e(4,g.length=0,g),d=[],e(1,c=0),d=i.chunkText(o).split("\n"),e(5,m=0),e(6,v=0);for(let n=0;n<d.length;n++){const t=d[n].match(/\^n(\d+)/);if(t){const s=parseInt(t[1]);0==m&&s&&e(5,m=s),e(6,v=s),n<f&&(l=g.length),g.push(n)}}if(l!==p[0]&&e(3,p[0]=l,p),e(7,s=f-g[l]),$(),r==o){const n=p[0];e(2,h=d.slice(g[n],g[n+1])),e(1,c=g[n]||0)}else e(3,p[0]=0,p),e(1,c=g[0]||0);r=o}})(l,i)},e(7,s=0),[o,c,h,p,g,m,v,s,n=>Po(n.replace(/\^[a-z_]#?[a-z\d]*/g,"")),k,()=>{const n=document.querySelector(".bodytext .activeline");n&&(n.parentElement.parentElement.parentElement.scrollTop=n.offsetTop)},()=>{const n=document.querySelector(".bodytext .activeline");n&&(n.parentElement.parentElement.parentElement.scrollTop=0)},n=>{const t=n.detail[0];e(2,h=d.slice(g[t],g[t+1])),e(1,c=g[t]),e(7,s=0)},i,l,function(n){p=n,e(3,p)},n=>k(c+n)]}class Ld extends zn{constructor(n){super(),En(this,n,zd,Ed,o,{ptk:0})}}function Md(n,t,e){const s=n.slice();return s[7]=t[e],s}function jd(n){let t,e,s,i,l=Po(n[2](n[7].linetext))+"";return{c(){t=N("div"),e=T(l),s=S(),i=N("div"),L(i,"class","hr")},m(n,l){_(n,t,l),q(t,e),_(n,s,l),_(n,i,l)},p(n,t){2&t&&l!==(l=Po(n[2](n[7].linetext))+"")&&j(e,l)},d(n){n&&(I(t),I(s),I(i))}}}function Fd(n){let t,e,s,i,l,r;e=new $d({props:{ptk:n[0]}});let o=qn(n[1]),c=[];for(let t=0;t<o.length;t+=1)c[t]=jd(Md(n,o,t));return l=new ec({}),{c(){t=N("div"),Pn(e.$$.fragment),s=S();for(let n=0;n<c.length;n+=1)c[n].c();i=S(),Pn(l.$$.fragment),L(t,"class","bodytext")},m(n,o){_(n,t,o),Nn(e,t,null),q(t,s);for(let n=0;n<c.length;n+=1)c[n]&&c[n].m(t,null);q(t,i),Nn(l,t,null),r=!0},p(n,[s]){const l={};if(1&s&&(l.ptk=n[0]),e.$set(l),6&s){let e;for(o=qn(n[1]),e=0;e<o.length;e+=1){const l=Md(n,o,e);c[e]?c[e].p(l,s):(c[e]=jd(l),c[e].c(),c[e].m(t,i))}for(;e<c.length;e+=1)c[e].d(1);c.length=o.length}},i(n){r||(yn(e.$$.fragment,n),yn(l.$$.fragment,n),r=!0)},o(n){xn(e.$$.fragment,n),xn(l.$$.fragment,n),r=!1},d(n){n&&I(t),Tn(e),P(c,n),Tn(l)}}}function Bd(n,t,e){let s,i,l;f(n,rl,(n=>e(3,s=n))),f(n,Dl,(n=>e(4,i=n))),f(n,Al,(n=>e(5,l=n)));let{ptk:r}=t,o=[];return n.$$set=n=>{"ptk"in n&&e(0,r=n.ptk)},n.$$.update=()=>{24&n.$$.dirty&&(async(n,t)=>{if(t)return;const s=null==l?void 0:l.fromFolioPos(i);s&&e(1,o=await Fi(r,s.ptkline,null,{remote:!0,local:!1}))})(0,s)},[r,o,n=>{const[t]=ct(n);return t},s,i]}class Rd extends zn{constructor(n){super(),En(this,n,Bd,Fd,o,{ptk:0})}}function Hd(n){let t,e,s,i,l,r,o,c,a,d=Po(n[0])+"";return e=new $d({props:{ptk:Js("dc")}}),r=new $d({props:{ptk:Js("dc")}}),c=new ec({}),{c(){t=N("div"),Pn(e.$$.fragment),s=S(),i=new D(!1),l=S(),Pn(r.$$.fragment),o=S(),Pn(c.$$.fragment),i.a=l,L(t,"class","bodytext")},m(n,u){_(n,t,u),Nn(e,t,null),q(t,s),i.m(d,t),q(t,l),Nn(r,t,null),q(t,o),Nn(c,t,null),a=!0},p(n,[t]){(!a||1&t)&&d!==(d=Po(n[0])+"")&&i.p(d)},i(n){a||(yn(e.$$.fragment,n),yn(r.$$.fragment,n),yn(c.$$.fragment,n),a=!0)},o(n){xn(e.$$.fragment,n),xn(r.$$.fragment,n),xn(c.$$.fragment,n),a=!1},d(n){n&&I(t),Tn(e),Tn(r),Tn(c)}}}function Ud(n,t,e){let s;f(n,rl,(n=>e(1,s=n)));let i="";return n.$$.update=()=>{2&n.$$.dirty&&(async(n,t)=>{const s=Js("dc"),l=s.defines.r;if(!l||t)return;const r=He(n),o=Re(r.action,!0);if(!o)return;const c=o.ck+":"+r.highlightline;let a=l.fields.id.values.indexOf(c);if(~a){const n=l.linepos[a];let t=l.linepos[a+1];for(a++;t==n;)a++,t=l.linepos[a];await s.loadLines([[n,t+1]]);const r=s.slice(n,t+1);r[r.length-1].indexOf("^ck")&&r.pop(),r.length&&(r[0]='<div class="sourcetext">'+r[0].replace(/\^r(\d+):/g,((n,t)=>Bt(t)))+"</div>"),e(0,i=r.join("<br/>"))}})(rr(),s)},[i,s]}class Wd extends zn{constructor(n){super(),En(this,n,Ud,Hd,o,{})}}function Dd(n,t,e){const s=n.slice();return s[6]=t[e],s}function Kd(n){let t,e,s,i,r,o=n[6]+"";function c(){return n[4](n[6])}function a(){return n[5](n[6])}return{c(){t=N("span"),e=T(o),s=N("span"),s.textContent="✕",L(t,"aria-hidden","true"),L(t,"class","clickable"),L(s,"aria-hidden","true"),L(s,"class","delete clickable")},m(n,l){_(n,t,l),q(t,e),_(n,s,l),i||(r=[z(t,"click",c),z(s,"click",a)],i=!0)},p(t,s){n=t,2&s&&o!==(o=n[6]+"")&&j(e,o)},d(n){n&&(I(t),I(s)),i=!1,l(r)}}}function Jd(t){let e,s=qn(t[1]),i=[];for(let n=0;n<s.length;n+=1)i[n]=Kd(Dd(t,s,n));return{c(){e=N("div");for(let n=0;n<i.length;n+=1)i[n].c();L(e,"class","bodytext")},m(n,t){_(n,e,t);for(let n=0;n<i.length;n+=1)i[n]&&i[n].m(e,null)},p(n,[t]){if(3&t){let l;for(s=qn(n[1]),l=0;l<s.length;l+=1){const r=Dd(n,s,l);i[l]?i[l].p(r,t):(i[l]=Kd(r),i[l].c(),i[l].m(e,null))}for(;l<i.length;l+=1)i[l].d(1);i.length=s.length}},i:n,o:n,d(n){n&&I(e),P(i,n)}}}function Yd(n,t,e){let s,i,l;f(n,ql,(n=>e(2,i=n))),f(n,Cl,(n=>e(3,l=n)));const r=n=>{ql.set(n)};return n.$$.update=()=>{8&n.$$.dirty&&e(1,s=l.slice(0,l.length)),4&n.$$.dirty&&console.log("tofind",i)},[r,s,i,l,n=>r(n),n=>pr(n)]}class Qd extends zn{get setTofind(){return this.$$.ctx[0]}constructor(n){super(),En(this,n,Yd,Jd,o,{setTofind:0})}}function Vd(t){let e,s,i,l,r,o,c,a,d,u,f,h,p,g,m,v,$,k,b,w,y,x,A,C,O,P,E,z,M,j,F,B,R,H,U,W,D,K=Po("點圖片任何一字，將短句帶入候選區，預設前三個字為關鍵字。")+"",J=Po("點紅色背景的字，分享該段經文。")+"",Y=Po("♡書籤。閃爍時再點擊改變顏色，不閃爍時再點取消。")+"",Q=Po("點候選區改變關鍵的長度，同個位置再點一次，貼到輸入區。")+"",V=Po("候選區與輸入區文字相同，再點候選區清除輸入區。")+"",X=Po("搜尋結果：")+"",G=Po("搜尋分頁為開頭為→的行，可以左右滑動翻頁，點擊翻下一頁。")+"",Z=Po("部類名右邊的紅色數字表示關鍵字出現次數，點擊顯示所有摘要行。")+"",nn=Po("點部類名統計標題內關鍵字出現次數，點出現次數顯示該章節內之摘要行。")+"",tn=Po("輸入時會顯示開頭符合、結尾符合或中間符合的推薦詞，點一下帶入候選區。")+"",en=Po("從搜尋結果跳轉到本文，搜尋文字會加入記憶，最多二十組，超過刪去最初的記憶。按旁邊的紅色叉可刪除。")+"";return e=new Qd({}),{c(){Pn(e.$$.fragment),s=S(),i=N("hr"),l=S(),r=N("div"),o=T(K),c=S(),a=N("br"),d=T(J),u=S(),f=N("br"),h=T(Y),p=S(),g=N("br"),m=T(Q),v=S(),$=N("br"),k=T(V),b=S(),w=N("br"),y=T(X),x=S(),A=N("br"),C=T(G),O=S(),P=N("br"),E=T(Z),z=S(),M=N("br"),j=T(nn),F=S(),B=N("br"),R=T(tn),H=S(),U=N("br"),W=T(en),L(r,"class","bodytext")},m(n,t){Nn(e,n,t),_(n,s,t),_(n,i,t),_(n,l,t),_(n,r,t),q(r,o),q(r,c),q(r,a),q(r,d),q(r,u),q(r,f),q(r,h),q(r,p),q(r,g),q(r,m),q(r,v),q(r,$),q(r,k),q(r,b),q(r,w),q(r,y),q(r,x),q(r,A),q(r,C),q(r,O),q(r,P),q(r,E),q(r,z),q(r,M),q(r,j),q(r,F),q(r,B),q(r,R),q(r,H),q(r,U),q(r,W),D=!0},p:n,i(n){D||(yn(e.$$.fragment,n),D=!0)},o(n){xn(e.$$.fragment,n),D=!1},d(n){n&&(I(s),I(i),I(l),I(r)),Tn(e,n)}}}class Xd extends zn{constructor(n){super(),En(this,n,null,Vd,o,{})}}const Gd=(n,t)=>{const e=t||Fl(),s=e.nearestTag(n+1,"bk","id"),i=e.nearestTag(n+1,"ck","id"),l=e.nearestTag(n+1,"n","id");if(void 0===s||void 0===i||void 0===l)return"";const r="bk#"+s+".ck#"+i+".n"+l,[o]=e.rangeOfAddress(r);return n-o>0?r+":"+(n-o):r},Zd=n=>{const t=Fl();let e="";const[s]=t.rangeOfAddress(n),i=t.nearestChunk(s);return e+=(null==i?void 0:i.caption.replace(/\d+$/g,""))||"",e},nu=n=>{const t=n.match(/ak#([dmsa])n\.ck#([^\.]+)(.*)/);if(!t)return"";let e="";const s=t[2].replace(/[dmsa]/,""),i=t[3].replace(".n","");return"d"==t[1]?e="長部"+s+"經":"m"==t[1]?e="中部"+s+"經":"s"==t[1]?e=s+"相應"+i+"經":"a"==t[1]&&(e="增支"+s+"集"+i+"經"),e};function tu(n){let t,e,s,i,l;const r=n[5].default,o=h(r,n,n[4],null);return{c(){t=N("span"),o&&o.c(),L(t,"class",e=n[1]+(n[3]?" clicked":"")),L(t,"title",n[2]),L(t,"aria-hidden","true")},m(e,r){_(e,t,r),o&&o.m(t,null),s=!0,i||(l=z(t,"click",n[6]),i=!0)},p(n,[i]){o&&o.p&&(!s||16&i)&&m(o,r,n,n[4],s?g(r,n[4],i,null):v(n[4]),null),(!s||10&i&&e!==(e=n[1]+(n[3]?" clicked":"")))&&L(t,"class",e),(!s||4&i)&&L(t,"title",n[2])},i(n){s||(yn(o,n),s=!0)},o(n){xn(o,n),s=!1},d(n){n&&I(t),o&&o.d(n),i=!1,l()}}}function eu(n,t,e){let{$$slots:s={},$$scope:i}=t,{onclick:l=()=>{}}=t,{className:r="clickable"}=t,{title:o=""}=t,{clicked:c=!1}=t;return n.$$set=n=>{"onclick"in n&&e(0,l=n.onclick),"className"in n&&e(1,r=n.className),"title"in n&&e(2,o=n.title),"clicked"in n&&e(3,c=n.clicked),"$$scope"in n&&e(4,i=n.$$scope)},[l,r,o,c,i,s,()=>l()]}class su extends zn{constructor(n){super(),En(this,n,eu,tu,o,{onclick:0,className:1,title:2,clicked:3})}}function iu(n,t,e){const s=n.slice();return s[12]=t[e],s[14]=e,s}const lu=n=>({tk:2&n}),ru=n=>({tk:n[12]});function ou(n){let t;const e=n[7].default,s=h(e,n,n[11],ru),i=s||function(n){let t,e=n[12].text+"";return{c(){t=T(e)},m(n,e){_(n,t,e)},p(n,s){2&s&&e!==(e=n[12].text+"")&&j(t,e)},d(n){n&&I(t)}}}(n);return{c(){i&&i.c()},m(n,e){i&&i.m(n,e),t=!0},p(n,l){s?s.p&&(!t||2050&l)&&m(s,e,n,n[11],t?g(e,n[11],l,lu):v(n[11]),ru):i&&i.p&&(!t||2&l)&&i.p(n,t?l:-1)},i(n){t||(yn(i,n),t=!0)},o(n){xn(i,n),t=!1},d(n){i&&i.d(n)}}}function cu(n){let t,e,s,i,l=n[12][1]&&n[12][0]>10&&au(n);e=new su({props:{className:"abridged",onclick:function(){return n[9](n[14])},$$slots:{default:[uu]},$$scope:{ctx:n}}});let r=!n[12][2]&&fu(n);return{c(){l&&l.c(),t=E(),Pn(e.$$.fragment),r&&r.c(),s=E()},m(n,o){l&&l.m(n,o),_(n,t,o),Nn(e,n,o),r&&r.m(n,o),_(n,s,o),i=!0},p(i,o){(n=i)[12][1]&&n[12][0]>10?l?(l.p(n,o),2&o&&yn(l,1)):(l=au(n),l.c(),yn(l,1),l.m(t.parentNode,t)):l&&(bn(),xn(l,1,1,(()=>{l=null})),wn());const c={};2050&o&&(c.$$scope={dirty:o,ctx:n}),e.$set(c),n[12][2]?r&&(bn(),xn(r,1,1,(()=>{r=null})),wn()):r?(r.p(n,o),2&o&&yn(r,1)):(r=fu(n),r.c(),yn(r,1),r.m(s.parentNode,s))},i(n){i||(yn(l),yn(e.$$.fragment,n),yn(r),i=!0)},o(n){xn(l),xn(e.$$.fragment,n),xn(r),i=!1},d(n){n&&(I(t),I(s)),l&&l.d(n),Tn(e,n),r&&r.d(n)}}}function au(n){let t,e;return t=new su({props:{onclick:function(){return n[8](n[14])},$$slots:{default:[du]},$$scope:{ctx:n}}}),{c(){Pn(t.$$.fragment)},m(n,s){Nn(t,n,s),e=!0},p(e,s){n=e;const i={};2048&s&&(i.$$scope={dirty:s,ctx:n}),t.$set(i)},i(n){e||(yn(t.$$.fragment,n),e=!0)},o(n){xn(t.$$.fragment,n),e=!1},d(n){Tn(t,n)}}}function du(n){let t;return{c(){t=T("…")},m(n,e){_(n,t,e)},d(n){n&&I(t)}}}function uu(n){let t,e=n[12][0]+"";return{c(){t=T(e)},m(n,e){_(n,t,e)},p(n,s){2&s&&e!==(e=n[12][0]+"")&&j(t,e)},d(n){n&&I(t)}}}function fu(n){let t,e;return t=new su({props:{onclick:function(){return n[10](n[14])},$$slots:{default:[hu]},$$scope:{ctx:n}}}),{c(){Pn(t.$$.fragment)},m(n,s){Nn(t,n,s),e=!0},p(e,s){n=e;const i={};2048&s&&(i.$$scope={dirty:s,ctx:n}),t.$set(i)},i(n){e||(yn(t.$$.fragment,n),e=!0)},o(n){xn(t.$$.fragment,n),e=!1},d(n){Tn(t,n)}}}function hu(n){let t;return{c(){t=T("…")},m(n,e){_(n,t,e)},d(n){n&&I(t)}}}function pu(n){let t,e,s,i,l;const r=[cu,ou],o=[];function c(n,e){return 2&e&&(t=null),null==t&&(t=!!Array.isArray(n[12])),t?0:1}return e=c(n,-1),s=o[e]=r[e](n),{c(){s.c(),i=E()},m(n,t){o[e].m(n,t),_(n,i,t),l=!0},p(n,t){let l=e;e=c(n,t),e===l?o[e].p(n,t):(bn(),xn(o[l],1,1,(()=>{o[l]=null})),wn(),s=o[e],s?s.p(n,t):(s=o[e]=r[e](n),s.c()),yn(s,1),s.m(i.parentNode,i))},i(n){l||(yn(s),l=!0)},o(n){xn(s),l=!1},d(n){n&&I(i),o[e].d(n)}}}function gu(n){let t,e,s=qn(n[1]),i=[];for(let t=0;t<s.length;t+=1)i[t]=pu(iu(n,s,t));const l=n=>xn(i[n],1,1,(()=>{i[n]=null}));return{c(){for(let n=0;n<i.length;n+=1)i[n].c();t=E()},m(n,s){for(let t=0;t<i.length;t+=1)i[t]&&i[t].m(n,s);_(n,t,s),e=!0},p(n,e){if(2054&e){let r;for(s=qn(n[1]),r=0;r<s.length;r+=1){const l=iu(n,s,r);i[r]?(i[r].p(l,e),yn(i[r],1)):(i[r]=pu(l),i[r].c(),yn(i[r],1),i[r].m(t.parentNode,t))}for(bn(),r=s.length;r<i.length;r+=1)l(r);wn()}},i(n){if(!e){for(let n=0;n<s.length;n+=1)yn(i[n]);e=!0}},o(n){i=i.filter(Boolean);for(let n=0;n<i.length;n+=1)xn(i[n]);e=!1},d(n){n&&I(t),P(i,n)}}}function mu(t){let e,s,i=t[0],l=gu(t);return{c(){l.c(),e=E()},m(n,t){l.m(n,t),_(n,e,t),s=!0},p(t,[s]){1&s&&o(i,i=t[0])?(bn(),xn(l,1,1,n),wn(),l=gu(t),l.c(),yn(l,1),l.m(e.parentNode,e)):l.p(t,s)},i(n){s||(yn(l),s=!0)},o(n){xn(l),s=!1},d(n){n&&I(e),l.d(n)}}}function vu(n,t,e){let s,i,{$$slots:l={},$$scope:r}=t,{hits:o=[]}=t;o.length||(o=[0]);let{phraselength:c=[5]}=t,{text:a=""}=t,d=1;const u=(n,t=0)=>{const l=s,[r,o]=i[n],c=o+(-1==t?r:0);let a=c;if(-1==t){for(;a>0&&(l[a].token.type>=nt.SEARCHABLE||c-a<8);)a--;for(let n=a;n<c;n++)l[n].luminate++}else if(1==t){for(;a<l.length&&(l[a].token.type>=nt.SEARCHABLE||a-c<8);)a++;for(let n=c;n<a;n++)l[n].luminate++}else for(let n=o;n<o+r;n++)l[n].luminate++;e(0,d++,d)};return n.$$set=n=>{"hits"in n&&e(3,o=n.hits),"phraselength"in n&&e(4,c=n.phraselength),"text"in n&&e(5,a=n.text),"$$scope"in n&&e(11,r=n.$$scope)},n.$$.update=()=>{56&n.$$.dirty&&e(6,[s]=((n="",t={})=>{const e=t.extra||[],s=t.hits||[],i=t.phraselength||[],l=new dt(n,t.line||0);let r=0;const o=et(l.plain).map(((n,t)=>(r++,new $e(n,t,l,r)))),c=[];let a=0,d=0;for(let n=0;n<l.tags.length;n++){const t=l.tags[n],e=t.width?t.width:1;for(let s=t.choff;s<t.choff+e;s++)c[s]||(c[s]=[]),c[s].push(n)}for(let n=0;n<o.length;n++){const t=o[n];if(t.tags=c[t.token.choff]||[],e.length&&d<e.length&&t.choff==e[d].choff&&(t.extra=e[d],d++),s&&s.length&&a<s.length&&(t.postingoffset>=s[a]&&t.postingoffset<s[a]+i[a]&&t.token.type>=nt.SEARCHABLE&&(t.highlight=!0),s[a]+i[a]<=t.postingoffset&&a++,t.highlight)){t.luminate++;let e=n+1;for(;e<o.length&&(o[e].token.type>=nt.SEARCHABLE||e-n<8);)e++,e<o.length&&o[e].luminate++;for(e=n-1;e>0&&(o[e].token.type>=nt.SEARCHABLE||n-e<8);)e--,e>=0&&o[e].luminate++}const l=Jn(t.text);if(t.hide||t.tags.length&&l){t.hide=!0;const e=ke(o,l,n+1);e&&(e.hide=!0)}}return[o,l]})(a,{hits:o,phraselength:c}),s),65&n.$$.dirty&&e(1,i=((n,t=10)=>{const e=[];let s=[];const i=(t=!1)=>{if(s.length>8)e.push([s.length,s[0],t]);else for(let t=0;t<s.length;t++)e.push(n[s[t]]);s=[]};if(n.length<t)return n;for(let t=0;t<n.length;t++){const l=n[t];l.luminate?(i(),e.push(l)):s.push(t)}return i(!0),e})(s,20))},[d,i,u,o,c,a,s,l,n=>u(n,1),n=>u(n),n=>u(n,-1),r]}class $u extends zn{constructor(n){super(),En(this,n,vu,mu,o,{hits:3,phraselength:4,text:5})}}function ku(n){let t,e=n[6].text+"";return{c(){t=T(e)},m(n,e){_(n,t,e)},p(n,s){64&s&&e!==(e=n[6].text+"")&&j(t,e)},d(n){n&&I(t)}}}function bu(n){let t,e,s,i,l=n[6].text+"";function r(){return n[5](n[6])}return{c(){t=N("span"),e=T(l),L(t,"aria-hidden","true"),L(t,"class","clickable hl0")},m(n,l){_(n,t,l),q(t,e),s||(i=z(t,"click",r),s=!0)},p(t,s){n=t,64&s&&l!==(l=n[6].text+"")&&j(e,l)},d(n){n&&I(t),s=!1,i()}}}function wu(n){let t;function e(n,t){return n[6].highlight?bu:ku}let s=e(n),i=s(n);return{c(){i.c(),t=E()},m(n,e){i.m(n,e),_(n,t,e)},p(n,l){s===(s=e(n))&&i?i.p(n,l):(i.d(1),i=s(n),i&&(i.c(),i.m(t.parentNode,t)))},d(n){n&&I(t),i.d(n)}}}function yu(n){let t,e;return t=new $u({props:{phraselength:n[3],text:n[0],hits:n[2],$$slots:{default:[wu,({tk:n})=>({6:n}),({tk:n})=>n?64:0]},$$scope:{ctx:n}}}),{c(){Pn(t.$$.fragment)},m(n,s){Nn(t,n,s),e=!0},p(n,[e]){const s={};8&e&&(s.phraselength=n[3]),1&e&&(s.text=n[0]),4&e&&(s.hits=n[2]),210&e&&(s.$$scope={dirty:e,ctx:n}),t.$set(s)},i(n){e||(yn(t.$$.fragment,n),e=!0)},o(n){xn(t.$$.fragment,n),e=!1},d(n){Tn(t,n)}}}function xu(n,t,e){let{linetext:s=""}=t,{line:i=0}=t,{hits:l=[]}=t,{phraselength:r=[]}=t,{gochar:o=function(n){}}=t;return n.$$set=n=>{"linetext"in n&&e(0,s=n.linetext),"line"in n&&e(1,i=n.line),"hits"in n&&e(2,l=n.hits),"phraselength"in n&&e(3,r=n.phraselength),"gochar"in n&&e(4,o=n.gochar)},[s,i,l,r,o,n=>o(i,n.choff)]}class Au extends zn{constructor(n){super(),En(this,n,xu,yu,o,{linetext:0,line:1,hits:2,phraselength:3,gochar:4})}}function qu(n,t,e){const s=n.slice();return s[32]=t[e],s[34]=e,s}function Cu(n,t,e){const s=n.slice();return s[35]=t[e],s[34]=e,s}function Ou(n,t,e){const s=n.slice();return s[39]=t[e],s[34]=e,s}function _u(n){let t,e,s,i,r,o,c=Po(n[39].caption)+"",a="("+n[39].count+")";function d(){return n[19](n[34])}function u(){return n[20](n[34])}return{c(){t=N("span"),e=T(c),s=N("span"),i=T(a),L(t,"aria-hidden","true"),L(t,"class","clickable scopebtn"),U(t,"selected",2*n[34]==n[5]),L(s,"aria-hidden","true"),L(s,"class","clickable hitbtn"),U(s,"selected",1+2*n[34]==n[5])},m(n,l){_(n,t,l),q(t,e),_(n,s,l),q(s,i),r||(o=[z(t,"click",d),z(s,"click",u)],r=!0)},p(l,r){n=l,8&r[0]&&c!==(c=Po(n[39].caption)+"")&&j(e,c),32&r[0]&&U(t,"selected",2*n[34]==n[5]),8&r[0]&&a!==(a="("+n[39].count+")")&&j(i,a),32&r[0]&&U(s,"selected",1+2*n[34]==n[5])},d(n){n&&(I(t),I(s)),r=!1,l(o)}}}function Iu(n){let t,e,s,i,l=Po(n[37])+"";function r(){return n[21](n[34])}return{c(){t=N("span"),e=T(l),L(t,"aria-hidden","true"),L(t,"class","clickable"),U(t,"selected",n[38])},m(n,l){_(n,t,l),q(t,e),s||(i=z(t,"click",r),s=!0)},p(s,i){n=s,64&i[1]&&l!==(l=Po(n[37])+"")&&j(e,l),128&i[1]&&U(t,"selected",n[38])},d(n){n&&I(t),s=!1,i()}}}function Pu(n){let t,s,i,l,r,o,c,a,d,u,f,h=n[34]+n[2]*zu+1+"",p=Zd(Gd(n[35].line))+"";const g=[{gochar:n[14]},n[35]];let m={};for(let n=0;n<g.length;n+=1)m=e(m,g[n]);function v(){return n[23](n[34])}return l=new Au({props:m}),{c(){t=N("div"),s=N("span"),i=T(h),Pn(l.$$.fragment),r=S(),o=N("span"),c=T(p),a=S(),L(s,"class","excerptseq"),L(o,"class","clickable ck"),L(o,"aria-hidden","true"),U(o,"selected",n[6]==n[34]+n[2]*zu),L(t,"class","excerptline"),U(t,"oddline",n[34]%2==0)},m(n,e){_(n,t,e),q(t,s),q(s,i),Nn(l,t,null),q(t,r),q(t,o),q(o,c),q(t,a),d=!0,u||(f=z(o,"click",v),u=!0)},p(t,e){n=t,(!d||4&e[0])&&h!==(h=n[34]+n[2]*zu+1+"")&&j(i,h);const s=16385&e[0]?Cn(g,[16384&e[0]&&{gochar:n[14]},1&e[0]&&On(n[35])]):{};l.$set(s),(!d||1&e[0])&&p!==(p=Zd(Gd(n[35].line))+"")&&j(c,p),(!d||68&e[0])&&U(o,"selected",n[6]==n[34]+n[2]*zu)},i(n){d||(yn(l.$$.fragment,n),d=!0)},o(n){xn(l.$$.fragment,n),d=!1},d(n){n&&I(t),Tn(l),u=!1,f()}}}function Nu(n){let t,e,s=qn(n[0]),i=[];for(let t=0;t<s.length;t+=1)i[t]=Pu(Cu(n,s,t));const l=n=>xn(i[n],1,1,(()=>{i[n]=null}));return{c(){for(let n=0;n<i.length;n+=1)i[n].c();t=E()},m(n,s){for(let t=0;t<i.length;t+=1)i[t]&&i[t].m(n,s);_(n,t,s),e=!0},p(n,e){if(20549&e[0]){let r;for(s=qn(n[0]),r=0;r<s.length;r+=1){const l=Cu(n,s,r);i[r]?(i[r].p(l,e),yn(i[r],1)):(i[r]=Pu(l),i[r].c(),yn(i[r],1),i[r].m(t.parentNode,t))}for(bn(),r=s.length;r<i.length;r+=1)l(r);wn()}},i(n){if(!e){for(let n=0;n<s.length;n+=1)yn(i[n]);e=!0}},o(n){i=i.filter(Boolean);for(let n=0;n<i.length;n+=1)xn(i[n]);e=!1},d(n){n&&I(t),P(i,n)}}}function Tu(n){var t;let e,s,i,r,o,c,a,d,u,f,h,p,g=n[34]+n[2]*zu+1+"",m=Po(null===(t=n[32].ck.bk)||void 0===t?void 0:t.caption)+"",v=Po(n[32].ck.caption)+"",$=" "+n[32].hits;function k(){return n[24](n[34])}function b(){return n[25](n[32])}return{c(){e=N("div"),s=N("span"),i=T(g),r=S(),o=T(m),c=T("/"),a=T(v),d=S(),u=N("span"),f=T($),L(s,"aria-hidden","true"),L(s,"class","excerptseq clickable"),U(s,"selected",n[6]==n[34]),L(u,"aria-hidden","true"),L(u,"class","clickable hit"),L(e,"class","excerptline"),U(e,"oddline",n[34]%2==0)},m(n,t){_(n,e,t),q(e,s),q(s,i),q(s,r),q(s,o),q(s,c),q(s,a),q(e,d),q(e,u),q(u,f),h||(p=[z(s,"click",k),z(u,"click",b)],h=!0)},p(t,e){var l;n=t,4&e[0]&&g!==(g=n[34]+n[2]*zu+1+"")&&j(i,g),2&e[0]&&m!==(m=Po(null===(l=n[32].ck.bk)||void 0===l?void 0:l.caption)+"")&&j(o,m),2&e[0]&&v!==(v=Po(n[32].ck.caption)+"")&&j(a,v),64&e[0]&&U(s,"selected",n[6]==n[34]),2&e[0]&&$!==($=" "+n[32].hits)&&j(f,$)},d(n){n&&I(e),h=!1,l(p)}}}function Su(n){let t,e=qn(n[1]),s=[];for(let t=0;t<e.length;t+=1)s[t]=Tu(qu(n,e,t));return{c(){for(let n=0;n<s.length;n+=1)s[n].c();t=E()},m(n,e){for(let t=0;t<s.length;t+=1)s[t]&&s[t].m(n,e);_(n,t,e)},p(n,i){if(10310&i[0]){let l;for(e=qn(n[1]),l=0;l<e.length;l+=1){const r=qu(n,e,l);s[l]?s[l].p(r,i):(s[l]=Tu(r),s[l].c(),s[l].m(t.parentNode,t))}for(;l<s.length;l+=1)s[l].d(1);s.length=e.length}},d(n){n&&I(t),P(s,n)}}}function Eu(n){let t,e,s,i,l,r,o,c,a,d,u=qn(n[3]),f=[];for(let t=0;t<u.length;t+=1)f[t]=_u(Ou(n,u,t));function h(t){n[22](t)}let p={caption:n[7],count:n[4],onselect:n[10],$$slots:{default:[Iu,({idx:n,caption:t,active:e})=>({34:n,37:t,38:e}),({idx:n,caption:t,active:e})=>[0,(n?8:0)|(t?64:0)|(e?128:0)]]},$$scope:{ctx:n}};return void 0!==n[2]&&(p.now=n[2]),i=new pd({props:p}),sn.push((()=>In(i,"now",h))),o=new nd({props:{onSwipe:n[15],reverse:"1"==n[8],$$slots:{default:[Nu]},$$scope:{ctx:n}}}),a=new nd({props:{onSwipe:n[15],reverse:"1"==n[8],$$slots:{default:[Su]},$$scope:{ctx:n}}}),{c(){t=N("div");for(let n=0;n<f.length;n+=1)f[n].c();e=S(),s=N("div"),Pn(i.$$.fragment),r=S(),Pn(o.$$.fragment),c=S(),Pn(a.$$.fragment),L(s,"class","pager"),L(t,"class","bodytextarea")},m(n,l){_(n,t,l);for(let n=0;n<f.length;n+=1)f[n]&&f[n].m(t,null);q(t,e),q(t,s),Nn(i,s,null),q(t,r),Nn(o,t,null),q(t,c),Nn(a,t,null),d=!0},p(n,s){if(552&s[0]){let i;for(u=qn(n[3]),i=0;i<u.length;i+=1){const l=Ou(n,u,i);f[i]?f[i].p(l,s):(f[i]=_u(l),f[i].c(),f[i].m(t,e))}for(;i<f.length;i+=1)f[i].d(1);f.length=u.length}const r={};128&s[0]&&(r.caption=n[7]),16&s[0]&&(r.count=n[4]),1224&s[1]&&(r.$$scope={dirty:s,ctx:n}),!l&&4&s[0]&&(l=!0,r.now=n[2],dn((()=>l=!1))),i.$set(r);const c={};256&s[0]&&(c.reverse="1"==n[8]),69&s[0]|1024&s[1]&&(c.$$scope={dirty:s,ctx:n}),o.$set(c);const d={};256&s[0]&&(d.reverse="1"==n[8]),70&s[0]|1024&s[1]&&(d.$$scope={dirty:s,ctx:n}),a.$set(d)},i(n){d||(yn(i.$$.fragment,n),yn(o.$$.fragment,n),yn(a.$$.fragment,n),d=!0)},o(n){xn(i.$$.fragment,n),xn(o.$$.fragment,n),xn(a.$$.fragment,n),d=!1},d(n){n&&I(t),P(f,n),Tn(i),Tn(o),Tn(a)}}}const zu=5;function Lu(n,t,e){let s,i,l,r;f(n,il,(n=>e(17,i=n))),f(n,ql,(n=>e(18,l=n))),f(n,Gl,(n=>e(8,r=n)));let{goLine:o}=t,c=[],a=[],d=[],u=[],h=0,p=[],g=0,m=0,v=-1,$="";const k=async(n,t)=>{var i;const r=Math.floor(n/2);if(e(4,g=0),!(null===(i=p[r])||void 0===i?void 0:i.count))return;e(5,m=n),t||e(7,$="");const{lines:o,chunks:a,phrases:u,postings:f}=await(async(n,t,e={})=>{var s;if(!n)return{};const i=null===(s=n.inverted)||void 0===s?void 0:s.tokenlinepos;if(!i)return{};let l=0,r=0;if(e.range){const[t,s]=n.rangeOfAddress(e.range);l=i[t],r=i[s]}else l=i[0],r=i[n.header.eot];const[o,c]=await n.parseQuery(t,{tosim:"zh"==n.attributes.lang});let a={},d={},u=0;const f=(n.defines.ck||n.defines.dk).linepos,h=n.defines.ck?"ck":"dk";for(let t=0;t<c.length;t++){const s=ne(c[t],l,r),[i,h]=ee(s,n.inverted.tokenlinepos,!0),p=o[t].length;u+=s.length;for(let n=0;n<i.length;n++){const t=i[n];let s=!1;if(e.includelines){const n=ht(e.includelines,t);e.includelines[n]!==t&&(s=!0)}if(e.excludelines){const n=ht(e.excludelines,t);e.excludelines[n]==t&&(s=!0)}if(s)continue;d[t]||(d[t]=[]),d[t].push(...h[n].map((n=>16*n+p)));const l=ht(f,t+1)-1;a[l]||(a[l]=0),a[l]++}}return{lines:kt(d,((n,t)=>[parseInt(n),t.sort()])).sort(((n,t)=>n[0]-t[0])),chunks:kt(a,((n,t)=>[parseInt(n),t])).sort(((n,t)=>t[1]-n[1])),phrases:o,postings:c,chunktag:h}})(s,l,{range:t||p[r].scope});m%2==0?(d=a.map((n=>({ck:s.getChunk(n[0]),hits:n[1]}))),e(4,g=Math.floor(d.length/zu)+1),b(0)):(c=o,e(4,g=Math.floor(c.length/zu)+1),b(0))},b=async n=>{if(e(0,a.length=0,a),e(1,u.length=0,u),e(6,v=-1),m%2==0)e(1,u=d.slice(n*zu,(n+1)*zu)),e(4,g=Math.floor(d.length/zu)+1);else{const t=[];for(let e=n*zu;e<(n+1)*zu&&e<c.length;e++)t.push(c[e]);await s.loadLines(t.map((n=>n[0])));for(let n=0;n<t.length;n++){const[e,i]=t[n],l=s.getLine(e),r=i.map((n=>Math.floor(n/16))),o=i.map((n=>n%16));a.push({linetext:l,line:e,hits:r,phraselength:o})}e(4,g=Math.floor(c.length/zu)+1)}e(0,a),e(1,u),e(2,h=n)},w=n=>{var t;const s="bk#"+n.bk.id+".ck#"+n.id;e(7,$=((null===(t=n.bk)||void 0===t?void 0:t.caption)||"")+"/"+n.caption),k(2*m+1,s)},y=n=>{let t=c[n][0];o(t),e(6,v=n)},x=n=>{const t=u[n].ck.line;o(t),e(6,v=n)};return n.$$set=n=>{"goLine"in n&&e(16,o=n.goLine)},n.$$.update=()=>{var t;131072&n.$$.dirty[0]&&(s=Js(i)),393216&n.$$.dirty[0]&&(t=l,s.scanText(t).then((n=>{e(3,p=n);let t=!1;for(let n=0;n<p.length;n++)if(p[n].count){k(2*n+1),t=!0;break}t||(c=[],b(0))})))},[a,u,h,p,g,m,v,$,r,k,b,w,y,x,(n,t)=>{o(n,t)},n=>{const t=a.length?a:u;e(2,h+=n),h<0&&e(2,h=0),h>=t.length-1&&e(2,h=t.length-1),b(h)},o,i,l,n=>k(2*n),n=>k(2*n+1),n=>b(n),function(n){h=n,e(2,h)},n=>y(n+h*zu),n=>x(n),n=>w(n.ck)]}class Mu extends zn{constructor(n){super(),En(this,n,Lu,Eu,o,{goLine:16},null,[-1,-1])}}function ju(n,t,e){const s=n.slice();return s[18]=t[e],s[20]=e,s}function Fu(n){let t,e,s,i,l=Po(n[18])+"";function r(){return n[14](n[20])}return{c(){t=N("span"),e=T(l),L(t,"aria-hidden","true"),L(t,"class","searchable"),U(t,"selectedsearchable",n[20]<=n[2])},m(n,l){_(n,t,l),q(t,e),s||(i=z(t,"click",r),s=!0)},p(s,i){n=s,1&i&&l!==(l=Po(n[18])+"")&&j(e,l),4&i&&U(t,"selectedsearchable",n[20]<=n[2])},d(n){n&&I(t),s=!1,i()}}}function Bu(n){let t,e,s,i=Po("候選區")+"";return{c(){t=T("【"),e=T(i),s=T("】")},m(n,i){_(n,t,i),_(n,e,i),_(n,s,i)},d(n){n&&(I(t),I(e),I(s))}}}function Ru(t){let e,s,i,l,r;return s=new Mu({props:{goLine:t[7]}}),l=new ec({}),{c(){e=N("div"),Pn(s.$$.fragment),i=S(),Pn(l.$$.fragment),L(e,"class","bodytext")},m(n,t){_(n,e,t),Nn(s,e,null),_(n,i,t),Nn(l,n,t),r=!0},p:n,i(n){r||(yn(s.$$.fragment,n),yn(l.$$.fragment,n),r=!0)},o(n){xn(s.$$.fragment,n),xn(l.$$.fragment,n),r=!1},d(n){n&&(I(e),I(i)),Tn(s),Tn(l,n)}}}function Hu(t){let e,s,i,l;return e=new Xd({}),i=new ec({}),{c(){Pn(e.$$.fragment),s=S(),Pn(i.$$.fragment)},m(n,t){Nn(e,n,t),_(n,s,t),Nn(i,n,t),l=!0},p:n,i(n){l||(yn(e.$$.fragment,n),yn(i.$$.fragment,n),l=!0)},o(n){xn(e.$$.fragment,n),xn(i.$$.fragment,n),l=!1},d(n){n&&I(s),Tn(e,n),Tn(i,n)}}}function Uu(n){let t,e,s,i,r,o,c,a,d,u,f,h,p=qn(n[0]),g=[];for(let t=0;t<p.length;t+=1)g[t]=Fu(ju(n,p,t));let m=!n[0].length&&Bu();const v=[Hu,Ru],$=[];function k(n,t){return 24&t&&(o=null),null==o&&(o=!("input"!=n[4]||""!=n[3].trim())),o?0:1}return c=k(n,-1),a=$[c]=v[c](n),{c(){t=N("div"),e=N("input"),s=S();for(let n=0;n<g.length;n+=1)g[n].c();i=S(),m&&m.c(),r=S(),a.c(),d=E(),L(e,"class","tofind svelte-a8ib29"),L(e,"placeholder",Po("輸入區")),L(e,"size",8),L(e,"id","tofind"),U(e,"diminput",n[2]>-1),L(t,"class","bodytext")},m(l,o){_(l,t,o),q(t,e),n[12](e),F(e,n[3]),q(t,s);for(let n=0;n<g.length;n+=1)g[n]&&g[n].m(t,null);q(t,i),m&&m.m(t,null),_(l,r,o),$[c].m(l,o),_(l,d,o),u=!0,f||(h=[z(e,"focus",n[9]),z(e,"blur",n[8]),z(e,"input",n[6]),z(e,"input",n[13])],f=!0)},p(n,[s]){if(8&s&&e.value!==n[3]&&F(e,n[3]),(!u||4&s)&&U(e,"diminput",n[2]>-1),37&s){let e;for(p=qn(n[0]),e=0;e<p.length;e+=1){const l=ju(n,p,e);g[e]?g[e].p(l,s):(g[e]=Fu(l),g[e].c(),g[e].m(t,i))}for(;e<g.length;e+=1)g[e].d(1);g.length=p.length}n[0].length?m&&(m.d(1),m=null):m||(m=Bu(),m.c(),m.m(t,null));let l=c;c=k(n,s),c===l?$[c].p(n,s):(bn(),xn($[l],1,1,(()=>{$[l]=null})),wn(),a=$[c],a?a.p(n,s):(a=$[c]=v[c](n),a.c()),yn(a,1),a.m(d.parentNode,d))},i(n){u||(yn(a),u=!0)},o(n){xn(a),u=!1},d(e){e&&(I(t),I(r),I(d)),n[12](null),P(g,e),m&&m.d(),$[c].d(e),f=!1,l(h)}}}function Wu(n,t,e){let s,i;f(n,yl,(n=>e(11,s=n))),f(n,xl,(n=>e(4,i=n)));let l,{ptk:r}=t,o=[],c=-1,a="";let d="";const h=n=>{d="";for(let t=0;t<=n;t++)d+=o[t]||"";n==c?a==d?e(3,a=""):(e(3,a=d),e(2,c=-1)):e(2,c=n),ql.set(d)};let p=0;return n.$$set=n=>{"ptk"in n&&e(10,r=n.ptk)},n.$$.update=()=>{2048&n.$$.dirty&&(n=>{e(0,o.length=0,o);const t=Xn(n);for(let n=0;n<t.length;n++)o.push(t[n]);o.length>=2?e(2,c=2):1==o.length?e(2,c=0):0==o.length&&e(2,c=-1)})(s)},[o,l,c,a,i,h,()=>{e(2,c=-1),clearTimeout(p),p=setTimeout((()=>{ql.set(a)}),250)},(n,t=0)=>{Ar(r,n,t),xl.set("folio"),(n=>{if(!(n=n.trim().slice(0,20)))return;let t=u(Cl);if(t[0]!=n){for(t=pr(n),t.unshift(n);t.length>10;)t.pop();Cl.set(t.slice(0,t.length))}})(a)},()=>{setTimeout((()=>{xl.set("folio")}),200)},()=>{e(2,c=-1),xl.set("input")},r,s,function(n){sn[n?"unshift":"push"]((()=>{l=n,e(1,l)}))},function(){a=this.value,e(3,a)},n=>h(n)]}class Du extends zn{constructor(n){super(),En(this,n,Wu,Uu,o,{ptk:10})}}function Ku(n,t,e){const s=n.slice();return s[1]=t[e][0],s[2]=t[e][1],s}function Ju(n){let t,e,s,i,l=n[1]+"";return{c(){t=N("a"),e=T(l),i=T(" "),L(t,"href",s=n[2]),L(t,"target","_new")},m(n,s){_(n,t,s),q(t,e),_(n,i,s)},p(n,i){1&i&&l!==(l=n[1]+"")&&j(e,l),1&i&&s!==(s=n[2])&&L(t,"href",s)},d(n){n&&(I(t),I(i))}}}function Yu(t){let e,s=qn(t[0]),i=[];for(let n=0;n<s.length;n+=1)i[n]=Ju(Ku(t,s,n));return{c(){for(let n=0;n<i.length;n+=1)i[n].c();e=E()},m(n,t){for(let e=0;e<i.length;e+=1)i[e]&&i[e].m(n,t);_(n,e,t)},p(n,[t]){if(1&t){let l;for(s=qn(n[0]),l=0;l<s.length;l+=1){const r=Ku(n,s,l);i[l]?i[l].p(r,t):(i[l]=Ju(r),i[l].c(),i[l].m(e.parentNode,e))}for(;l<i.length;l+=1)i[l].d(1);i.length=s.length}},i:n,o:n,d(n){n&&I(e),P(i,n)}}}function Qu(n,t,e){let{links:s=[]}=t;return n.$$set=n=>{"links"in n&&e(0,s=n.links)},[s]}class Vu extends zn{constructor(n){super(),En(this,n,Qu,Yu,o,{links:0})}}function Xu(n,t,e){const s=n.slice();return s[6]=t[e],s}function Gu(n){let t,e,s=ct(n[6])[0]+"";return{c(){t=N("div"),e=T(s)},m(n,s){_(n,t,s),q(t,e)},p(n,t){2&t&&s!==(s=ct(n[6])[0]+"")&&j(e,s)},d(n){n&&I(t)}}}function Zu(t){let e,s,i,l,r,o,c,a=qn(t[1]),d=[];for(let n=0;n<a.length;n+=1)d[n]=Gu(Xu(t,a,n));return{c(){e=N("div"),s=N("span"),i=T("←"),l=T(t[0]),r=S();for(let n=0;n<d.length;n+=1)d[n].c();L(s,"aria-hidden","true"),L(s,"class","clickable"),L(e,"class","bodytext")},m(n,a){_(n,e,a),q(e,s),q(s,i),q(s,l),q(e,r);for(let n=0;n<d.length;n+=1)d[n]&&d[n].m(e,null);o||(c=z(s,"click",t[2]),o=!0)},p(n,[t]){if(1&t&&j(l,n[0]),2&t){let s;for(a=qn(n[1]),s=0;s<a.length;s+=1){const i=Xu(n,a,s);d[s]?d[s].p(i,t):(d[s]=Gu(i),d[s].c(),d[s].m(e,null))}for(;s<d.length;s+=1)d[s].d(1);d.length=a.length}},i:n,o:n,d(n){n&&I(e),P(d,n),o=!1,c()}}}function nf(n,t,e){let{address:s}=t,{ptk:i}=t,{caption:l}=t,r=[];return n.$$set=n=>{"address"in n&&e(3,s=n.address),"ptk"in n&&e(4,i=n.ptk),"caption"in n&&e(0,l=n.caption)},n.$$.update=()=>{8&n.$$.dirty&&(async()=>{e(1,r=await i.fetchAddress(s))})()},[l,r,()=>{qr(i)},s,i]}class tf extends zn{constructor(n){super(),En(this,n,nf,Zu,o,{address:3,ptk:4,caption:0})}}function ef(n,t,e){const s=n.slice();return s[19]=t[e],s[21]=e,s}function sf(n,t,e){const s=n.slice();return s[19]=t[e],s[21]=e,s}function lf(n){let t,e,s;return{c(){t=N("span"),t.textContent="原文",L(t,"aria-hidden","true"),L(t,"class","clickable"),U(t,"selected","sourcetext"==n[2])},m(i,l){_(i,t,l),e||(s=z(t,"click",n[12]),e=!0)},p(n,e){4&e&&U(t,"selected","sourcetext"==n[2])},d(n){n&&I(t),e=!1,s()}}}function rf(n){let t,e,s,i,l=Po("別譯",n[6])+"";return{c(){t=N("span"),e=T(l),L(t,"aria-hidden","true"),L(t,"class","clickable"),U(t,"selected","translations"==n[2])},m(l,r){_(l,t,r),q(t,e),s||(i=z(t,"click",n[13]),s=!0)},p(n,s){64&s&&l!==(l=Po("別譯",n[6])+"")&&j(e,l),4&s&&U(t,"selected","translations"==n[2])},d(n){n&&I(t),s=!1,i()}}}function of(n){let t,e,s,i,l=Po("集註",n[6])+"";return{c(){t=N("span"),e=T(l),L(t,"aria-hidden","true"),L(t,"class","clickable"),U(t,"selected","variorum"==n[2])},m(l,r){_(l,t,r),q(t,e),s||(i=z(t,"click",n[14]),s=!0)},p(n,s){64&s&&l!==(l=Po("集註",n[6])+"")&&j(e,l),4&s&&U(t,"selected","variorum"==n[2])},d(n){n&&I(t),s=!1,i()}}}function cf(n){let t,e,s,i,l=n[19][0]+"";function r(){return n[15](n[21])}return{c(){t=N("span"),e=T(l),L(t,"aria-hidden","true"),L(t,"class","clickable"),U(t,"selected",n[2]=="link"+n[21])},m(n,l){_(n,t,l),q(t,e),s||(i=z(t,"click",r),s=!0)},p(s,i){n=s,8&i&&l!==(l=n[19][0]+"")&&j(e,l),4&i&&U(t,"selected",n[2]=="link"+n[21])},d(n){n&&I(t),s=!1,i()}}}function af(n){let t,e;return t=new Vu({props:{links:n[4]}}),{c(){Pn(t.$$.fragment)},m(n,s){Nn(t,n,s),e=!0},p(n,e){const s={};16&e&&(s.links=n[4]),t.$set(s)},i(n){e||(yn(t.$$.fragment,n),e=!0)},o(n){xn(t.$$.fragment,n),e=!1},d(n){Tn(t,n)}}}function df(n){let t,e,s;return e=new tf({props:{closePopup:n[0],caption:n[19][0],ptk:n[5],address:n[19][1]}}),{c(){t=N("div"),Pn(e.$$.fragment),L(t,"class","subtab-content"),U(t,"visible",n[2]=="link"+n[21])},m(n,i){_(n,t,i),Nn(e,t,null),s=!0},p(n,i){const l={};1&i&&(l.closePopup=n[0]),8&i&&(l.caption=n[19][0]),32&i&&(l.ptk=n[5]),8&i&&(l.address=n[19][1]),e.$set(l),(!s||4&i)&&U(t,"visible",n[2]=="link"+n[21])},i(n){s||(yn(e.$$.fragment,n),s=!0)},o(n){xn(e.$$.fragment,n),s=!1},d(n){n&&I(t),Tn(e)}}}function uf(t){let e,s,i,r,c,a,d,u,f,h,p,g,m,v,$,k,b,w,y,x,A,C,O,M,F,B,R,H,W,D,K=Po("搜尋",t[6])+"",J=sr(Ml(t[1])),Y=ir(t[5],Ml(t[1])),Q=er(Ml(t[1])),V=t[4],X=J&&lf(t),G=Y&&rf(t),Z=Q&&of(t),nn=qn(t[3]),tn=[];for(let n=0;n<nn.length;n+=1)tn[n]=cf(sf(t,nn,n));let en=af(t);m=new Du({props:{ptk:t[5]}}),k=new Ld({props:{ptk:t[5]}}),y=new Rd({props:{ptk:t[5]}}),C=new Ad({props:{closePopup:t[0],ptk:t[5]}}),F=new Wd({});let sn=qn(t[3]),ln=[];for(let n=0;n<sn.length;n+=1)ln[n]=df(ef(t,sn,n));const rn=n=>xn(ln[n],1,1,(()=>{ln[n]=null}));return{c(){e=N("div"),s=N("span"),i=T(K),r=S(),c=N("span"),c.textContent="全文",a=S(),X&&X.c(),d=S(),G&&G.c(),u=S(),Z&&Z.c(),f=S();for(let n=0;n<tn.length;n+=1)tn[n].c();h=S(),en.c(),p=S(),g=N("div"),Pn(m.$$.fragment),v=S(),$=N("div"),Pn(k.$$.fragment),b=S(),w=N("div"),Pn(y.$$.fragment),x=S(),A=N("div"),Pn(C.$$.fragment),O=S(),M=N("div"),Pn(F.$$.fragment),B=S();for(let n=0;n<ln.length;n+=1)ln[n].c();R=E(),L(s,"aria-hidden","true"),L(s,"class","clickable"),U(s,"selected","search"==t[2]),L(c,"aria-hidden","true"),L(c,"class","clickable"),U(c,"selected","chunktext"==t[2]),L(e,"class","tabs"),L(g,"class","subtab-content"),U(g,"visible","search"==t[2]),L($,"class","subtab-content"),U($,"visible","chunktext"==t[2]),L(w,"class","subtab-content"),U(w,"visible","sourcetext"==t[2]),L(A,"class","subtab-content"),U(A,"visible","translations"==t[2]),L(M,"class","subtab-content"),U(M,"visible","variorum"==t[2])},m(n,l){_(n,e,l),q(e,s),q(s,i),q(e,r),q(e,c),q(e,a),X&&X.m(e,null),q(e,d),G&&G.m(e,null),q(e,u),Z&&Z.m(e,null),q(e,f);for(let n=0;n<tn.length;n+=1)tn[n]&&tn[n].m(e,null);q(e,h),en.m(e,null),_(n,p,l),_(n,g,l),Nn(m,g,null),_(n,v,l),_(n,$,l),Nn(k,$,null),_(n,b,l),_(n,w,l),Nn(y,w,null),_(n,x,l),_(n,A,l),Nn(C,A,null),_(n,O,l),_(n,M,l),Nn(F,M,null),_(n,B,l);for(let t=0;t<ln.length;t+=1)ln[t]&&ln[t].m(n,l);_(n,R,l),H=!0,W||(D=[z(s,"click",t[10]),z(c,"click",t[11])],W=!0)},p(t,[l]){if((!H||64&l)&&K!==(K=Po("搜尋",t[6])+"")&&j(i,K),(!H||4&l)&&U(s,"selected","search"==t[2]),(!H||4&l)&&U(c,"selected","chunktext"==t[2]),2&l&&(J=sr(Ml(t[1]))),J?X?X.p(t,l):(X=lf(t),X.c(),X.m(e,d)):X&&(X.d(1),X=null),34&l&&(Y=ir(t[5],Ml(t[1]))),Y?G?G.p(t,l):(G=rf(t),G.c(),G.m(e,u)):G&&(G.d(1),G=null),2&l&&(Q=er(Ml(t[1]))),Q?Z?Z.p(t,l):(Z=of(t),Z.c(),Z.m(e,f)):Z&&(Z.d(1),Z=null),140&l){let n;for(nn=qn(t[3]),n=0;n<nn.length;n+=1){const s=sf(t,nn,n);tn[n]?tn[n].p(s,l):(tn[n]=cf(s),tn[n].c(),tn[n].m(e,h))}for(;n<tn.length;n+=1)tn[n].d(1);tn.length=nn.length}16&l&&o(V,V=t[4])?(bn(),xn(en,1,1,n),wn(),en=af(t),en.c(),yn(en,1),en.m(e,null)):en.p(t,l);const r={};32&l&&(r.ptk=t[5]),m.$set(r),(!H||4&l)&&U(g,"visible","search"==t[2]);const a={};32&l&&(a.ptk=t[5]),k.$set(a),(!H||4&l)&&U($,"visible","chunktext"==t[2]);const p={};32&l&&(p.ptk=t[5]),y.$set(p),(!H||4&l)&&U(w,"visible","sourcetext"==t[2]);const v={};if(1&l&&(v.closePopup=t[0]),32&l&&(v.ptk=t[5]),C.$set(v),(!H||4&l)&&U(A,"visible","translations"==t[2]),(!H||4&l)&&U(M,"visible","variorum"==t[2]),45&l){let n;for(sn=qn(t[3]),n=0;n<sn.length;n+=1){const e=ef(t,sn,n);ln[n]?(ln[n].p(e,l),yn(ln[n],1)):(ln[n]=df(e),ln[n].c(),yn(ln[n],1),ln[n].m(R.parentNode,R))}for(bn(),n=sn.length;n<ln.length;n+=1)rn(n);wn()}},i(n){if(!H){yn(en),yn(m.$$.fragment,n),yn(k.$$.fragment,n),yn(y.$$.fragment,n),yn(C.$$.fragment,n),yn(F.$$.fragment,n);for(let n=0;n<sn.length;n+=1)yn(ln[n]);H=!0}},o(n){xn(en),xn(m.$$.fragment,n),xn(k.$$.fragment,n),xn(y.$$.fragment,n),xn(C.$$.fragment,n),xn(F.$$.fragment,n),ln=ln.filter(Boolean);for(let n=0;n<ln.length;n+=1)xn(ln[n]);H=!1},d(n){n&&(I(e),I(p),I(g),I(v),I($),I(b),I(w),I(x),I(A),I(O),I(M),I(B),I(R)),X&&X.d(),G&&G.d(),Z&&Z.d(),P(tn,n),en.d(n),Tn(m),Tn(k),Tn(y),Tn(C),Tn(F),P(ln,n),W=!1,l(D)}}}function ff(n,t,e){let s,i,l,r,o,c,a,d,u;f(n,al,(n=>e(8,r=n))),f(n,dl,(n=>e(1,o=n))),f(n,Dl,(n=>e(16,c=n))),f(n,Al,(n=>e(17,a=n))),f(n,il,(n=>e(9,d=n))),f(n,Pl,(n=>e(6,u=n)));let{closePopup:h}=t;const p=n=>{const t=Js("dc"),[i,l]=s.rangeOfAddress("folio#"+n+".pb#"+r),o=[],d=[],u=n.match(/agms(\d+)$/),f=a;if(!f)return[[],[]];let h,p,g,v;if(u){const n=s.nearestTag(l+1,"n"),e=s.defines.n;p=parseInt(e.fields.id.values[n]),g=Po("雜")+p+Po("導讀"),v="https://buddhaspace.org/agama/"+u[1]+".html#"+(n=>{let t="";for(;n;)t=["〇","一","二","三","四","五","六","七","八","九"][n%10]+t,n=Math.floor(n/10);return t})(p),o.push([g,v]),h=t.columns.par_agms}if(n.match(/agmss(\d+)$/)){const n=s.nearestTag(l+1,"n"),e=s.defines.n;p=parseInt(e.fields.id.values[n]),h=t.columns.par_agmss}if(n.match(/agmd(\d+)$/)){const n=f.fromFolioPos(c);n&&n.ckid&&(g="長"+parseInt(n.ckid)+Po("導讀"),v="https://buddhaspace.org/agama3/"+parseInt(n.ckid)+".html",p=n.ckid,o.push([g,v])),h=t.columns.par_agmd}if(n.match(/agmm(\d+)$/)){const n=f.fromFolioPos(c);n&&n.ckid&&(p=n.ckid,g="中"+parseInt(n.ckid)+Po("導讀"),v="https://buddhaspace.org/agama2/sub/"+n.ckid+".html",o.push([g,v])),h=t.columns.par_agmm}if(n.match(/agmu(\d+)$/)){h=t.columns.par_agmu;const n=f.fromFolioPos(c);n&&n.ckid&&(p=n.ckid)}if(h&&p){const n=h.keys.indexOf(p.toString()),t=(h.parallels[n]||"").split(",");for(let n=0;n<t.length;n++){const e=t[n];if(e.match(/ak#[dmsa]n/)){const n=location.host.replace("5002","5080"),t=location.protocol+"//"+n+location.pathname.replace("ylz","sz")+"#"+e;o.push([nu(e),t])}else d.push([Zd(e),e])}}return m.startsWith("link")&&e(2,m="chunktext"),[o,d]},g=n=>{xl.set("folio"),e(2,m=n)};let m="search";return n.$$set=n=>{"closePopup"in n&&e(0,h=n.closePopup)},n.$$.update=()=>{512&n.$$.dirty&&e(5,s=Js(d)),258&n.$$.dirty&&e(4,[i,l]=p(o),i,(e(3,l),e(1,o),e(8,r)))},[h,o,m,l,i,s,u,g,r,d,()=>g("search"),()=>g("chunktext"),()=>g("sourcetext"),()=>g("translations"),()=>g("variorum"),n=>g("link"+n)]}class hf extends zn{constructor(n){super(),En(this,n,ff,uf,o,{closePopup:0})}}function pf(n,t,e){const s=n.slice();return s[11]=t[e][0],s[12]=t[e][1],s}function gf(n,t,e){const s=n.slice();return s[15]=t[e],s}function mf(t){let e;return{c(){e=T("本卷無書籤。點右上角 ♡ 加入書籤")},m(n,t){_(n,e,t)},p:n,d(n){n&&I(e)}}}function vf(n){let t,e,s,i=qn(n[1]),l=[];for(let t=0;t<i.length;t+=1)l[t]=$f(gf(n,i,t));return{c(){t=N("div"),e=T("本卷♥第\n");for(let n=0;n<l.length;n+=1)l[n].c();s=T("\n折"),L(t,"class","bodytext")},m(n,i){_(n,t,i),q(t,e);for(let n=0;n<l.length;n+=1)l[n]&&l[n].m(t,null);q(t,s)},p(n,e){if(6&e){let r;for(i=qn(n[1]),r=0;r<i.length;r+=1){const o=gf(n,i,r);l[r]?l[r].p(o,e):(l[r]=$f(o),l[r].c(),l[r].m(t,s))}for(;r<l.length;r+=1)l[r].d(1);l.length=i.length}},d(n){n&&I(t),P(l,n)}}}function $f(n){let t,e,s;function i(){return n[6](n[15])}return{c(){t=N("span"),t.textContent=`${n[15]+1}`,L(t,"aria-hidden","true"),L(t,"class","favoriteitem")},m(n,l){_(n,t,l),e||(s=z(t,"click",i),e=!0)},p(t,e){n=t},d(n){n&&I(t),e=!1,s()}}}function kf(n){let t,e=qn(n[0]),s=[];for(let t=0;t<e.length;t+=1)s[t]=bf(pf(n,e,t));return{c(){t=N("div");for(let n=0;n<s.length;n+=1)s[n].c();L(t,"class","bodytext")},m(n,e){_(n,t,e);for(let n=0;n<s.length;n+=1)s[n]&&s[n].m(t,null)},p(n,i){if(9&i){let l;for(e=qn(n[0]),l=0;l<e.length;l+=1){const r=pf(n,e,l);s[l]?s[l].p(r,i):(s[l]=bf(r),s[l].c(),s[l].m(t,null))}for(;l<s.length;l+=1)s[l].d(1);s.length=e.length}},d(n){n&&I(t),P(s,n)}}}function bf(n){let t,e,s,i,l,r,o,c=tr(n[11])+"",a=n[12]+"";function d(){return n[7](n[11])}return{c(){t=N("span"),e=T(c),s=T("♥"),i=T(a),l=T("個　"),L(t,"aria-hidden","true")},m(n,c){_(n,t,c),q(t,e),q(t,s),q(t,i),q(t,l),r||(o=z(t,"click",d),r=!0)},p(t,s){n=t,1&s&&c!==(c=tr(n[11])+"")&&j(e,c),1&s&&a!==(a=n[12]+"")&&j(i,a)},d(n){n&&I(t),r=!1,o()}}}function wf(t){let e,s,i,l;let r=function(n){return n[1].length?vf:mf}(t),o=r(t),c=t[0].length&&kf(t);return{c(){o.c(),e=S(),s=N("hr"),i=S(),c&&c.c(),l=E()},m(n,t){o.m(n,t),_(n,e,t),_(n,s,t),_(n,i,t),c&&c.m(n,t),_(n,l,t)},p(n,[t]){o.p(n,t),n[0].length?c?c.p(n,t):(c=kf(n),c.c(),c.m(l.parentNode,l)):c&&(c.d(1),c=null)},i:n,o:n,d(n){n&&(I(e),I(s),I(i),I(l)),o.d(n),c&&c.d(n)}}}function yf(n,t,e){let s,i;f(n,pl,(n=>e(5,s=n))),f(n,dl,(n=>e(8,i=n)));let l=[],r=[],{closePopup:o}=t;const c=n=>{$r(n),o()},a=n=>{o(),br(n,(()=>{const t=(n=>{const t=s[n];let e=-1;for(let n in t)parseInt(n)>e&&(e=parseInt(n));return e})(n);$r((t||0)+1)}))};return n.$$set=n=>{"closePopup"in n&&e(4,o=n.closePopup)},n.$$.update=()=>{32&n.$$.dirty&&(()=>{const n=s,t={};for(let e in n)if(e==i){const t=n[i];for(let n in t)t[n]&&l.push(parseInt(n))}else t[e]=Object.keys(n[e]).length;e(0,r=kt(t,((n,t)=>[n,t])))})()},[r,l,c,a,o,s,n=>c(n+1),n=>a(n)]}class xf extends zn{constructor(n){super(),En(this,n,yf,wf,o,{closePopup:4})}}function Af(t){let e,s,i,r,o,c,a,d,u,f,h,p,g,m,v,$,k,b,w,y,x,A,C=Po(t[3])+"",O=Po(t[0])+"",P=Po(t[1])+"",E=Po(t[2])+"",M=hr()+"";return{c(){e=N("div"),s=T(C),i=N("br"),r=T(O),o=T("《"),c=T(P),a=T("》"),d=T(E),u=S(),f=N("button"),f.textContent=`${Po("複製連結")}`,h=S(),p=N("button"),p.textContent=`${Po("複製經文及連結")}`,g=S(),m=N("button"),m.textContent=`${Po("HTML格式連結")}`,v=S(),$=N("button"),$.textContent=`${Po("MarkDown格式連結")}`,k=S(),b=N("span"),w=S(),y=T(M),L(e,"class","bodytext"),L(f,"class","svelte-1o0xp9s"),L(p,"class","svelte-1o0xp9s"),L(m,"class","svelte-1o0xp9s"),L($,"class","svelte-1o0xp9s")},m(n,l){_(n,e,l),q(e,s),q(e,i),q(e,r),q(e,o),q(e,c),q(e,a),q(e,d),_(n,u,l),_(n,f,l),_(n,h,l),_(n,p,l),_(n,g,l),_(n,m,l),_(n,v,l),_(n,$,l),_(n,k,l),_(n,b,l),b.innerHTML=t[4],_(n,w,l),_(n,y,l),x||(A=[z(f,"click",t[6]),z(p,"click",t[5]),z(m,"click",t[8]),z($,"click",t[7])],x=!0)},p(n,[t]){8&t&&C!==(C=Po(n[3])+"")&&j(s,C),1&t&&O!==(O=Po(n[0])+"")&&j(r,O),2&t&&P!==(P=Po(n[1])+"")&&j(c,P),4&t&&E!==(E=Po(n[2])+"")&&j(d,E)},i:n,o:n,d(n){n&&(I(e),I(u),I(f),I(h),I(p),I(g),I(m),I(v),I($),I(k),I(b),I(w),I(y)),x=!1,l(A)}}}const qf="已複製連結到剪貼薄";function Cf(n,t,e){let s,i;f(n,Dl,(n=>e(9,s=n))),f(n,Al,(n=>e(10,i=n)));let l,r="",o="",c=qf;Z((async()=>{const n=i.fromFolioPos(s);e(0,l=ct((null==n?void 0:n.linetext)||"")[0]),e(1,r=(null==n?void 0:n.ck.bk.heading)||""),e(2,o=null==n?void 0:n.ck.caption)}));const a=n=>{e(3,c=n),clearTimeout(undefined)};return[l,r,o,c,"",async()=>{const n=hr()+"\t「"+l+"」《"+r+"》"+o;await navigator.clipboard.writeText(n),a("已複製經文及連結到剪貼薄")},async()=>{navigator.clipboard.writeText(hr()),a(qf)},async()=>{const n="["+l+"《"+r+"》"+o+"]("+hr()+")";await navigator.clipboard.writeText(n),a("已複製Markdown格式到剪貼薄")},async()=>{const n=l+'<a href="'+hr()+'">《'+r+"》"+o+"</a>";await navigator.clipboard.writeText(n),a("已複製HTML格式到剪貼薄")}]}class Of extends zn{constructor(n){super(),En(this,n,Cf,Af,o,{})}}function _f(n){let t,e,s;function i(t){n[11](t)}let l={max:n[0].length,min:1,$$slots:{caption:[Nf]},$$scope:{ctx:n}};return void 0!==n[1]&&(l.value=n[1]),t=new Nc({props:l}),sn.push((()=>In(t,"value",i))),t.$on("input",Mt(n[4],300)),{c(){Pn(t.$$.fragment)},m(n,e){Nn(t,n,e),s=!0},p(n,s){const i={};1&s&&(i.max=n[0].length),262147&s&&(i.$$scope={dirty:s,ctx:n}),!e&&2&s&&(e=!0,i.value=n[1],dn((()=>e=!1))),t.$set(i)},i(n){s||(yn(t.$$.fragment,n),s=!0)},o(n){xn(t.$$.fragment,n),s=!1},d(n){Tn(t,n)}}}function If(n){let t,e;return t=new pd({props:{pages:n[0],caption:"卷",now:n[2]-1,onselect:n[10],$$slots:{default:[Tf,({active:n,caption:t,id:e})=>({15:n,16:t,17:e}),({active:n,caption:t,id:e})=>(n?32768:0)|(t?65536:0)|(e?131072:0)]},$$scope:{ctx:n}}}),{c(){Pn(t.$$.fragment)},m(n,s){Nn(t,n,s),e=!0},p(n,e){const s={};1&e&&(s.pages=n[0]),491520&e&&(s.$$scope={dirty:e,ctx:n}),t.$set(s)},i(n){e||(yn(t.$$.fragment,n),e=!0)},o(n){xn(t.$$.fragment,n),e=!1},d(n){Tn(t,n)}}}function Pf(t){let e;return{c(){e=N("span")},m(n,t){_(n,e,t)},p:n,i:n,o:n,d(n){n&&I(e)}}}function Nf(n){let t,e,s,i,l,r=(n[1][0]||1)+"",o=n[0].length+"";return{c(){t=N("span"),e=T("卷"),s=T(r),i=T("/"),l=T(o),L(t,"slot","caption"),B(t,"float","right")},m(n,r){_(n,t,r),q(t,e),q(t,s),q(t,i),q(t,l)},p(n,t){2&t&&r!==(r=(n[1][0]||1)+"")&&j(s,r),1&t&&o!==(o=n[0].length+"")&&j(l,o)},d(n){n&&I(t)}}}function Tf(n){let t,e,s,i,l=n[16]+"";function r(){return n[9](n[17])}return{c(){t=N("span"),e=T(l),L(t,"aria-hidden","true"),L(t,"class","clickable"),U(t,"selected",n[15])},m(n,l){_(n,t,l),q(t,e),s||(i=z(t,"click",r),s=!0)},p(s,i){n=s,65536&i&&l!==(l=n[16]+"")&&j(e,l),32768&i&&U(t,"selected",n[15])},d(n){n&&I(t),s=!1,i()}}}function Sf(n){let t,e,s,i;const l=[Pf,If,_f],r=[];function o(n,t){return 0==n[0].length?0:n[0].length<10?1:2}return t=o(n),e=r[t]=l[t](n),{c(){e.c(),s=E()},m(n,e){r[t].m(n,e),_(n,s,e),i=!0},p(n,[i]){let c=t;t=o(n),t===c?r[t].p(n,i):(bn(),xn(r[c],1,1,(()=>{r[c]=null})),wn(),e=r[t],e?e.p(n,i):(e=r[t]=l[t](n),e.c()),yn(e,1),e.m(s.parentNode,s))},i(n){i||(yn(e),i=!0)},o(n){xn(e),i=!1},d(n){n&&I(s),r[t].d(n)}}}function Ef(n,t,e){let s,i,l,r;f(n,rl,(n=>e(6,i=n))),f(n,dl,(n=>e(7,l=n))),f(n,il,(n=>e(8,r=n)));let{closePopup:o}=t,c=[];const a=l.match(/([a-z_]+)(\d+$)/);let d=a?parseInt(a[2]):1,u=[1,0];const h=n=>{const t=l,e=t.replace(/\d+$/,n);e!=t&&br(e,(function(){al.set("1"),Dl.set(["1",0,0]),Rt(rr()),o(),p(e)}))},p=(n,t)=>{if(!s||t)return[];if(!n.match(/([a-z_]+)(\d+$)/))return[];e(1,u[0]=d,u);return wr(s,n).map(((n,t)=>({caption:n,idx:parseInt(t),id:(t+1).toString()})))};return n.$$set=n=>{"closePopup"in n&&e(5,o=n.closePopup)},n.$$.update=()=>{256&n.$$.dirty&&(s=Js(r)),192&n.$$.dirty&&e(0,c=p(l,i))},[c,u,d,h,n=>{const t=(n.detail[0]||1).toString();h(t)},o,i,l,r,n=>h(n),n=>h(n+1),function(n){u=n,e(1,u)}]}class zf extends zn{constructor(n){super(),En(this,n,Ef,Sf,o,{closePopup:5})}}function Lf(n,t,e){const s=n.slice();return s[17]=t[e],s}function Mf(t){let e;return{c(){e=T("載入中")},m(n,t){_(n,e,t)},p:n,i:n,o:n,d(n){n&&I(e)}}}function jf(n){let t,e,s,i,l,r,c,a,d,u=n[7];function f(t){n[13](t)}t=new zf({props:{closePopup:n[0]}});let h={max:n[6],min:1,$$slots:{caption:[Ff]},$$scope:{ctx:n}};void 0!==n[5]&&(h.value=n[5]),s=new Nc({props:h}),sn.push((()=>In(s,"value",f))),s.$on("input",Mt(n[8],800));let p=Rf(n);return a=new ec({}),{c(){Pn(t.$$.fragment),e=S(),Pn(s.$$.fragment),l=S(),r=N("div"),p.c(),c=S(),Pn(a.$$.fragment),L(r,"class","toc svelte-1ubc3jc")},m(n,i){Nn(t,n,i),_(n,e,i),Nn(s,n,i),_(n,l,i),_(n,r,i),p.m(r,null),q(r,c),Nn(a,r,null),d=!0},p(n,e){const l={};1&e&&(l.closePopup=n[0]),t.$set(l);const a={};64&e&&(a.max=n[6]),1048672&e&&(a.$$scope={dirty:e,ctx:n}),!i&&32&e&&(i=!0,a.value=n[5],dn((()=>i=!1))),s.$set(a),128&e&&o(u,u=n[7])?(p.d(1),p=Rf(n),p.c(),p.m(r,c)):p.p(n,e)},i(n){d||(yn(t.$$.fragment,n),yn(s.$$.fragment,n),yn(a.$$.fragment,n),d=!0)},o(n){xn(t.$$.fragment,n),xn(s.$$.fragment,n),xn(a.$$.fragment,n),d=!1},d(n){n&&(I(e),I(l),I(r)),Tn(t,n),Tn(s,n),p.d(n),Tn(a)}}}function Ff(n){let t,e,s,i,l,r=(n[5][0]||1)+"";return{c(){t=N("span"),e=T("折"),s=T(r),i=T("/"),l=T(n[6]),L(t,"slot","caption"),B(t,"float","right")},m(n,r){_(n,t,r),q(t,e),q(t,s),q(t,i),q(t,l)},p(n,t){32&t&&r!==(r=(n[5][0]||1)+"")&&j(s,r),64&t&&j(l,n[6])},d(n){n&&I(t)}}}function Bf(n){let t,e,s,i,l=Bt(n[17].id,"①")+Po(n[17].caption)+"";function r(){return n[14](n[17])}return{c(){t=N("div"),e=T(l),L(t,"aria-hidden","true"),L(t,"class","tocitem"),U(t,"selecteditem",n[4]==n[17].id)},m(n,l){_(n,t,l),q(t,e),s||(i=z(t,"click",r),s=!0)},p(s,i){n=s,8&i&&l!==(l=Bt(n[17].id,"①")+Po(n[17].caption)+"")&&j(e,l),24&i&&U(t,"selecteditem",n[4]==n[17].id)},d(n){n&&I(t),s=!1,i()}}}function Rf(n){let t,e=qn(n[3]),s=[];for(let t=0;t<e.length;t+=1)s[t]=Bf(Lf(n,e,t));return{c(){for(let n=0;n<s.length;n+=1)s[n].c();t=E()},m(n,e){for(let t=0;t<s.length;t+=1)s[t]&&s[t].m(n,e);_(n,t,e)},p(n,i){if(538&i){let l;for(e=qn(n[3]),l=0;l<e.length;l+=1){const r=Lf(n,e,l);s[l]?s[l].p(r,i):(s[l]=Bf(r),s[l].c(),s[l].m(t.parentNode,t))}for(;l<s.length;l+=1)s[l].d(1);s.length=e.length}},d(n){n&&I(t),P(s,n)}}}function Hf(n){let t,e,s,i;const l=[jf,Mf],r=[];function o(n,t){return n[2]?1:0}return e=o(n),s=r[e]=l[e](n),{c(){t=N("div"),s.c(),L(t,"class","bodytext")},m(n,s){_(n,t,s),r[e].m(t,null),i=!0},p(n,[i]){let c=e;e=o(n),e===c?r[e].p(n,i):(bn(),xn(r[c],1,1,(()=>{r[c]=null})),wn(),s=r[e],s?s.p(n,i):(s=r[e]=l[e](n),s.c()),yn(s,1),s.m(t,null))},i(n){i||(yn(s),i=!0)},o(n){xn(s),i=!1},d(n){n&&I(t),r[e].d()}}}function Uf(n,t,e){let s,i,l,r,o,c,a,d,u;f(n,rl,(n=>e(2,l=n))),f(n,al,(n=>e(10,r=n))),f(n,dl,(n=>e(11,o=n))),f(n,Al,(n=>e(15,c=n))),f(n,il,(n=>e(12,a=n))),f(n,ul,(n=>e(6,d=n))),f(n,Pl,(n=>e(7,u=n)));let{closePopup:h}=t;let p,g=[];const m=(n,t)=>{const e=n.defines.ck,s=n.nearestTag(e.linepos[t]+1,"folio","id");s!==o?br(s,(()=>{kr(n,t)})):kr(n,t)};return n.$$set=n=>{"closePopup"in n&&e(0,h=n.closePopup)},n.$$.update=()=>{1024&n.$$.dirty&&e(5,s=[parseInt(r),0]),4096&n.$$.dirty&&e(1,i=Js(a)),2054&n.$$.dirty&&e(3,g=((n,t,e)=>{if(e)return[];const s=[],i="bk#"+Ml(t),[l,r]=n.rangeOfAddress(i),o=n.defines.ck,c=ht(o.linepos,l),a=ht(o.linepos,r);for(let n=c;n<a;n++)s.push({caption:o._innertext.get(n),at:n,id:o.fields.id.values[n]});return s})(i,o,l)),1028&n.$$.dirty&&e(4,p=((n,t)=>{if(t)return"";const e=c;if(!e||!e.fromFolioPos)return"";const{ckid:s}=e.fromFolioPos(r);return s})(0,l))},[h,i,l,g,p,s,d,u,async n=>{if(l)return;const t=(n.detail[0]||1).toString();r!==t&&al.set(t)},m,r,o,a,function(n){s=n,e(5,s),e(10,r)},n=>m(i,n.at)]}class Wf extends zn{constructor(n){super(),En(this,n,Uf,Hf,o,{closePopup:0})}}function Df(n){let t;return{c(){t=T("首")},m(n,e){_(n,t,e)},d(n){n&&I(t)}}}function Kf(n){let t,e=Po("錄",n[7])+"";return{c(){t=T(e)},m(n,e){_(n,t,e)},p(n,s){128&s&&e!==(e=Po("錄",n[7])+"")&&j(t,e)},d(n){n&&I(t)}}}function Jf(n){let t;return{c(){t=T("目")},m(n,e){_(n,t,e)},d(n){n&&I(t)}}}function Yf(n){let t,e,s,i,l=n[5]&&Qf();return{c(){t=N("span"),e=T("❤️"),l&&l.c(),L(t,"aria-hidden","true"),L(t,"class","clickable"),U(t,"selected","favorite"==n[2])},m(r,o){_(r,t,o),q(t,e),l&&l.m(t,null),s||(i=z(t,"click",n[14]),s=!0)},p(n,e){n[5]?l||(l=Qf(),l.c(),l.m(t,null)):l&&(l.d(1),l=null),4&e&&U(t,"selected","favorite"==n[2])},d(n){n&&I(t),l&&l.d(),s=!1,i()}}}function Qf(n){let t;return{c(){t=T("愛")},m(n,e){_(n,t,e)},d(n){n&&I(t)}}}function Vf(n){let t;return{c(){t=T("文")},m(n,e){_(n,t,e)},d(n){n&&I(t)}}}function Xf(n){let t,e,s=n[5]&&Zf(n);return{c(){t=T("🔠"),s&&s.c(),e=E()},m(n,i){_(n,t,i),s&&s.m(n,i),_(n,e,i)},p(n,t){n[5]?s?s.p(n,t):(s=Zf(n),s.c(),s.m(e.parentNode,e)):s&&(s.d(1),s=null)},d(n){n&&(I(t),I(e)),s&&s.d(n)}}}function Gf(n){let t,e,s=n[5]&&nh(n);return{c(){t=T("🔗"),s&&s.c(),e=E()},m(n,i){_(n,t,i),s&&s.m(n,i),_(n,e,i)},p(n,t){n[5]?s?s.p(n,t):(s=nh(n),s.c(),s.m(e.parentNode,e)):s&&(s.d(1),s=null)},d(n){n&&(I(t),I(e)),s&&s.d(n)}}}function Zf(n){let t,e=Po("詞",n[7])+"";return{c(){t=T(e)},m(n,e){_(n,t,e)},p(n,s){128&s&&e!==(e=Po("詞",n[7])+"")&&j(t,e)},d(n){n&&I(t)}}}function nh(n){let t,e=Po("鏈",n[7])+"";return{c(){t=T(e)},m(n,e){_(n,t,e)},p(n,s){128&s&&e!==(e=Po("鏈",n[7])+"")&&j(t,e)},d(n){n&&I(t)}}}function th(n){let t,e,s,i,l=n[5]&&eh(n);return{c(){t=N("span"),e=T("📣"),l&&l.c(),L(t,"aria-hidden","true"),L(t,"class","clickable"),U(t,"selected","audio"==n[2])},m(r,o){_(r,t,o),q(t,e),l&&l.m(t,null),s||(i=z(t,"click",n[17]),s=!0)},p(n,e){n[5]?l?l.p(n,e):(l=eh(n),l.c(),l.m(t,null)):l&&(l.d(1),l=null),4&e&&U(t,"selected","audio"==n[2])},d(n){n&&I(t),l&&l.d(),s=!1,i()}}}function eh(n){let t,e=Po("誦",n[7])+"";return{c(){t=T(e)},m(n,e){_(n,t,e)},p(n,s){128&s&&e!==(e=Po("誦",n[7])+"")&&j(t,e)},d(n){n&&I(t)}}}function sh(n){let t,e,s;return e=new xf({props:{closePopup:n[0]}}),{c(){t=N("div"),Pn(e.$$.fragment),L(t,"class","tab-content"),U(t,"visible","favorite"==n[2])},m(n,i){_(n,t,i),Nn(e,t,null),s=!0},p(n,i){const l={};1&i&&(l.closePopup=n[0]),e.$set(l),(!s||4&i)&&U(t,"visible","favorite"==n[2])},i(n){s||(yn(e.$$.fragment,n),s=!0)},o(n){xn(e.$$.fragment,n),s=!1},d(n){n&&I(t),Tn(e)}}}function ih(n){let t,e,s;return e=new Do({props:{entries:n[4]}}),{c(){t=N("div"),Pn(e.$$.fragment),L(t,"class","tab-content"),U(t,"visible","dict"==n[2])},m(n,i){_(n,t,i),Nn(e,t,null),s=!0},p(n,i){const l={};16&i&&(l.entries=n[4]),e.$set(l),(!s||4&i)&&U(t,"visible","dict"==n[2])},i(n){s||(yn(e.$$.fragment,n),s=!0)},o(n){xn(e.$$.fragment,n),s=!1},d(n){n&&I(t),Tn(e)}}}function lh(n){let t,e,s;return e=new Of({}),{c(){t=N("div"),Pn(e.$$.fragment),L(t,"class","tab-content"),U(t,"visible","dict"==n[2])},m(n,i){_(n,t,i),Nn(e,t,null),s=!0},p(n,e){(!s||4&e)&&U(t,"visible","dict"==n[2])},i(n){s||(yn(e.$$.fragment,n),s=!0)},o(n){xn(e.$$.fragment,n),s=!1},d(n){n&&I(t),Tn(e)}}}function rh(n){let t,e,s,i,r,o,c,a,d,u,f,h,p,g,m,v,$,k,b,w,y,x,A,C,O,P,E,M,j,F,B,R,H,W,D,K,J,Y,Q,V,X=n[5]&&Df(),G=n[5]&&Kf(n),Z=n[5]&&Jf(),nn="on"==n[8]&&Yf(n),tn=n[5]&&Vf();function en(n,t){return n[1]?Gf:Xf}let sn=en(n),ln=sn(n),rn=n[9].length>1&&th(n);w=new $c({props:{closePopup:n[0]}}),A=new Wf({props:{closePopup:n[0]}});let on="on"==n[8]&&sh(n);E=new hf({props:{closePopup:n[0]}});const cn=[lh,ih],an=[];function dn(n,t){return n[1]?0:1}return j=dn(n),F=an[j]=cn[j](n),H=new Gc({}),K=new Va({}),{c(){t=N("div"),e=N("div"),s=N("span"),i=T("⚙️"),X&&X.c(),r=S(),o=N("span"),c=T("📚"),G&&G.c(),a=S(),d=N("span"),u=T("🧭"),Z&&Z.c(),f=S(),nn&&nn.c(),h=S(),p=N("span"),g=T("📃"),tn&&tn.c(),m=S(),v=N("span"),ln.c(),$=S(),rn&&rn.c(),k=S(),b=N("div"),Pn(w.$$.fragment),y=S(),x=N("div"),Pn(A.$$.fragment),C=S(),on&&on.c(),O=S(),P=N("div"),Pn(E.$$.fragment),M=S(),F.c(),B=S(),R=N("div"),Pn(H.$$.fragment),W=S(),D=N("div"),Pn(K.$$.fragment),L(s,"aria-hidden","true"),L(s,"class","clickable"),U(s,"needupdate",n[6]),U(s,"selected","about"==n[2]),L(o,"aria-hidden","true"),L(o,"class","clickable"),U(o,"selected","list"==n[2]),L(d,"aria-hidden","true"),L(d,"class","clickable"),U(d,"selected","toc"==n[2]),L(p,"aria-hidden","true"),L(p,"class","clickable"),U(p,"selected","textual"==n[2]),L(v,"aria-hidden","true"),L(v,"class","clickable"),U(v,"selected","dict"==n[2]),L(e,"class","tabs"),L(b,"class","tab-content"),U(b,"visible","list"==n[2]),L(x,"class","tab-content"),U(x,"visible","toc"==n[2]),L(P,"class","tab-content"),U(P,"visible","textual"==n[2]),L(R,"class","tab-content"),U(R,"visible","audio"==n[2]),L(D,"class","tab-content"),U(D,"visible","about"==n[2]),L(t,"class","popup"),L(t,"style",J=n[5]?ar(n[5]):"")},m(l,I){_(l,t,I),q(t,e),q(e,s),q(s,i),X&&X.m(s,null),q(e,r),q(e,o),q(o,c),G&&G.m(o,null),q(e,a),q(e,d),q(d,u),Z&&Z.m(d,null),q(e,f),nn&&nn.m(e,null),q(e,h),q(e,p),q(p,g),tn&&tn.m(p,null),q(e,m),q(e,v),ln.m(v,null),q(e,$),rn&&rn.m(e,null),q(t,k),q(t,b),Nn(w,b,null),q(t,y),q(t,x),Nn(A,x,null),q(t,C),on&&on.m(t,null),q(t,O),q(t,P),Nn(E,P,null),q(t,M),an[j].m(t,null),q(t,B),q(t,R),Nn(H,R,null),q(t,W),q(t,D),Nn(K,D,null),Y=!0,Q||(V=[z(s,"click",n[11]),z(o,"click",n[12]),z(d,"click",n[13]),z(p,"click",n[15]),z(v,"click",n[16])],Q=!0)},p(n,i){n[5]?X||(X=Df(),X.c(),X.m(s,null)):X&&(X.d(1),X=null),(!Y||64&i)&&U(s,"needupdate",n[6]),(!Y||4&i)&&U(s,"selected","about"==n[2]),n[5]?G?G.p(n,i):(G=Kf(n),G.c(),G.m(o,null)):G&&(G.d(1),G=null),(!Y||4&i)&&U(o,"selected","list"==n[2]),n[5]?Z||(Z=Jf(),Z.c(),Z.m(d,null)):Z&&(Z.d(1),Z=null),(!Y||4&i)&&U(d,"selected","toc"==n[2]),"on"==n[8]?nn?nn.p(n,i):(nn=Yf(n),nn.c(),nn.m(e,h)):nn&&(nn.d(1),nn=null),n[5]?tn||(tn=Vf(),tn.c(),tn.m(p,null)):tn&&(tn.d(1),tn=null),(!Y||4&i)&&U(p,"selected","textual"==n[2]),sn===(sn=en(n))&&ln?ln.p(n,i):(ln.d(1),ln=sn(n),ln&&(ln.c(),ln.m(v,null))),(!Y||4&i)&&U(v,"selected","dict"==n[2]),n[9].length>1?rn?rn.p(n,i):(rn=th(n),rn.c(),rn.m(e,null)):rn&&(rn.d(1),rn=null);const l={};1&i&&(l.closePopup=n[0]),w.$set(l),(!Y||4&i)&&U(b,"visible","list"==n[2]);const r={};1&i&&(r.closePopup=n[0]),A.$set(r),(!Y||4&i)&&U(x,"visible","toc"==n[2]),"on"==n[8]?on?(on.p(n,i),256&i&&yn(on,1)):(on=sh(n),on.c(),yn(on,1),on.m(t,O)):on&&(bn(),xn(on,1,1,(()=>{on=null})),wn());const c={};1&i&&(c.closePopup=n[0]),E.$set(c),(!Y||4&i)&&U(P,"visible","textual"==n[2]);let a=j;j=dn(n),j===a?an[j].p(n,i):(bn(),xn(an[a],1,1,(()=>{an[a]=null})),wn(),F=an[j],F?F.p(n,i):(F=an[j]=cn[j](n),F.c()),yn(F,1),F.m(t,B)),(!Y||4&i)&&U(R,"visible","audio"==n[2]),(!Y||4&i)&&U(D,"visible","about"==n[2]),(!Y||32&i&&J!==(J=n[5]?ar(n[5]):""))&&L(t,"style",J)},i(n){Y||(yn(w.$$.fragment,n),yn(A.$$.fragment,n),yn(on),yn(E.$$.fragment,n),yn(F),yn(H.$$.fragment,n),yn(K.$$.fragment,n),Y=!0)},o(n){xn(w.$$.fragment,n),xn(A.$$.fragment,n),xn(on),xn(E.$$.fragment,n),xn(F),xn(H.$$.fragment,n),xn(K.$$.fragment,n),Y=!1},d(n){n&&I(t),X&&X.d(),G&&G.d(),Z&&Z.d(),nn&&nn.d(),tn&&tn.d(),ln.d(),rn&&rn.d(),Tn(w),Tn(A),on&&on.d(),Tn(E),an[j].d(),Tn(H),Tn(K),Q=!1,l(V)}}}function oh(t){let e,s,i=t[3],l=rh(t);return{c(){l.c(),e=E()},m(n,t){l.m(n,t),_(n,e,t),s=!0},p(t,[s]){8&s&&o(i,i=t[3])?(bn(),xn(l,1,1,n),wn(),l=rh(t),l.c(),yn(l,1),l.m(e.parentNode,e)):l.p(t,s)},i(n){s||(yn(l),s=!0)},o(n){xn(l),s=!1},d(n){n&&I(e),l.d(n)}}}function ch(n,t,e){let s,i,l,r,o,c,a,d,u;f(n,hl,(n=>e(1,i=n))),f(n,Sl,(n=>e(2,l=n))),f(n,bl,(n=>e(3,r=n))),f(n,il,(n=>e(18,o=n))),f(n,Nl,(n=>e(6,c=n))),f(n,Pl,(n=>e(7,a=n))),f(n,kl,(n=>e(8,d=n))),f(n,zl,(n=>e(9,u=n)));let{tofind:h=""}=t,{closePopup:p}=t;var g;navigator.onLine||"dict"!=l||(l="list",g=l,Sl.set(g));let m=[];return n.$$set=n=>{"tofind"in n&&e(10,h=n.tofind),"closePopup"in n&&e(0,p=n.closePopup)},n.$$.update=()=>{8&n.$$.dirty&&e(5,s=r),1024&n.$$.dirty&&(n=>{const t=n.indexOf(vr);yl.set(n.slice(t+1))})(h),1028&n.$$.dirty&&"dict"==l&&(n=>{var t;const s=n.indexOf(vr),i=Js(o);e(4,m=(null===(t=i.columns.entries)||void 0===t?void 0:t.keys.findMatches(n.replace(vr,"")).map((n=>[Math.abs(n[0]-s-1),n[1],n[2]])))||[]),m.sort(((n,t)=>n[0]-t[0]))})(h),2&n.$$.dirty&&i&&Sl.set("dict")},[p,i,l,r,m,s,c,a,d,u,h,()=>Sl.set("about"),()=>Sl.set("list"),()=>Sl.set("toc"),()=>Sl.set("favorite"),()=>Sl.set("textual"),()=>Sl.set("dict"),()=>Sl.set("audio")]}class ah extends zn{constructor(n){super(),En(this,n,ch,oh,o,{tofind:10,closePopup:0})}}function dh(n){let t,e;return{c(){t=N("source"),a(t.src,e=Zi+n[1].replace(/\^\d+$/,"")+".mp3")||L(t,"src",e)},m(n,e){_(n,t,e)},p(n,s){2&s&&!a(t.src,e=Zi+n[1].replace(/\^\d+$/,"")+".mp3")&&L(t,"src",e)},d(n){n&&I(t)}}}function uh(n){let t,e=n[1]&&dh(n);return{c(){t=N("audio"),e&&e.c()},m(s,i){_(s,t,i),e&&e.m(t,null),n[3](t)},p(n,s){n[1]?e?e.p(n,s):(e=dh(n),e.c(),e.m(t,null)):e&&(e.d(1),e=null)},d(s){s&&I(t),e&&e.d(),n[3](null)}}}function fh(t){let e,s=t[1],i=uh(t);return{c(){i.c(),e=E()},m(n,t){i.m(n,t),_(n,e,t)},p(n,[t]){2&t&&o(s,s=n[1])?(i.d(1),i=uh(n),i.c(),i.m(e.parentNode,e)):i.p(n,t)},i:n,o:n,d(n){n&&I(e),i.d(n)}}}function hh(n,t,e){let s,i,l,r,o,c;f(n,jl,(n=>e(1,s=n))),f(n,al,(n=>e(2,i=n))),f(n,dl,(n=>e(5,l=n))),f(n,Hl,(n=>e(6,r=n))),f(n,Ul,(n=>e(7,o=n)));return n.$$.update=()=>{1&n.$$.dirty&&(El=c),6&n.$$.dirty&&((n,t)=>{if(!t||o||!r)return;const{timestamp:e,bookid:s}=Zl(t);if(s!==l&&nr(),!e)return;const i=e[(parseInt(n)-1)*Bl()];setTimeout((()=>{El&&(El.currentTime=i/100)}),100)})(i,s)},[c,s,i,function(n){sn[n?"unshift":"push"]((()=>{c=n,e(0,c)}))}]}class ph extends zn{constructor(n){super(),En(this,n,hh,fh,o,{})}}function gh(n){let t,e,s,i,l,o,c,a,d,u,f,h,p,g,m,v,$,k,b,w,y,x,A,q,C,O,P,E,M,j,F,R,H,U,W,D,K,J=Po("僅供非佛學專業人士使用")+"",Y=Po("漢字顯示")+"",Q=Po("全屏模式安裝步驟")+"",V=Po("安卓：添加到桌面")+"",X=Po("Vivo：先收藏書籤，編輯收藏，保存到手機桌面")+"",G=Po("iOS：加到主畫面")+"",Z=Po("本軟件不會主動收集個人資訊")+"",nn=Po("接受使用本軟件產生的任何結果")+"";function tn(t){n[3](t)}d=new Pa({props:{states:{0:"原貌",1:Po("简體（「乾後發」等不變）"),2:"简体"},storeid:Pl}});let en={label:Po("啟用時再度顯示此畫面"),design:"slider"};return void 0!==n[1]&&(en.value=n[1]),H=new Fc({props:en}),sn.push((()=>In(H,"value",tn))),{c(){t=N("span"),t.textContent=`${Po("永樂藏")} ${Vi}`,e=S(),s=N("br"),i=T(J),l=S(),o=N("br"),c=T(Y),a=T("："),Pn(d.$$.fragment),u=S(),f=N("br"),h=T(Q),p=S(),g=N("br"),m=T(V),v=S(),$=N("br"),k=T(X),b=S(),w=N("br"),y=T(G),x=S(),A=N("hr"),q=S(),C=T(Z),O=S(),P=N("br"),E=T(nn),M=S(),j=N("br"),F=N("button"),F.textContent="同意",R=S(),Pn(H.$$.fragment),L(t,"class","welcome"),B(F,"font-size","150%"),B(F,"width","100%")},m(I,N){_(I,t,N),_(I,e,N),_(I,s,N),_(I,i,N),_(I,l,N),_(I,o,N),_(I,c,N),_(I,a,N),Nn(d,I,N),_(I,u,N),_(I,f,N),_(I,h,N),_(I,p,N),_(I,g,N),_(I,m,N),_(I,v,N),_(I,$,N),_(I,k,N),_(I,b,N),_(I,w,N),_(I,y,N),_(I,x,N),_(I,A,N),_(I,q,N),_(I,C,N),_(I,O,N),_(I,P,N),_(I,E,N),_(I,M,N),_(I,j,N),_(I,F,N),_(I,R,N),Nn(H,I,N),W=!0,D||(K=z(F,"click",(function(){r(n[0])&&n[0].apply(this,arguments)})),D=!0)},p(t,e){n=t;const s={};!U&&2&e&&(U=!0,s.value=n[1],dn((()=>U=!1))),H.$set(s)},i(n){W||(yn(d.$$.fragment,n),yn(H.$$.fragment,n),W=!0)},o(n){xn(d.$$.fragment,n),xn(H.$$.fragment,n),W=!1},d(n){n&&(I(t),I(e),I(s),I(i),I(l),I(o),I(c),I(a),I(u),I(f),I(h),I(p),I(g),I(m),I(v),I($),I(k),I(b),I(w),I(y),I(x),I(A),I(q),I(C),I(O),I(P),I(E),I(M),I(j),I(F),I(R)),Tn(d,n),Tn(H,n),D=!1,K()}}}function mh(t){let e,s,i,l=t[2],r=gh(t);return{c(){e=N("div"),s=N("div"),r.c(),L(s,"class","bodytext"),L(e,"class","popup")},m(n,t){_(n,e,t),q(e,s),r.m(s,null),i=!0},p(t,[e]){4&e&&o(l,l=t[2])?(bn(),xn(r,1,1,n),wn(),r=gh(t),r.c(),yn(r,1),r.m(s,null)):r.p(t,e)},i(n){i||(yn(r),i=!0)},o(n){xn(r),i=!1},d(n){n&&I(e),r.d(n)}}}function vh(n,t,e){let s,i;f(n,Jl,(n=>e(4,s=n))),f(n,Pl,(n=>e(2,i=n)));let l=s,{closePopup:r}=t;return nn((()=>{Jl.set(l)})),n.$$set=n=>{"closePopup"in n&&e(0,r=n.closePopup)},[r,l,i,function(n){l=n,e(1,l)}]}class $h extends zn{constructor(n){super(),En(this,n,vh,mh,o,{closePopup:0})}}function kh(n,{delay:e=0,duration:s=400,easing:i=t}={}){const l=+getComputedStyle(n).opacity;return{delay:e,duration:s,easing:i,css:n=>"opacity: "+n*l}}function bh(e){let s,i,o,c,d;return{c(){s=N("img"),a(s.src,i=e[2][e[1]])||L(s,"src",i),L(s,"class","svelte-io5vfl")},m(n,t){_(n,s,t),d=!0},p(n,t){(!d||2&t&&!a(s.src,i=n[2][n[1]]))&&L(s,"src",i)},i(e){d||(e&&an((()=>{d&&(c&&c.end(1),o=function(e,s,i){const l={direction:"in"};let o,c,a=s(e,i,l),d=!1,u=0;function f(){o&&V(e,o)}function h(){const{delay:s=0,duration:i=300,easing:l=t,tick:r=n,css:h}=a||An;h&&(o=Q(e,0,1,i,s,l,h,u++)),r(0,1);const p=k()+s,g=p+i;c&&c.abort(),d=!0,an((()=>vn(e,!0,"start"))),c=x((n=>{if(d){if(n>=g)return r(1,0),vn(e,!0,"end"),f(),d=!1;if(n>=p){const t=l((n-p)/i);r(t,1-t)}}return d}))}let p=!1;return{start(){p||(p=!0,V(e),r(a)?(a=a(l),mn().then(h)):h())},invalidate(){p=!1},end(){d&&(f(),d=!1)}}}(s,kh,{}),o.start())})),d=!0)},o(e){o&&o.invalidate(),e&&(c=function(e,s,i){const o={direction:"out"};let c,a=s(e,i,o),d=!0;const u=kn;let f;function h(){const{delay:s=0,duration:i=300,easing:r=t,tick:o=n,css:h}=a||An;h&&(c=Q(e,1,0,i,s,r,h));const p=k()+s,g=p+i;an((()=>vn(e,!1,"start"))),"inert"in e&&(f=e.inert,e.inert=!0),x((n=>{if(d){if(n>=g)return o(0,1),vn(e,!1,"end"),--u.r||l(u.c),!1;if(n>=p){const t=r((n-p)/i);o(1-t,t)}}return d}))}return u.r+=1,r(a)?mn().then((()=>{a=a(o),h()})):h(),{end(n){n&&"inert"in e&&(e.inert=f),n&&a.tick&&a.tick(1,0),d&&(c&&V(e,c),d=!1)}}}(s,kh,{duration:3e3})),d=!1},d(n){n&&I(s),n&&c&&c.end()}}}function wh(n){let t,e=n[2][n[1]]&&n[0]&&bh(n);return{c(){t=N("div"),e&&e.c()},m(n,s){_(n,t,s),e&&e.m(t,null)},p(n,[s]){n[2][n[1]]&&n[0]?e?(e.p(n,s),3&s&&yn(e,1)):(e=bh(n),e.c(),yn(e,1),e.m(t,null)):e&&(bn(),xn(e,1,1,(()=>{e=null})),wn())},i(n){yn(e)},o(n){xn(e)},d(n){n&&I(t),e&&e.d()}}}function yh(n,t,e){let s;f(n,dl,(n=>e(1,s=n)));let i=!0;return setTimeout((()=>{e(0,i=!1)}),2e3),[i,s,{pphs:"pphs_ulucitta.jpg",ksitigarbha1:"ksitigarbha1.jpg",ksitigarbha2:"ksitigarbha2.jpg"}]}class xh extends zn{constructor(n){super(),En(this,n,yh,wh,o,{})}}function Ah(n){let t,e;return{c(){t=N("div"),e=T(n[0]),L(t,"class","notification")},m(n,s){_(n,t,s),q(t,e)},p(n,t){1&t&&j(e,n[0])},d(n){n&&I(t)}}}function qh(t){let e,s=t[0]&&Ah(t);return{c(){s&&s.c(),e=E()},m(n,t){s&&s.m(n,t),_(n,e,t)},p(n,[t]){n[0]?s?s.p(n,t):(s=Ah(n),s.c(),s.m(e.parentNode,e)):s&&(s.d(1),s=null)},i:n,o:n,d(n){n&&I(e),s&&s.d(n)}}}function Ch(n,t,e){let s;f(n,Ll,(n=>e(1,s=n)));let i,l="";return n.$$.update=()=>{2&n.$$.dirty&&(e(0,l=s),clearTimeout(i),i=setTimeout((()=>{e(0,l="")}),4e3))},[l,s]}class Oh extends zn{constructor(n){super(),En(this,n,Ch,qh,o,{})}}function _h(n,t,e){const s=n.slice();return s[10]=t[e],s}function Ih(n,t,e){const s=n.slice();return s[10]=t[e],s}function Ph(n,t,e){const s=n.slice();return s[10]=t[e],s}function Nh(n){let t,e,s,i,l=n[0].get(n[10])+" ";function r(){return n[6](n[10])}return{c(){t=N("span"),e=T(l),L(t,"aria-hidden","true"),L(t,"class","clickable")},m(n,l){_(n,t,l),q(t,e),s||(i=z(t,"click",r),s=!0)},p(t,s){n=t,3&s&&l!==(l=n[0].get(n[10])+" ")&&j(e,l)},d(n){n&&I(t),s=!1,i()}}}function Th(n){let t,e,s,i,l=n[0].get(n[10])+" ";function r(){return n[7](n[10])}return{c(){t=N("span"),e=T(l),L(t,"aria-hidden","true"),L(t,"class","clickable")},m(n,l){_(n,t,l),q(t,e),s||(i=z(t,"click",r),s=!0)},p(t,s){n=t,9&s&&l!==(l=n[0].get(n[10])+" ")&&j(e,l)},d(n){n&&I(t),s=!1,i()}}}function Sh(n){let t,e,s,i,l=n[0].get(n[10])+" ";function r(){return n[8](n[10])}return{c(){t=N("span"),e=T(l),L(t,"aria-hidden","true"),L(t,"class","clickable")},m(n,l){_(n,t,l),q(t,e),s||(i=z(t,"click",r),s=!0)},p(t,s){n=t,5&s&&l!==(l=n[0].get(n[10])+" ")&&j(e,l)},d(n){n&&I(t),s=!1,i()}}}function Eh(t){let e,s,i,l,r,o,c,a,d,u=qn(t[1]),f=[];for(let n=0;n<u.length;n+=1)f[n]=Nh(Ph(t,u,n));let h=qn(t[3]),p=[];for(let n=0;n<h.length;n+=1)p[n]=Th(Ih(t,h,n));let g=qn(t[2]),m=[];for(let n=0;n<g.length;n+=1)m[n]=Sh(_h(t,g,n));return{c(){e=N("div");for(let n=0;n<f.length;n+=1)f[n].c();s=S(),i=N("hr"),l=S(),r=N("div");for(let n=0;n<p.length;n+=1)p[n].c();o=S(),c=N("hr"),a=S(),d=N("div");for(let n=0;n<m.length;n+=1)m[n].c();L(e,"class","bodytext"),L(r,"class","bodytext"),L(d,"class","bodytext")},m(n,t){_(n,e,t);for(let n=0;n<f.length;n+=1)f[n]&&f[n].m(e,null);_(n,s,t),_(n,i,t),_(n,l,t),_(n,r,t);for(let n=0;n<p.length;n+=1)p[n]&&p[n].m(r,null);_(n,o,t),_(n,c,t),_(n,a,t),_(n,d,t);for(let n=0;n<m.length;n+=1)m[n]&&m[n].m(d,null)},p(n,[t]){if(3&t){let s;for(u=qn(n[1]),s=0;s<u.length;s+=1){const i=Ph(n,u,s);f[s]?f[s].p(i,t):(f[s]=Nh(i),f[s].c(),f[s].m(e,null))}for(;s<f.length;s+=1)f[s].d(1);f.length=u.length}if(9&t){let e;for(h=qn(n[3]),e=0;e<h.length;e+=1){const s=Ih(n,h,e);p[e]?p[e].p(s,t):(p[e]=Th(s),p[e].c(),p[e].m(r,null))}for(;e<p.length;e+=1)p[e].d(1);p.length=h.length}if(5&t){let e;for(g=qn(n[2]),e=0;e<g.length;e+=1){const s=_h(n,g,e);m[e]?m[e].p(s,t):(m[e]=Sh(s),m[e].c(),m[e].m(d,null))}for(;e<m.length;e+=1)m[e].d(1);m.length=g.length}},i:n,o:n,d(n){n&&(I(e),I(s),I(i),I(l),I(r),I(o),I(c),I(a),I(d)),P(f,n),P(p,n),P(m,n)}}}function zh(n,t,e){let s;f(n,ql,(n=>e(5,s=n)));let i,{ptk:l}=t,r=[],o=[],c=[];return n.$$set=n=>{"ptk"in n&&e(4,l=n.ptk)},n.$$.update=()=>{var t;32&n.$$.dirty&&(t=s,e(1,r=[]),e(2,o=[]),e(3,c=[]),t.trim()&&(t.length>4||(e(0,i=l.columns.entries.keys),e(1,r=i.enumStart(t,20)),e(2,o=i.enumMiddle(t,20)),e(3,c=i.enumEnd(t,20)))))},[i,r,o,c,l,s,n=>yl.set(i.get(n)),n=>yl.set(i.get(n)),n=>yl.set(i.get(n))]}class Lh extends zn{constructor(n){super(),En(this,n,zh,Eh,o,{ptk:4})}}function Mh(n){let t,e;return t=new Lh({props:{ptk:n[0]}}),{c(){Pn(t.$$.fragment)},m(n,s){Nn(t,n,s),e=!0},p(n,e){const s={};1&e&&(s.ptk=n[0]),t.$set(s)},i(n){e||(yn(t.$$.fragment,n),e=!0)},o(n){xn(t.$$.fragment,n),e=!1},d(n){Tn(t,n)}}}function jh(n){let t,e,s,i="input"==n[2]&&Mh(n);return{c(){t=N("div"),i&&i.c(),L(t,"class","left svelte-1uyqkjl"),L(t,"style",e="width:"+dr(n[1]))},m(n,e){_(n,t,e),i&&i.m(t,null),s=!0},p(n,[l]){"input"==n[2]?i?(i.p(n,l),4&l&&yn(i,1)):(i=Mh(n),i.c(),yn(i,1),i.m(t,null)):i&&(bn(),xn(i,1,1,(()=>{i=null})),wn()),(!s||2&l&&e!==(e="width:"+dr(n[1])))&&L(t,"style",e)},i(n){s||(yn(i),s=!0)},o(n){xn(i),s=!1},d(n){n&&I(t),i&&i.d()}}}function Fh(n,t,e){let s,i,l,r;return f(n,il,(n=>e(3,i=n))),f(n,bl,(n=>e(1,l=n))),f(n,xl,(n=>e(2,r=n))),n.$$.update=()=>{8&n.$$.dirty&&e(0,s=Js(i))},[s,l,r,i]}class Bh extends zn{constructor(n){super(),En(this,n,Fh,jh,o,{})}}function Rh(t){let e,s,i,l,r,o,c,a;return{c(){e=N("div"),s=T("永樂藏 "),i=T(Vi),l=S(),r=N("a"),r.textContent="官網",o=S(),c=N("br"),a=T(t[4]),L(r,"href","https://nissaya.cn/"),L(r,"target","_new"),L(e,"class","bodytext")},m(n,t){_(n,e,t),q(e,s),q(e,i),q(e,l),q(e,r),q(e,o),q(e,c),q(e,a)},p(n,t){16&t&&j(a,n[4])},i:n,o:n,d(n){n&&I(e)}}}function Hh(t){let e,s,i,l,r,c,a,d,u,f,h=t[9],p=t[8]&&!t[5]&&!t[6]&&!t[0]&&"on"==t[7]&&Uh(),g=Wh(t),m="folio"!==t[10]&&Dh(),v=(t[6]||t[5])&&!t[0]&&Kh(t),$=(t[5]||t[0])&&Jh(t),k=t[6]&&Yh(t);return a=new ph({}),u=new Oh({}),{c(){p&&p.c(),e=S(),g.c(),s=S(),m&&m.c(),i=S(),v&&v.c(),l=S(),$&&$.c(),r=S(),k&&k.c(),c=S(),Pn(a.$$.fragment),d=S(),Pn(u.$$.fragment)},m(n,t){p&&p.m(n,t),_(n,e,t),g.m(n,t),_(n,s,t),m&&m.m(n,t),_(n,i,t),v&&v.m(n,t),_(n,l,t),$&&$.m(n,t),_(n,r,t),k&&k.m(n,t),_(n,c,t),Nn(a,n,t),_(n,d,t),Nn(u,n,t),f=!0},p(t,a){!t[8]||t[5]||t[6]||t[0]||"on"!=t[7]?p&&(p.d(1),p=null):p||(p=Uh(),p.c(),p.m(e.parentNode,e)),512&a&&o(h,h=t[9])?(bn(),xn(g,1,1,n),wn(),g=Wh(t),g.c(),yn(g,1),g.m(s.parentNode,s)):g.p(t,a),"folio"!==t[10]?m?1024&a&&yn(m,1):(m=Dh(),m.c(),yn(m,1),m.m(i.parentNode,i)):m&&(bn(),xn(m,1,1,(()=>{m=null})),wn()),!t[6]&&!t[5]||t[0]?v&&(v.d(1),v=null):v?v.p(t,a):(v=Kh(t),v.c(),v.m(l.parentNode,l)),t[5]||t[0]?$?($.p(t,a),33&a&&yn($,1)):($=Jh(t),$.c(),yn($,1),$.m(r.parentNode,r)):$&&(bn(),xn($,1,1,(()=>{$=null})),wn()),t[6]?k?(k.p(t,a),64&a&&yn(k,1)):(k=Yh(t),k.c(),yn(k,1),k.m(c.parentNode,c)):k&&(bn(),xn(k,1,1,(()=>{k=null})),wn())},i(n){f||(yn(g),yn(m),yn($),yn(k),yn(a.$$.fragment,n),yn(u.$$.fragment,n),f=!0)},o(n){xn(g),xn(m),xn($),xn(k),xn(a.$$.fragment,n),xn(u.$$.fragment,n),f=!1},d(n){n&&(I(e),I(s),I(i),I(l),I(r),I(c),I(d)),p&&p.d(n),g.d(n),m&&m.d(n),v&&v.d(n),$&&$.d(n),k&&k.d(n),Tn(a,n),Tn(u,n)}}}function Uh(t){return{c:n,m:n,d:n}}function Wh(n){let t,e,s,i=vl&&function(){let n,t;return n=new xh({}),{c(){Pn(n.$$.fragment)},m(e,s){Nn(n,e,s),t=!0},i(e){t||(yn(n.$$.fragment,e),t=!0)},o(e){xn(n.$$.fragment,e),t=!1},d(t){Tn(n,t)}}}();return e=new Ao({props:{src:n[9]+".zip",onTapText:n[13],onMainmenu:n[12]}}),{c(){i&&i.c(),t=S(),Pn(e.$$.fragment)},m(n,l){i&&i.m(n,l),_(n,t,l),Nn(e,n,l),s=!0},p(n,t){const s={};512&t&&(s.src=n[9]+".zip"),e.$set(s)},i(n){s||(yn(i),yn(e.$$.fragment,n),s=!0)},o(n){xn(i),xn(e.$$.fragment,n),s=!1},d(n){n&&I(t),i&&i.d(n),Tn(e,n)}}}function Dh(n){let t,e;return t=new Bh({}),{c(){Pn(t.$$.fragment)},m(n,s){Nn(t,n,s),e=!0},i(n){e||(yn(t.$$.fragment,n),e=!0)},o(n){xn(t.$$.fragment,n),e=!1},d(n){Tn(t,n)}}}function Kh(t){let e,s,i;return{c(){e=N("span"),e.textContent="❌",L(e,"aria-hidden","true"),L(e,"class","closepopup")},m(n,l){_(n,e,l),s||(i=z(e,"click",t[11]),s=!0)},p:n,d(n){n&&I(e),s=!1,i()}}}function Jh(n){let t,e;return t=new ah({props:{tofind:n[1],closePopup:n[11]}}),{c(){Pn(t.$$.fragment)},m(n,s){Nn(t,n,s),e=!0},p(n,e){const s={};2&e&&(s.tofind=n[1]),t.$set(s)},i(n){e||(yn(t.$$.fragment,n),e=!0)},o(n){xn(t.$$.fragment,n),e=!1},d(n){Tn(t,n)}}}function Yh(t){let e,s;return e=new $h({props:{closePopup:t[11]}}),{c(){Pn(e.$$.fragment)},m(n,t){Nn(e,n,t),s=!0},p:n,i(n){s||(yn(e.$$.fragment,n),s=!0)},o(n){xn(e.$$.fragment,n),s=!1},d(n){Tn(e,n)}}}function Qh(n){let t,e,s,i;const l=[Hh,Rh],r=[];function o(n,t){return n[3]?0:1}return e=o(n),s=r[e]=l[e](n),{c(){t=N("div"),s.c(),L(t,"class","app")},m(s,l){_(s,t,l),r[e].m(t,null),n[14](t),i=!0},p(n,[i]){let c=e;e=o(n),e===c?r[e].p(n,i):(bn(),xn(r[c],1,1,(()=>{r[c]=null})),wn(),s=r[e],s?s.p(n,i):(s=r[e]=l[e](n),s.c()),yn(s,1),s.m(t,null))},i(n){i||(yn(s),i=!0)},o(n){xn(s),i=!1},d(s){s&&I(t),r[e].d(),n[14](null)}}}function Vh(n,t,e){let s,i,l,r,o,c,a,d,h;f(n,bl,(n=>e(0,s=n))),f(n,Sl,(n=>e(16,i=n))),f(n,Jl,(n=>e(17,l=n))),f(n,Yl,(n=>e(18,r=n))),f(n,vl,(n=>e(7,o=n))),f(n,Ql,(n=>e(8,c=n))),f(n,dl,(n=>e(9,a=n))),f(n,xl,(n=>e(10,d=n))),function(n="./sw.js"){const t=Vr(),e=document.location.protocol;"serviceWorker"in navigator&&(t||"https:"==e)&&navigator.serviceWorker.register(n)}(),wl.set(!!navigator.userAgent.match(/Android/i));const p=()=>{el.set(navigator.onLine||"127.0.0.1"==location.hostname||"localhost"==location.hostname)};let g;window.addEventListener("online",p),window.addEventListener("offline",p);let m,v=!1,$="啟動中";nn((()=>clearInterval(m)));const k=async n=>{e(4,$="try to download "+n+".ptk");const t=await Gr(Qi,n+".ptk",(t=>{e(4,$=n+".ptk "+t)})),s=await t.arrayBuffer(),i=await Ks(n,new Uint8Array(s));return ji(i),i};let b=!1,w="on"==l;return setTimeout((async()=>{qo();const n=await Zr(Qi);for(let t=0;t<Vl.length;t++)~n.indexOf(Vl[t])||n.push(Vl[t]);for(let t=0;t<n.length;t++){const s=await k(n[t]);e(4,$="open ptk "+n[t]),"dc"==n[t]&&nl(s)}e(4,$="fetching foliolist from cache"),await gr(ll),e(4,$="load folio address from url");let t=Ht();~t.indexOf("bk")||(t=localStorage.getItem(Ri+"homeurl")||""),await qr(t),e(4,$="loaded"),e(3,v=!0),m=setInterval((()=>{Ql.set(r>=5),w||b||"on"!=o||Yl.set(r+2)}),2e3)}),500),n.$$.update=()=>{var t;1&n.$$.dirty&&(t=s,e(5,b=!1),t&&e(6,w=!1),Yl.set(0))},[s,h,g,v,$,b,w,o,c,a,d,()=>{e(6,w=!1),u(bl)||e(5,b=!1)},()=>{e(5,b=!1)},n=>{e(5,b=!0),"string"==typeof n&&"$"!==n.charAt(0)?(e(1,h=n),Sl.set("dict")):(Sl.set(n.slice(1)),i||Sl.set("list"))},function(n){sn[n?"unshift":"push"]((()=>{g=n,e(2,g)}))}]}const Xh=new class extends zn{constructor(n){super(),En(this,n,Vh,Qh,o,{})}}({target:document.body});return document.querySelector("#bootmessage").innerHTML="",Xh}();
//# sourceMappingURL=index.js.map
